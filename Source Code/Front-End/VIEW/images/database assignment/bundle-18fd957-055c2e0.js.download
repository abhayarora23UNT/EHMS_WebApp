!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.katex=t():e.katex=t()}("undefined"!=typeof self?self:this,function(){return function(){"use strict";var e={d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return Kn}});var r=function e(t,r){this.position=void 0;var n,a="KaTeX parse error: "+t,i=r&&r.loc;if(i&&i.start<=i.end){var o=i.lexer.input;n=i.start;var s=i.end;n===o.length?a+=" at end of input: ":a+=" at position "+(n+1)+": ";var l=o.slice(n,s).replace(/[^]/g,"$&̲");a+=(n>15?"…"+o.slice(n-15,n):o.slice(0,n))+l+(s+15<o.length?o.slice(s,s+15)+"…":o.slice(s))}var h=new Error(a);return h.name="ParseError",h.__proto__=e.prototype,h.position=n,h};r.prototype.__proto__=Error.prototype;var n=r,a=/([A-Z])/g,i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;var s=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},l={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(o,function(e){return i[e]})},hyphenate:function(e){return e.replace(a,"-$1").toLowerCase()},getBaseElem:s,isCharacterBox:function(e){var t=s(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"}},h=function(){function e(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},this.displayMode=l.deflt(e.displayMode,!1),this.output=l.deflt(e.output,"htmlAndMathml"),this.leqno=l.deflt(e.leqno,!1),this.fleqn=l.deflt(e.fleqn,!1),this.throwOnError=l.deflt(e.throwOnError,!0),this.errorColor=l.deflt(e.errorColor,"#cc0000"),this.macros=e.macros||{},this.minRuleThickness=Math.max(0,l.deflt(e.minRuleThickness,0)),this.colorIsTextColor=l.deflt(e.colorIsTextColor,!1),this.strict=l.deflt(e.strict,"warn"),this.trust=l.deflt(e.trust,!1),this.maxSize=Math.max(0,l.deflt(e.maxSize,1/0)),this.maxExpand=Math.max(0,l.deflt(e.maxExpand,1e3)),this.globalGroup=l.deflt(e.globalGroup,!1)}var t=e.prototype;return t.reportNonstrict=function(e,t,r){var a=this.strict;if("function"==typeof a&&(a=a(e,t,r)),a&&"ignore"!==a){if(!0===a||"error"===a)throw new n("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",r);"warn"===a?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+a+"': "+t+" ["+e+"]")}},t.useStrictBehavior=function(e,t,r){var n=this.strict;if("function"==typeof n)try{n=n(e,t,r)}catch(e){n="error"}return!(!n||"ignore"===n)&&(!0===n||"error"===n||("warn"===n?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]"),!1)))},t.isTrusted=function(e){e.url&&!e.protocol&&(e.protocol=l.protocolFromUrl(e.url));var t="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(t)},e}(),m=function(){function e(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}var t=e.prototype;return t.sup=function(){return c[u[this.id]]},t.sub=function(){return c[p[this.id]]},t.fracNum=function(){return c[d[this.id]]},t.fracDen=function(){return c[f[this.id]]},t.cramp=function(){return c[g[this.id]]},t.text=function(){return c[v[this.id]]},t.isTight=function(){return this.size>=2},e}(),c=[new m(0,0,!1),new m(1,0,!0),new m(2,1,!1),new m(3,1,!0),new m(4,2,!1),new m(5,2,!0),new m(6,3,!1),new m(7,3,!0)],u=[4,5,4,5,6,7,6,7],p=[5,5,5,5,7,7,7,7],d=[2,3,4,5,6,7,6,7],f=[3,3,5,5,7,7,7,7],g=[1,1,3,3,5,5,7,7],v=[0,1,2,3,2,3,2,3],b={DISPLAY:c[0],TEXT:c[2],SCRIPT:c[4],SCRIPTSCRIPT:c[6]},y=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var x=[];function w(e){for(var t=0;t<x.length;t+=2)if(e>=x[t]&&e<=x[t+1])return!0;return!1}y.forEach(function(e){return e.blocks.forEach(function(e){return x.push.apply(x,e)})});var k=80,S={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},M=function(){function e(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e},t.toMarkup=function(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e},t.toText=function(){var e=function(e){return e.toText()};return this.children.map(e).join("")},e}(),z=function(e){return e.filter(function(e){return e}).join(" ")},A=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},T=function(e){var t=document.createElement(e);for(var r in t.className=z(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var a=0;a<this.children.length;a++)t.appendChild(this.children[a].toNode());return t},B=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+l.escape(z(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=l.hyphenate(n)+":"+this.style[n]+";");for(var a in r&&(t+=' style="'+l.escape(r)+'"'),this.attributes)this.attributes.hasOwnProperty(a)&&(t+=" "+a+'="'+l.escape(this.attributes[a])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+e+">"},q=function(){function e(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,A.call(this,e,r,n),this.children=t||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){return T.call(this,"span")},t.toMarkup=function(){return B.call(this,"span")},e}(),N=function(){function e(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,A.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){return T.call(this,"a")},t.toMarkup=function(){return B.call(this,"a")},e}(),C=function(){function e(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e},t.toMarkup=function(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=l.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+l.escape(t)+'"'),e+="'/>"},e}(),I={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},O=function(){function e(e,t,r,n,a,i,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=a||0,this.width=i||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<y.length;t++)for(var r=y[t],n=0;n<r.blocks.length;n++){var a=r.blocks[n];if(e>=a[0]&&e<=a[1])return r.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=I[this.text])}var t=e.prototype;return t.hasClass=function(e){return l.contains(this.classes,e)},t.toNode=function(){var e=document.createTextNode(this.text),t=null;for(var r in this.italic>0&&((t=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((t=t||document.createElement("span")).className=z(this.classes)),this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e},t.toMarkup=function(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=l.escape(z(this.classes)),t+='"');var r="";for(var n in this.italic>0&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(r+=l.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+l.escape(r)+'"');var a=l.escape(this.text);return e?(t+=">",t+=a,t+="</span>"):a},e}(),R=function(){function e(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},t.toMarkup=function(){var e="<svg";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>"},e}(),E=function(){function e(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",S[this.pathName]),e},t.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+S[this.pathName]+"'/>"},e}(),H=function(){function e(e){this.attributes=void 0,this.attributes=e||{}}var t=e.prototype;return t.toNode=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e},t.toMarkup=function(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>"},e}();function L(e){if(e instanceof O)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var D={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},P={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},F={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function V(e,t,r){if(!D[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),a=D[t][n];if(!a&&e[0]in F&&(n=F[e[0]].charCodeAt(0),a=D[t][n]),a||"text"!==r||w(n)&&(a=D[t][77]),a)return{depth:a[0],height:a[1],italic:a[2],skew:a[3],width:a[4]}}var G={};var U={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Y={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},W={math:{},text:{}},X=W;function _(e,t,r,n,a,i){W[e][a]={font:t,group:r,replace:n},i&&n&&(W[e][n]=W[e][a])}var j="math",$="text",Z="main",K="ams",J="accent-token",Q="bin",ee="close",te="inner",re="mathord",ne="op-token",ae="open",ie="punct",oe="rel",se="spacing",le="textord";_(j,Z,oe,"≡","\\equiv",!0),_(j,Z,oe,"≺","\\prec",!0),_(j,Z,oe,"≻","\\succ",!0),_(j,Z,oe,"∼","\\sim",!0),_(j,Z,oe,"⊥","\\perp"),_(j,Z,oe,"⪯","\\preceq",!0),_(j,Z,oe,"⪰","\\succeq",!0),_(j,Z,oe,"≃","\\simeq",!0),_(j,Z,oe,"∣","\\mid",!0),_(j,Z,oe,"≪","\\ll",!0),_(j,Z,oe,"≫","\\gg",!0),_(j,Z,oe,"≍","\\asymp",!0),_(j,Z,oe,"∥","\\parallel"),_(j,Z,oe,"⋈","\\bowtie",!0),_(j,Z,oe,"⌣","\\smile",!0),_(j,Z,oe,"⊑","\\sqsubseteq",!0),_(j,Z,oe,"⊒","\\sqsupseteq",!0),_(j,Z,oe,"≐","\\doteq",!0),_(j,Z,oe,"⌢","\\frown",!0),_(j,Z,oe,"∋","\\ni",!0),_(j,Z,oe,"∝","\\propto",!0),_(j,Z,oe,"⊢","\\vdash",!0),_(j,Z,oe,"⊣","\\dashv",!0),_(j,Z,oe,"∋","\\owns"),_(j,Z,ie,".","\\ldotp"),_(j,Z,ie,"⋅","\\cdotp"),_(j,Z,le,"#","\\#"),_($,Z,le,"#","\\#"),_(j,Z,le,"&","\\&"),_($,Z,le,"&","\\&"),_(j,Z,le,"ℵ","\\aleph",!0),_(j,Z,le,"∀","\\forall",!0),_(j,Z,le,"ℏ","\\hbar",!0),_(j,Z,le,"∃","\\exists",!0),_(j,Z,le,"∇","\\nabla",!0),_(j,Z,le,"♭","\\flat",!0),_(j,Z,le,"ℓ","\\ell",!0),_(j,Z,le,"♮","\\natural",!0),_(j,Z,le,"♣","\\clubsuit",!0),_(j,Z,le,"℘","\\wp",!0),_(j,Z,le,"♯","\\sharp",!0),_(j,Z,le,"♢","\\diamondsuit",!0),_(j,Z,le,"ℜ","\\Re",!0),_(j,Z,le,"♡","\\heartsuit",!0),_(j,Z,le,"ℑ","\\Im",!0),_(j,Z,le,"♠","\\spadesuit",!0),_($,Z,le,"§","\\S",!0),_($,Z,le,"¶","\\P",!0),_(j,Z,le,"†","\\dag"),_($,Z,le,"†","\\dag"),_($,Z,le,"†","\\textdagger"),_(j,Z,le,"‡","\\ddag"),_($,Z,le,"‡","\\ddag"),_($,Z,le,"‡","\\textdaggerdbl"),_(j,Z,ee,"⎱","\\rmoustache",!0),_(j,Z,ae,"⎰","\\lmoustache",!0),_(j,Z,ee,"⟯","\\rgroup",!0),_(j,Z,ae,"⟮","\\lgroup",!0),_(j,Z,Q,"∓","\\mp",!0),_(j,Z,Q,"⊖","\\ominus",!0),_(j,Z,Q,"⊎","\\uplus",!0),_(j,Z,Q,"⊓","\\sqcap",!0),_(j,Z,Q,"∗","\\ast"),_(j,Z,Q,"⊔","\\sqcup",!0),_(j,Z,Q,"◯","\\bigcirc",!0),_(j,Z,Q,"∙","\\bullet"),_(j,Z,Q,"‡","\\ddagger"),_(j,Z,Q,"≀","\\wr",!0),_(j,Z,Q,"⨿","\\amalg"),_(j,Z,Q,"&","\\And"),_(j,Z,oe,"⟵","\\longleftarrow",!0),_(j,Z,oe,"⇐","\\Leftarrow",!0),_(j,Z,oe,"⟸","\\Longleftarrow",!0),_(j,Z,oe,"⟶","\\longrightarrow",!0),_(j,Z,oe,"⇒","\\Rightarrow",!0),_(j,Z,oe,"⟹","\\Longrightarrow",!0),_(j,Z,oe,"↔","\\leftrightarrow",!0),_(j,Z,oe,"⟷","\\longleftrightarrow",!0),_(j,Z,oe,"⇔","\\Leftrightarrow",!0),_(j,Z,oe,"⟺","\\Longleftrightarrow",!0),_(j,Z,oe,"↦","\\mapsto",!0),_(j,Z,oe,"⟼","\\longmapsto",!0),_(j,Z,oe,"↗","\\nearrow",!0),_(j,Z,oe,"↩","\\hookleftarrow",!0),_(j,Z,oe,"↪","\\hookrightarrow",!0),_(j,Z,oe,"↘","\\searrow",!0),_(j,Z,oe,"↼","\\leftharpoonup",!0),_(j,Z,oe,"⇀","\\rightharpoonup",!0),_(j,Z,oe,"↙","\\swarrow",!0),_(j,Z,oe,"↽","\\leftharpoondown",!0),_(j,Z,oe,"⇁","\\rightharpoondown",!0),_(j,Z,oe,"↖","\\nwarrow",!0),_(j,Z,oe,"⇌","\\rightleftharpoons",!0),_(j,K,oe,"≮","\\nless",!0),_(j,K,oe,"","\\@nleqslant"),_(j,K,oe,"","\\@nleqq"),_(j,K,oe,"⪇","\\lneq",!0),_(j,K,oe,"≨","\\lneqq",!0),_(j,K,oe,"","\\@lvertneqq"),_(j,K,oe,"⋦","\\lnsim",!0),_(j,K,oe,"⪉","\\lnapprox",!0),_(j,K,oe,"⊀","\\nprec",!0),_(j,K,oe,"⋠","\\npreceq",!0),_(j,K,oe,"⋨","\\precnsim",!0),_(j,K,oe,"⪹","\\precnapprox",!0),_(j,K,oe,"≁","\\nsim",!0),_(j,K,oe,"","\\@nshortmid"),_(j,K,oe,"∤","\\nmid",!0),_(j,K,oe,"⊬","\\nvdash",!0),_(j,K,oe,"⊭","\\nvDash",!0),_(j,K,oe,"⋪","\\ntriangleleft"),_(j,K,oe,"⋬","\\ntrianglelefteq",!0),_(j,K,oe,"⊊","\\subsetneq",!0),_(j,K,oe,"","\\@varsubsetneq"),_(j,K,oe,"⫋","\\subsetneqq",!0),_(j,K,oe,"","\\@varsubsetneqq"),_(j,K,oe,"≯","\\ngtr",!0),_(j,K,oe,"","\\@ngeqslant"),_(j,K,oe,"","\\@ngeqq"),_(j,K,oe,"⪈","\\gneq",!0),_(j,K,oe,"≩","\\gneqq",!0),_(j,K,oe,"","\\@gvertneqq"),_(j,K,oe,"⋧","\\gnsim",!0),_(j,K,oe,"⪊","\\gnapprox",!0),_(j,K,oe,"⊁","\\nsucc",!0),_(j,K,oe,"⋡","\\nsucceq",!0),_(j,K,oe,"⋩","\\succnsim",!0),_(j,K,oe,"⪺","\\succnapprox",!0),_(j,K,oe,"≆","\\ncong",!0),_(j,K,oe,"","\\@nshortparallel"),_(j,K,oe,"∦","\\nparallel",!0),_(j,K,oe,"⊯","\\nVDash",!0),_(j,K,oe,"⋫","\\ntriangleright"),_(j,K,oe,"⋭","\\ntrianglerighteq",!0),_(j,K,oe,"","\\@nsupseteqq"),_(j,K,oe,"⊋","\\supsetneq",!0),_(j,K,oe,"","\\@varsupsetneq"),_(j,K,oe,"⫌","\\supsetneqq",!0),_(j,K,oe,"","\\@varsupsetneqq"),_(j,K,oe,"⊮","\\nVdash",!0),_(j,K,oe,"⪵","\\precneqq",!0),_(j,K,oe,"⪶","\\succneqq",!0),_(j,K,oe,"","\\@nsubseteqq"),_(j,K,Q,"⊴","\\unlhd"),_(j,K,Q,"⊵","\\unrhd"),_(j,K,oe,"↚","\\nleftarrow",!0),_(j,K,oe,"↛","\\nrightarrow",!0),_(j,K,oe,"⇍","\\nLeftarrow",!0),_(j,K,oe,"⇏","\\nRightarrow",!0),_(j,K,oe,"↮","\\nleftrightarrow",!0),_(j,K,oe,"⇎","\\nLeftrightarrow",!0),_(j,K,oe,"△","\\vartriangle"),_(j,K,le,"ℏ","\\hslash"),_(j,K,le,"▽","\\triangledown"),_(j,K,le,"◊","\\lozenge"),_(j,K,le,"Ⓢ","\\circledS"),_(j,K,le,"®","\\circledR"),_($,K,le,"®","\\circledR"),_(j,K,le,"∡","\\measuredangle",!0),_(j,K,le,"∄","\\nexists"),_(j,K,le,"℧","\\mho"),_(j,K,le,"Ⅎ","\\Finv",!0),_(j,K,le,"⅁","\\Game",!0),_(j,K,le,"‵","\\backprime"),_(j,K,le,"▲","\\blacktriangle"),_(j,K,le,"▼","\\blacktriangledown"),_(j,K,le,"■","\\blacksquare"),_(j,K,le,"⧫","\\blacklozenge"),_(j,K,le,"★","\\bigstar"),_(j,K,le,"∢","\\sphericalangle",!0),_(j,K,le,"∁","\\complement",!0),_(j,K,le,"ð","\\eth",!0),_($,Z,le,"ð","ð"),_(j,K,le,"╱","\\diagup"),_(j,K,le,"╲","\\diagdown"),_(j,K,le,"□","\\square"),_(j,K,le,"□","\\Box"),_(j,K,le,"◊","\\Diamond"),_(j,K,le,"¥","\\yen",!0),_($,K,le,"¥","\\yen",!0),_(j,K,le,"✓","\\checkmark",!0),_($,K,le,"✓","\\checkmark"),_(j,K,le,"ℶ","\\beth",!0),_(j,K,le,"ℸ","\\daleth",!0),_(j,K,le,"ℷ","\\gimel",!0),_(j,K,le,"ϝ","\\digamma",!0),_(j,K,le,"ϰ","\\varkappa"),_(j,K,ae,"┌","\\@ulcorner",!0),_(j,K,ee,"┐","\\@urcorner",!0),_(j,K,ae,"└","\\@llcorner",!0),_(j,K,ee,"┘","\\@lrcorner",!0),_(j,K,oe,"≦","\\leqq",!0),_(j,K,oe,"⩽","\\leqslant",!0),_(j,K,oe,"⪕","\\eqslantless",!0),_(j,K,oe,"≲","\\lesssim",!0),_(j,K,oe,"⪅","\\lessapprox",!0),_(j,K,oe,"≊","\\approxeq",!0),_(j,K,Q,"⋖","\\lessdot"),_(j,K,oe,"⋘","\\lll",!0),_(j,K,oe,"≶","\\lessgtr",!0),_(j,K,oe,"⋚","\\lesseqgtr",!0),_(j,K,oe,"⪋","\\lesseqqgtr",!0),_(j,K,oe,"≑","\\doteqdot"),_(j,K,oe,"≓","\\risingdotseq",!0),_(j,K,oe,"≒","\\fallingdotseq",!0),_(j,K,oe,"∽","\\backsim",!0),_(j,K,oe,"⋍","\\backsimeq",!0),_(j,K,oe,"⫅","\\subseteqq",!0),_(j,K,oe,"⋐","\\Subset",!0),_(j,K,oe,"⊏","\\sqsubset",!0),_(j,K,oe,"≼","\\preccurlyeq",!0),_(j,K,oe,"⋞","\\curlyeqprec",!0),_(j,K,oe,"≾","\\precsim",!0),_(j,K,oe,"⪷","\\precapprox",!0),_(j,K,oe,"⊲","\\vartriangleleft"),_(j,K,oe,"⊴","\\trianglelefteq"),_(j,K,oe,"⊨","\\vDash",!0),_(j,K,oe,"⊪","\\Vvdash",!0),_(j,K,oe,"⌣","\\smallsmile"),_(j,K,oe,"⌢","\\smallfrown"),_(j,K,oe,"≏","\\bumpeq",!0),_(j,K,oe,"≎","\\Bumpeq",!0),_(j,K,oe,"≧","\\geqq",!0),_(j,K,oe,"⩾","\\geqslant",!0),_(j,K,oe,"⪖","\\eqslantgtr",!0),_(j,K,oe,"≳","\\gtrsim",!0),_(j,K,oe,"⪆","\\gtrapprox",!0),_(j,K,Q,"⋗","\\gtrdot"),_(j,K,oe,"⋙","\\ggg",!0),_(j,K,oe,"≷","\\gtrless",!0),_(j,K,oe,"⋛","\\gtreqless",!0),_(j,K,oe,"⪌","\\gtreqqless",!0),_(j,K,oe,"≖","\\eqcirc",!0),_(j,K,oe,"≗","\\circeq",!0),_(j,K,oe,"≜","\\triangleq",!0),_(j,K,oe,"∼","\\thicksim"),_(j,K,oe,"≈","\\thickapprox"),_(j,K,oe,"⫆","\\supseteqq",!0),_(j,K,oe,"⋑","\\Supset",!0),_(j,K,oe,"⊐","\\sqsupset",!0),_(j,K,oe,"≽","\\succcurlyeq",!0),_(j,K,oe,"⋟","\\curlyeqsucc",!0),_(j,K,oe,"≿","\\succsim",!0),_(j,K,oe,"⪸","\\succapprox",!0),_(j,K,oe,"⊳","\\vartriangleright"),_(j,K,oe,"⊵","\\trianglerighteq"),_(j,K,oe,"⊩","\\Vdash",!0),_(j,K,oe,"∣","\\shortmid"),_(j,K,oe,"∥","\\shortparallel"),_(j,K,oe,"≬","\\between",!0),_(j,K,oe,"⋔","\\pitchfork",!0),_(j,K,oe,"∝","\\varpropto"),_(j,K,oe,"◀","\\blacktriangleleft"),_(j,K,oe,"∴","\\therefore",!0),_(j,K,oe,"∍","\\backepsilon"),_(j,K,oe,"▶","\\blacktriangleright"),_(j,K,oe,"∵","\\because",!0),_(j,K,oe,"⋘","\\llless"),_(j,K,oe,"⋙","\\gggtr"),_(j,K,Q,"⊲","\\lhd"),_(j,K,Q,"⊳","\\rhd"),_(j,K,oe,"≂","\\eqsim",!0),_(j,Z,oe,"⋈","\\Join"),_(j,K,oe,"≑","\\Doteq",!0),_(j,K,Q,"∔","\\dotplus",!0),_(j,K,Q,"∖","\\smallsetminus"),_(j,K,Q,"⋒","\\Cap",!0),_(j,K,Q,"⋓","\\Cup",!0),_(j,K,Q,"⩞","\\doublebarwedge",!0),_(j,K,Q,"⊟","\\boxminus",!0),_(j,K,Q,"⊞","\\boxplus",!0),_(j,K,Q,"⋇","\\divideontimes",!0),_(j,K,Q,"⋉","\\ltimes",!0),_(j,K,Q,"⋊","\\rtimes",!0),_(j,K,Q,"⋋","\\leftthreetimes",!0),_(j,K,Q,"⋌","\\rightthreetimes",!0),_(j,K,Q,"⋏","\\curlywedge",!0),_(j,K,Q,"⋎","\\curlyvee",!0),_(j,K,Q,"⊝","\\circleddash",!0),_(j,K,Q,"⊛","\\circledast",!0),_(j,K,Q,"⋅","\\centerdot"),_(j,K,Q,"⊺","\\intercal",!0),_(j,K,Q,"⋒","\\doublecap"),_(j,K,Q,"⋓","\\doublecup"),_(j,K,Q,"⊠","\\boxtimes",!0),_(j,K,oe,"⇢","\\dashrightarrow",!0),_(j,K,oe,"⇠","\\dashleftarrow",!0),_(j,K,oe,"⇇","\\leftleftarrows",!0),_(j,K,oe,"⇆","\\leftrightarrows",!0),_(j,K,oe,"⇚","\\Lleftarrow",!0),_(j,K,oe,"↞","\\twoheadleftarrow",!0),_(j,K,oe,"↢","\\leftarrowtail",!0),_(j,K,oe,"↫","\\looparrowleft",!0),_(j,K,oe,"⇋","\\leftrightharpoons",!0),_(j,K,oe,"↶","\\curvearrowleft",!0),_(j,K,oe,"↺","\\circlearrowleft",!0),_(j,K,oe,"↰","\\Lsh",!0),_(j,K,oe,"⇈","\\upuparrows",!0),_(j,K,oe,"↿","\\upharpoonleft",!0),_(j,K,oe,"⇃","\\downharpoonleft",!0),_(j,Z,oe,"⊶","\\origof",!0),_(j,Z,oe,"⊷","\\imageof",!0),_(j,K,oe,"⊸","\\multimap",!0),_(j,K,oe,"↭","\\leftrightsquigarrow",!0),_(j,K,oe,"⇉","\\rightrightarrows",!0),_(j,K,oe,"⇄","\\rightleftarrows",!0),_(j,K,oe,"↠","\\twoheadrightarrow",!0),_(j,K,oe,"↣","\\rightarrowtail",!0),_(j,K,oe,"↬","\\looparrowright",!0),_(j,K,oe,"↷","\\curvearrowright",!0),_(j,K,oe,"↻","\\circlearrowright",!0),_(j,K,oe,"↱","\\Rsh",!0),_(j,K,oe,"⇊","\\downdownarrows",!0),_(j,K,oe,"↾","\\upharpoonright",!0),_(j,K,oe,"⇂","\\downharpoonright",!0),_(j,K,oe,"⇝","\\rightsquigarrow",!0),_(j,K,oe,"⇝","\\leadsto"),_(j,K,oe,"⇛","\\Rrightarrow",!0),_(j,K,oe,"↾","\\restriction"),_(j,Z,le,"‘","`"),_(j,Z,le,"$","\\$"),_($,Z,le,"$","\\$"),_($,Z,le,"$","\\textdollar"),_(j,Z,le,"%","\\%"),_($,Z,le,"%","\\%"),_(j,Z,le,"_","\\_"),_($,Z,le,"_","\\_"),_($,Z,le,"_","\\textunderscore"),_(j,Z,le,"∠","\\angle",!0),_(j,Z,le,"∞","\\infty",!0),_(j,Z,le,"′","\\prime"),_(j,Z,le,"△","\\triangle"),_(j,Z,le,"Γ","\\Gamma",!0),_(j,Z,le,"Δ","\\Delta",!0),_(j,Z,le,"Θ","\\Theta",!0),_(j,Z,le,"Λ","\\Lambda",!0),_(j,Z,le,"Ξ","\\Xi",!0),_(j,Z,le,"Π","\\Pi",!0),_(j,Z,le,"Σ","\\Sigma",!0),_(j,Z,le,"Υ","\\Upsilon",!0),_(j,Z,le,"Φ","\\Phi",!0),_(j,Z,le,"Ψ","\\Psi",!0),_(j,Z,le,"Ω","\\Omega",!0),_(j,Z,le,"A","Α"),_(j,Z,le,"B","Β"),_(j,Z,le,"E","Ε"),_(j,Z,le,"Z","Ζ"),_(j,Z,le,"H","Η"),_(j,Z,le,"I","Ι"),_(j,Z,le,"K","Κ"),_(j,Z,le,"M","Μ"),_(j,Z,le,"N","Ν"),_(j,Z,le,"O","Ο"),_(j,Z,le,"P","Ρ"),_(j,Z,le,"T","Τ"),_(j,Z,le,"X","Χ"),_(j,Z,le,"¬","\\neg",!0),_(j,Z,le,"¬","\\lnot"),_(j,Z,le,"⊤","\\top"),_(j,Z,le,"⊥","\\bot"),_(j,Z,le,"∅","\\emptyset"),_(j,K,le,"∅","\\varnothing"),_(j,Z,re,"α","\\alpha",!0),_(j,Z,re,"β","\\beta",!0),_(j,Z,re,"γ","\\gamma",!0),_(j,Z,re,"δ","\\delta",!0),_(j,Z,re,"ϵ","\\epsilon",!0),_(j,Z,re,"ζ","\\zeta",!0),_(j,Z,re,"η","\\eta",!0),_(j,Z,re,"θ","\\theta",!0),_(j,Z,re,"ι","\\iota",!0),_(j,Z,re,"κ","\\kappa",!0),_(j,Z,re,"λ","\\lambda",!0),_(j,Z,re,"μ","\\mu",!0),_(j,Z,re,"ν","\\nu",!0),_(j,Z,re,"ξ","\\xi",!0),_(j,Z,re,"ο","\\omicron",!0),_(j,Z,re,"π","\\pi",!0),_(j,Z,re,"ρ","\\rho",!0),_(j,Z,re,"σ","\\sigma",!0),_(j,Z,re,"τ","\\tau",!0),_(j,Z,re,"υ","\\upsilon",!0),_(j,Z,re,"ϕ","\\phi",!0),_(j,Z,re,"χ","\\chi",!0),_(j,Z,re,"ψ","\\psi",!0),_(j,Z,re,"ω","\\omega",!0),_(j,Z,re,"ε","\\varepsilon",!0),_(j,Z,re,"ϑ","\\vartheta",!0),_(j,Z,re,"ϖ","\\varpi",!0),_(j,Z,re,"ϱ","\\varrho",!0),_(j,Z,re,"ς","\\varsigma",!0),_(j,Z,re,"φ","\\varphi",!0),_(j,Z,Q,"∗","*"),_(j,Z,Q,"+","+"),_(j,Z,Q,"−","-"),_(j,Z,Q,"⋅","\\cdot",!0),_(j,Z,Q,"∘","\\circ"),_(j,Z,Q,"÷","\\div",!0),_(j,Z,Q,"±","\\pm",!0),_(j,Z,Q,"×","\\times",!0),_(j,Z,Q,"∩","\\cap",!0),_(j,Z,Q,"∪","\\cup",!0),_(j,Z,Q,"∖","\\setminus"),_(j,Z,Q,"∧","\\land"),_(j,Z,Q,"∨","\\lor"),_(j,Z,Q,"∧","\\wedge",!0),_(j,Z,Q,"∨","\\vee",!0),_(j,Z,le,"√","\\surd"),_(j,Z,ae,"⟨","\\langle",!0),_(j,Z,ae,"∣","\\lvert"),_(j,Z,ae,"∥","\\lVert"),_(j,Z,ee,"?","?"),_(j,Z,ee,"!","!"),_(j,Z,ee,"⟩","\\rangle",!0),_(j,Z,ee,"∣","\\rvert"),_(j,Z,ee,"∥","\\rVert"),_(j,Z,oe,"=","="),_(j,Z,oe,":",":"),_(j,Z,oe,"≈","\\approx",!0),_(j,Z,oe,"≅","\\cong",!0),_(j,Z,oe,"≥","\\ge"),_(j,Z,oe,"≥","\\geq",!0),_(j,Z,oe,"←","\\gets"),_(j,Z,oe,">","\\gt",!0),_(j,Z,oe,"∈","\\in",!0),_(j,Z,oe,"","\\@not"),_(j,Z,oe,"⊂","\\subset",!0),_(j,Z,oe,"⊃","\\supset",!0),_(j,Z,oe,"⊆","\\subseteq",!0),_(j,Z,oe,"⊇","\\supseteq",!0),_(j,K,oe,"⊈","\\nsubseteq",!0),_(j,K,oe,"⊉","\\nsupseteq",!0),_(j,Z,oe,"⊨","\\models"),_(j,Z,oe,"←","\\leftarrow",!0),_(j,Z,oe,"≤","\\le"),_(j,Z,oe,"≤","\\leq",!0),_(j,Z,oe,"<","\\lt",!0),_(j,Z,oe,"→","\\rightarrow",!0),_(j,Z,oe,"→","\\to"),_(j,K,oe,"≱","\\ngeq",!0),_(j,K,oe,"≰","\\nleq",!0),_(j,Z,se," ","\\ "),_(j,Z,se," ","~"),_(j,Z,se," ","\\space"),_(j,Z,se," ","\\nobreakspace"),_($,Z,se," ","\\ "),_($,Z,se," "," "),_($,Z,se," ","~"),_($,Z,se," ","\\space"),_($,Z,se," ","\\nobreakspace"),_(j,Z,se,null,"\\nobreak"),_(j,Z,se,null,"\\allowbreak"),_(j,Z,ie,",",","),_(j,Z,ie,";",";"),_(j,K,Q,"⊼","\\barwedge",!0),_(j,K,Q,"⊻","\\veebar",!0),_(j,Z,Q,"⊙","\\odot",!0),_(j,Z,Q,"⊕","\\oplus",!0),_(j,Z,Q,"⊗","\\otimes",!0),_(j,Z,le,"∂","\\partial",!0),_(j,Z,Q,"⊘","\\oslash",!0),_(j,K,Q,"⊚","\\circledcirc",!0),_(j,K,Q,"⊡","\\boxdot",!0),_(j,Z,Q,"△","\\bigtriangleup"),_(j,Z,Q,"▽","\\bigtriangledown"),_(j,Z,Q,"†","\\dagger"),_(j,Z,Q,"⋄","\\diamond"),_(j,Z,Q,"⋆","\\star"),_(j,Z,Q,"◃","\\triangleleft"),_(j,Z,Q,"▹","\\triangleright"),_(j,Z,ae,"{","\\{"),_($,Z,le,"{","\\{"),_($,Z,le,"{","\\textbraceleft"),_(j,Z,ee,"}","\\}"),_($,Z,le,"}","\\}"),_($,Z,le,"}","\\textbraceright"),_(j,Z,ae,"{","\\lbrace"),_(j,Z,ee,"}","\\rbrace"),_(j,Z,ae,"[","\\lbrack",!0),_($,Z,le,"[","\\lbrack",!0),_(j,Z,ee,"]","\\rbrack",!0),_($,Z,le,"]","\\rbrack",!0),_(j,Z,ae,"(","\\lparen",!0),_(j,Z,ee,")","\\rparen",!0),_($,Z,le,"<","\\textless",!0),_($,Z,le,">","\\textgreater",!0),_(j,Z,ae,"⌊","\\lfloor",!0),_(j,Z,ee,"⌋","\\rfloor",!0),_(j,Z,ae,"⌈","\\lceil",!0),_(j,Z,ee,"⌉","\\rceil",!0),_(j,Z,le,"\\","\\backslash"),_(j,Z,le,"∣","|"),_(j,Z,le,"∣","\\vert"),_($,Z,le,"|","\\textbar",!0),_(j,Z,le,"∥","\\|"),_(j,Z,le,"∥","\\Vert"),_($,Z,le,"∥","\\textbardbl"),_($,Z,le,"~","\\textasciitilde"),_($,Z,le,"\\","\\textbackslash"),_($,Z,le,"^","\\textasciicircum"),_(j,Z,oe,"↑","\\uparrow",!0),_(j,Z,oe,"⇑","\\Uparrow",!0),_(j,Z,oe,"↓","\\downarrow",!0),_(j,Z,oe,"⇓","\\Downarrow",!0),_(j,Z,oe,"↕","\\updownarrow",!0),_(j,Z,oe,"⇕","\\Updownarrow",!0),_(j,Z,ne,"∐","\\coprod"),_(j,Z,ne,"⋁","\\bigvee"),_(j,Z,ne,"⋀","\\bigwedge"),_(j,Z,ne,"⨄","\\biguplus"),_(j,Z,ne,"⋂","\\bigcap"),_(j,Z,ne,"⋃","\\bigcup"),_(j,Z,ne,"∫","\\int"),_(j,Z,ne,"∫","\\intop"),_(j,Z,ne,"∬","\\iint"),_(j,Z,ne,"∭","\\iiint"),_(j,Z,ne,"∏","\\prod"),_(j,Z,ne,"∑","\\sum"),_(j,Z,ne,"⨂","\\bigotimes"),_(j,Z,ne,"⨁","\\bigoplus"),_(j,Z,ne,"⨀","\\bigodot"),_(j,Z,ne,"∮","\\oint"),_(j,Z,ne,"∯","\\oiint"),_(j,Z,ne,"∰","\\oiiint"),_(j,Z,ne,"⨆","\\bigsqcup"),_(j,Z,ne,"∫","\\smallint"),_($,Z,te,"…","\\textellipsis"),_(j,Z,te,"…","\\mathellipsis"),_($,Z,te,"…","\\ldots",!0),_(j,Z,te,"…","\\ldots",!0),_(j,Z,te,"⋯","\\@cdots",!0),_(j,Z,te,"⋱","\\ddots",!0),_(j,Z,le,"⋮","\\varvdots"),_(j,Z,J,"ˊ","\\acute"),_(j,Z,J,"ˋ","\\grave"),_(j,Z,J,"¨","\\ddot"),_(j,Z,J,"~","\\tilde"),_(j,Z,J,"ˉ","\\bar"),_(j,Z,J,"˘","\\breve"),_(j,Z,J,"ˇ","\\check"),_(j,Z,J,"^","\\hat"),_(j,Z,J,"⃗","\\vec"),_(j,Z,J,"˙","\\dot"),_(j,Z,J,"˚","\\mathring"),_(j,Z,re,"","\\@imath"),_(j,Z,re,"","\\@jmath"),_(j,Z,le,"ı","ı"),_(j,Z,le,"ȷ","ȷ"),_($,Z,le,"ı","\\i",!0),_($,Z,le,"ȷ","\\j",!0),_($,Z,le,"ß","\\ss",!0),_($,Z,le,"æ","\\ae",!0),_($,Z,le,"œ","\\oe",!0),_($,Z,le,"ø","\\o",!0),_($,Z,le,"Æ","\\AE",!0),_($,Z,le,"Œ","\\OE",!0),_($,Z,le,"Ø","\\O",!0),_($,Z,J,"ˊ","\\'"),_($,Z,J,"ˋ","\\`"),_($,Z,J,"ˆ","\\^"),_($,Z,J,"˜","\\~"),_($,Z,J,"ˉ","\\="),_($,Z,J,"˘","\\u"),_($,Z,J,"˙","\\."),_($,Z,J,"˚","\\r"),_($,Z,J,"ˇ","\\v"),_($,Z,J,"¨",'\\"'),_($,Z,J,"˝","\\H"),_($,Z,J,"◯","\\textcircled");var he={"--":!0,"---":!0,"``":!0,"''":!0};_($,Z,le,"–","--",!0),_($,Z,le,"–","\\textendash"),_($,Z,le,"—","---",!0),_($,Z,le,"—","\\textemdash"),_($,Z,le,"‘","`",!0),_($,Z,le,"‘","\\textquoteleft"),_($,Z,le,"’","'",!0),_($,Z,le,"’","\\textquoteright"),_($,Z,le,"“","``",!0),_($,Z,le,"“","\\textquotedblleft"),_($,Z,le,"”","''",!0),_($,Z,le,"”","\\textquotedblright"),_(j,Z,le,"°","\\degree",!0),_($,Z,le,"°","\\degree"),_($,Z,le,"°","\\textdegree",!0),_(j,Z,le,"£","\\pounds"),_(j,Z,le,"£","\\mathsterling",!0),_($,Z,le,"£","\\pounds"),_($,Z,le,"£","\\textsterling",!0),_(j,K,le,"✠","\\maltese"),_($,K,le,"✠","\\maltese");for(var me='0123456789/@."',ce=0;ce<me.length;ce++){var ue=me.charAt(ce);_(j,Z,le,ue,ue)}for(var pe='0123456789!@*()-=+";:?/.,',de=0;de<pe.length;de++){var fe=pe.charAt(de);_($,Z,le,fe,fe)}for(var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ve=0;ve<ge.length;ve++){var be=ge.charAt(ve);_(j,Z,re,be,be),_($,Z,le,be,be)}_(j,K,le,"C","ℂ"),_($,K,le,"C","ℂ"),_(j,K,le,"H","ℍ"),_($,K,le,"H","ℍ"),_(j,K,le,"N","ℕ"),_($,K,le,"N","ℕ"),_(j,K,le,"P","ℙ"),_($,K,le,"P","ℙ"),_(j,K,le,"Q","ℚ"),_($,K,le,"Q","ℚ"),_(j,K,le,"R","ℝ"),_($,K,le,"R","ℝ"),_(j,K,le,"Z","ℤ"),_($,K,le,"Z","ℤ"),_(j,Z,re,"h","ℎ"),_($,Z,re,"h","ℎ");for(var ye="",xe=0;xe<ge.length;xe++){var we=ge.charAt(xe);_(j,Z,re,we,ye=String.fromCharCode(55349,56320+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56372+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56424+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56580+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56736+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56788+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56840+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56944+xe)),_($,Z,le,we,ye),xe<26&&(_(j,Z,re,we,ye=String.fromCharCode(55349,56632+xe)),_($,Z,le,we,ye),_(j,Z,re,we,ye=String.fromCharCode(55349,56476+xe)),_($,Z,le,we,ye))}_(j,Z,re,"k",ye=String.fromCharCode(55349,56668)),_($,Z,le,"k",ye);for(var ke=0;ke<10;ke++){var Se=ke.toString();_(j,Z,re,Se,ye=String.fromCharCode(55349,57294+ke)),_($,Z,le,Se,ye),_(j,Z,re,Se,ye=String.fromCharCode(55349,57314+ke)),_($,Z,le,Se,ye),_(j,Z,re,Se,ye=String.fromCharCode(55349,57324+ke)),_($,Z,le,Se,ye),_(j,Z,re,Se,ye=String.fromCharCode(55349,57334+ke)),_($,Z,le,Se,ye)}for(var Me="ÇÐÞçþ",ze=0;ze<Me.length;ze++){var Ae=Me.charAt(ze);_(j,Z,re,Ae,Ae),_($,Z,le,Ae,Ae)}var Te=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Be=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],qe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Ne=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ce=function(e,t){return t.size<2?e:qe[e-1][t.size-1]},Ie=function(){function e(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||e.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=Ne[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}var t=e.prototype;return t.extend=function(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new e(r)},t.havingStyle=function(e){return this.style===e?this:this.extend({style:e,size:Ce(this.textSize,e)})},t.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},t.havingSize=function(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Ne[e-1]})},t.havingBaseStyle=function(t){t=t||this.style.text();var r=Ce(e.BASESIZE,t);return this.size===r&&this.textSize===e.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})},t.havingBaseSizing=function(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})},t.withColor=function(e){return this.extend({color:e})},t.withPhantom=function(){return this.extend({phantom:!0})},t.withFont=function(e){return this.extend({font:e})},t.withTextFontFamily=function(e){return this.extend({fontFamily:e,font:""})},t.withTextFontWeight=function(e){return this.extend({fontWeight:e,font:""})},t.withTextFontShape=function(e){return this.extend({fontShape:e,font:""})},t.sizingClasses=function(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]},t.baseSizingClasses=function(){return this.size!==e.BASESIZE?["sizing","reset-size"+this.size,"size"+e.BASESIZE]:[]},t.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!G[t=e>=5?0:e>=3?1:2]){var r=G[t]={cssEmPerMu:P.quad[t]/18};for(var n in P)P.hasOwnProperty(n)&&(r[n]=P[n][t])}return G[t]}(this.size)),this._fontMetrics},t.getColor=function(){return this.phantom?"transparent":this.color},e}();Ie.BASESIZE=6;var Oe=Ie,Re={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Ee={ex:!0,em:!0,mu:!0},He=function(e){return"string"!=typeof e&&(e=e.unit),e in Re||e in Ee||"ex"===e},Le=function(e,t){var r;if(e.unit in Re)r=Re[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var a;if(a=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=a.fontMetrics().xHeight;else{if("em"!==e.unit)throw new n("Invalid unit: '"+e.unit+"'");r=a.fontMetrics().quad}a!==t&&(r*=a.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},De=function(e,t,r){return X[r][e]&&X[r][e].replace&&(e=X[r][e].replace),{value:e,metrics:V(e,t,r)}},Pe=function(e,t,r,n,a){var i,o=De(e,t,r),s=o.metrics;if(e=o.value,s){var l=s.italic;("text"===r||n&&"mathit"===n.font)&&(l=0),i=new O(e,s.height,s.depth,l,s.skew,s.width,a)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+r+"'"),i=new O(e,0,0,0,0,0,a);if(n){i.maxFontSize=n.sizeMultiplier,n.style.isTight()&&i.classes.push("mtight");var h=n.getColor();h&&(i.style.color=h)}return i},Fe=function(e,t){if(z(e.classes)!==z(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var r=e.classes[0];if("mbin"===r||"mord"===r)return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var a in t.style)if(t.style.hasOwnProperty(a)&&e.style[a]!==t.style[a])return!1;return!0},Ve=function(e){for(var t=0,r=0,n=0,a=0;a<e.children.length;a++){var i=e.children[a];i.height>t&&(t=i.height),i.depth>r&&(r=i.depth),i.maxFontSize>n&&(n=i.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},Ge=function(e,t,r,n){var a=new q(e,t,r,n);return Ve(a),a},Ue=function(e,t,r,n){return new q(e,t,r,n)},Ye=function(e){var t=new M(e);return Ve(t),t},We=function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===r?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Xe={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},_e={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},je={fontMap:Xe,makeSymbol:Pe,mathsym:function(e,t,r,n){return void 0===n&&(n=[]),"boldsymbol"===r.font&&De(e,"Main-Bold",t).metrics?Pe(e,"Main-Bold",t,r,n.concat(["mathbf"])):"\\"===e||"main"===X[t][e].font?Pe(e,"Main-Regular",t,r,n):Pe(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},makeSpan:Ge,makeSvgSpan:Ue,makeLineSpan:function(e,t,r){var n=Ge([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=n.height+"em",n.maxFontSize=1,n},makeAnchor:function(e,t,r,n){var a=new N(e,t,r,n);return Ve(a),a},makeFragment:Ye,wrapFragment:function(e,t){return e instanceof M?Ge([],[e],t):e},makeVList:function(e,t){for(var r=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,a=n,i=1;i<t.length;i++){var o=-t[i].shift-a-t[i].elem.depth,s=o-(t[i-1].elem.height+t[i-1].elem.depth);a+=o,r.push({type:"kern",size:s}),r.push(t[i])}return{children:r,depth:n}}var l;if("top"===e.positionType){for(var h=e.positionData,m=0;m<e.children.length;m++){var c=e.children[m];h-="kern"===c.type?c.size:c.elem.height+c.elem.depth}l=h}else if("bottom"===e.positionType)l=-e.positionData;else{var u=e.children[0];if("elem"!==u.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-u.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-u.elem.depth}}return{children:e.children,depth:l}}(e),n=r.children,a=r.depth,i=0,o=0;o<n.length;o++){var s=n[o];if("elem"===s.type){var l=s.elem;i=Math.max(i,l.maxFontSize,l.height)}}i+=2;var h=Ge(["pstrut"],[]);h.style.height=i+"em";for(var m=[],c=a,u=a,p=a,d=0;d<n.length;d++){var f=n[d];if("kern"===f.type)p+=f.size;else{var g=f.elem,v=f.wrapperClasses||[],b=f.wrapperStyle||{},y=Ge(v,[h,g],void 0,b);y.style.top=-i-p-g.depth+"em",f.marginLeft&&(y.style.marginLeft=f.marginLeft),f.marginRight&&(y.style.marginRight=f.marginRight),m.push(y),p+=g.height+g.depth}c=Math.min(c,p),u=Math.max(u,p)}var x,w=Ge(["vlist"],m);if(w.style.height=u+"em",c<0){var k=Ge([],[]),S=Ge(["vlist"],[k]);S.style.height=-c+"em";var M=Ge(["vlist-s"],[new O("​")]);x=[Ge(["vlist-r"],[w,M]),Ge(["vlist-r"],[S])]}else x=[Ge(["vlist-r"],[w])];var z=Ge(["vlist-t"],x);return 2===x.length&&z.classes.push("vlist-t2"),z.height=u,z.depth=-c,z},makeOrd:function(e,t,r){var a=e.mode,i=e.text,o=["mord"],s="math"===a||"text"===a&&t.font,l=s?t.font:t.fontFamily;if(55349===i.charCodeAt(0)){var h=function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,a="math"===t?0:1;if(119808<=r&&r<120484){var i=Math.floor((r-119808)/26);return[Te[i][2],Te[i][a]]}if(120782<=r&&r<=120831){var o=Math.floor((r-120782)/10);return[Be[o][2],Be[o][a]]}if(120485===r||120486===r)return[Te[0][2],Te[0][a]];if(120486<r&&r<120782)return["",""];throw new n("Unsupported character: "+e)}(i,a),m=h[0],c=h[1];return Pe(i,m,a,t,o.concat(c))}if(l){var u,p;if("boldsymbol"===l){var d=function(e,t,r,n,a){return"textord"!==a&&De(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,a,0,0,r);u=d.fontName,p=[d.fontClass]}else s?(u=Xe[l].fontName,p=[l]):(u=We(l,t.fontWeight,t.fontShape),p=[l,t.fontWeight,t.fontShape]);if(De(i,u,a).metrics)return Pe(i,u,a,t,o.concat(p));if(he.hasOwnProperty(i)&&"Typewriter"===u.substr(0,10)){for(var f=[],g=0;g<i.length;g++)f.push(Pe(i[g],u,a,t,o.concat(p)));return Ye(f)}}if("mathord"===r)return Pe(i,"Math-Italic",a,t,o.concat(["mathnormal"]));if("textord"===r){var v=X[a][i]&&X[a][i].font;if("ams"===v){var b=We("amsrm",t.fontWeight,t.fontShape);return Pe(i,b,a,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==v&&v){var y=We(v,t.fontWeight,t.fontShape);return Pe(i,y,a,t,o.concat(y,t.fontWeight,t.fontShape))}var x=We("textrm",t.fontWeight,t.fontShape);return Pe(i,x,a,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},makeGlue:function(e,t){var r=Ge(["mspace"],[],t),n=Le(e,t);return r.style.marginRight=n+"em",r},staticSvg:function(e,t){var r=_e[e],n=r[0],a=r[1],i=r[2],o=new E(n),s=new R([o],{width:a+"em",height:i+"em",style:"width:"+a+"em",viewBox:"0 0 "+1e3*a+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),l=Ue(["overlay"],[s],t);return l.height=i,l.style.height=i+"em",l.style.width=a+"em",l},svgData:_e,tryCombineChars:function(e){for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof O&&n instanceof O&&Fe(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e}},$e={number:3,unit:"mu"},Ze={number:4,unit:"mu"},Ke={number:5,unit:"mu"},Je={mord:{mop:$e,mbin:Ze,mrel:Ke,minner:$e},mop:{mord:$e,mop:$e,mrel:Ke,minner:$e},mbin:{mord:Ze,mop:Ze,mopen:Ze,minner:Ze},mrel:{mord:Ke,mop:Ke,mopen:Ke,minner:Ke},mopen:{},mclose:{mop:$e,mbin:Ze,mrel:Ke,minner:$e},mpunct:{mord:$e,mop:$e,mrel:Ke,mopen:$e,mclose:$e,mpunct:$e,minner:$e},minner:{mord:$e,mop:$e,mbin:Ze,mrel:Ke,mopen:$e,mpunct:$e,minner:$e}},Qe={mord:{mop:$e},mop:{mord:$e,mop:$e},mbin:{},mrel:{},mopen:{},mclose:{mop:$e},mpunct:{},minner:{mop:$e}},et={},tt={},rt={};function nt(e){for(var t=e.type,r=e.names,n=e.props,a=e.handler,i=e.htmlBuilder,o=e.mathmlBuilder,s={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:a},l=0;l<r.length;++l)et[r[l]]=s;t&&(i&&(tt[t]=i),o&&(rt[t]=o))}function at(e){nt({type:e.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:e.htmlBuilder,mathmlBuilder:e.mathmlBuilder})}var it=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},ot=function(e){return"ordgroup"===e.type?e.body:[e]},st=je.makeSpan,lt=["leftmost","mbin","mopen","mrel","mop","mpunct"],ht=["rightmost","mrel","mclose","mpunct"],mt={display:b.DISPLAY,text:b.TEXT,script:b.SCRIPT,scriptscript:b.SCRIPTSCRIPT},ct={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ut=function(e,t,r,n){void 0===n&&(n=[null,null]);for(var a=[],i=0;i<e.length;i++){var o=bt(e[i],t);if(o instanceof M){var s=o.children;a.push.apply(a,s)}else a.push(o)}if(je.tryCombineChars(a),!r)return a;var h=t;if(1===e.length){var m=e[0];"sizing"===m.type?h=t.havingSize(m.size):"styling"===m.type&&(h=t.havingStyle(mt[m.style]))}var c=st([n[0]||"leftmost"],[],t),u=st([n[1]||"rightmost"],[],t),p="root"===r;return pt(a,function(e,t){var r=t.classes[0],n=e.classes[0];"mbin"===r&&l.contains(ht,n)?t.classes[0]="mord":"mbin"===n&&l.contains(lt,r)&&(e.classes[0]="mord")},{node:c},u,p),pt(a,function(e,t){var r=gt(t),n=gt(e),a=r&&n?e.hasClass("mtight")?Qe[r][n]:Je[r][n]:null;if(a)return je.makeGlue(a,h)},{node:c},u,p),a},pt=function e(t,r,n,a,i){a&&t.push(a);for(var o=0;o<t.length;o++){var s=t[o],l=dt(s);if(l)e(l.children,r,n,null,i);else{var h=!s.hasClass("mspace");if(h){var m=r(s,n.node);m&&(n.insertAfter?n.insertAfter(m):(t.unshift(m),o++))}h?n.node=s:i&&s.hasClass("newline")&&(n.node=st(["leftmost"])),n.insertAfter=function(e){return function(r){t.splice(e+1,0,r),o++}}(o)}}a&&t.pop()},dt=function(e){return e instanceof M||e instanceof N||e instanceof q&&e.hasClass("enclosing")?e:null},ft=function e(t,r){var n=dt(t);if(n){var a=n.children;if(a.length){if("right"===r)return e(a[a.length-1],"right");if("left"===r)return e(a[0],"left")}}return t},gt=function(e,t){return e?(t&&(e=ft(e,t)),ct[e.classes[0]]||null):null},vt=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return st(t.concat(r))},bt=function(e,t,r){if(!e)return st();if(tt[e.type]){var a=tt[e.type](e,t);if(r&&t.size!==r.size){a=st(t.sizingClasses(r),[a],t);var i=t.sizeMultiplier/r.sizeMultiplier;a.height*=i,a.depth*=i}return a}throw new n("Got group of unknown type: '"+e.type+"'")};function yt(e,t){var r=st(["base"],e,t),n=st(["strut"]);return n.style.height=r.height+r.depth+"em",n.style.verticalAlign=-r.depth+"em",r.children.unshift(n),r}function xt(e,t){var r=null;1===e.length&&"tag"===e[0].type&&(r=e[0].tag,e=e[0].body);var n,a=ut(e,t,"root");2===a.length&&a[1].hasClass("tag")&&(n=a.pop());for(var i,o=[],s=[],l=0;l<a.length;l++)if(s.push(a[l]),a[l].hasClass("mbin")||a[l].hasClass("mrel")||a[l].hasClass("allowbreak")){for(var h=!1;l<a.length-1&&a[l+1].hasClass("mspace")&&!a[l+1].hasClass("newline");)l++,s.push(a[l]),a[l].hasClass("nobreak")&&(h=!0);h||(o.push(yt(s,t)),s=[])}else a[l].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(yt(s,t)),s=[]),o.push(a[l]));s.length>0&&o.push(yt(s,t)),r?((i=yt(ut(r,t,!0))).classes=["tag"],o.push(i)):n&&o.push(n);var m=st(["katex-html"],o);if(m.setAttribute("aria-hidden","true"),i){var c=i.children[0];c.style.height=m.height+m.depth+"em",c.style.verticalAlign=-m.depth+"em"}return m}function wt(e){return new M(e)}var kt=function(){function e(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}var t=e.prototype;return t.setAttribute=function(e,t){this.attributes[e]=t},t.getAttribute=function(e){return this.attributes[e]},t.toNode=function(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=z(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e},t.toMarkup=function(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=l.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+l.escape(z(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">"},t.toText=function(){return this.children.map(function(e){return e.toText()}).join("")},e}(),St=function(){function e(e){this.text=void 0,this.text=e}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.text)},t.toMarkup=function(){return l.escape(this.toText())},t.toText=function(){return this.text},e}(),Mt={MathNode:kt,TextNode:St,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:wt},zt=function(e,t,r){return!X[t][e]||!X[t][e].replace||55349===e.charCodeAt(0)||he.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.substr(4,2)||r.font&&"tt"===r.font.substr(4,2))||(e=X[t][e].replace),new Mt.TextNode(e)},At=function(e){return 1===e.length?e[0]:new Mt.MathNode("mrow",e)},Tt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var n=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===r)return"bold";if("mathbb"===r)return"double-struck";if("mathfrak"===r)return"fraktur";if("mathscr"===r||"mathcal"===r)return"script";if("mathsf"===r)return"sans-serif";if("mathtt"===r)return"monospace";var a=e.text;return l.contains(["\\imath","\\jmath"],a)?null:(X[n][a]&&X[n][a].replace&&(a=X[n][a].replace),V(a,je.fontMap[r].fontName,n)?je.fontMap[r].variant:null)},Bt=function(e,t,r){if(1===e.length){var n=Nt(e[0],t);return r&&n instanceof kt&&"mo"===n.type&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var a,i=[],o=0;o<e.length;o++){var s=Nt(e[o],t);if(s instanceof kt&&a instanceof kt){if("mtext"===s.type&&"mtext"===a.type&&s.getAttribute("mathvariant")===a.getAttribute("mathvariant")){var l;(l=a.children).push.apply(l,s.children);continue}if("mn"===s.type&&"mn"===a.type){var h;(h=a.children).push.apply(h,s.children);continue}if("mi"===s.type&&1===s.children.length&&"mn"===a.type){var m=s.children[0];if(m instanceof St&&"."===m.text){var c;(c=a.children).push.apply(c,s.children);continue}}else if("mi"===a.type&&1===a.children.length){var u=a.children[0];if(u instanceof St&&"̸"===u.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var p=s.children[0];p instanceof St&&p.text.length>0&&(p.text=p.text.slice(0,1)+"̸"+p.text.slice(1),i.pop())}}}i.push(s),a=s}return i},qt=function(e,t,r){return At(Bt(e,t,r))},Nt=function(e,t){if(!e)return new Mt.MathNode("mrow");if(rt[e.type])return rt[e.type](e,t);throw new n("Got group of unknown type: '"+e.type+"'")};function Ct(e,t,r,n,a){var i,o=Bt(e,r);i=1===o.length&&o[0]instanceof kt&&l.contains(["mrow","mtable"],o[0].type)?o[0]:new Mt.MathNode("mrow",o);var s=new Mt.MathNode("annotation",[new Mt.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var h=new Mt.MathNode("semantics",[i,s]),m=new Mt.MathNode("math",[h]);m.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&m.setAttribute("display","block");var c=a?"katex":"katex-mathml";return je.makeSpan([c],[m])}var It=function(e){return new Oe({style:e.displayMode?b.DISPLAY:b.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Ot=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=je.makeSpan(r,[e])}return e},Rt=function(e,t,r){var n,a=It(r);if("mathml"===r.output)return Ct(e,t,a,r.displayMode,!0);if("html"===r.output){var i=xt(e,a);n=je.makeSpan(["katex"],[i])}else{var o=Ct(e,t,a,r.displayMode,!1),s=xt(e,a);n=je.makeSpan(["katex"],[o,s])}return Ot(n,r)},Et={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\\\cdrightarrow":"→","\\\\cdleftarrow":"←","\\\\cdlongequal":"="},Ht={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Lt=function(e,t,r,n,a){var i,o=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(i=je.makeSpan(["stretchy",t],[],a),"fbox"===t){var s=a.color&&a.getColor();s&&(i.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new H({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new H({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new R(l,{width:"100%",height:o+"em"});i=je.makeSvgSpan([],[h],a)}return i.height=o,i.style.height=o+"em",i},Dt=function(e){var t=new Mt.MathNode("mo",[new Mt.TextNode(Et[e])]);return t.setAttribute("stretchy","true"),t},Pt=function(e,t){var r=function(){var r=4e5,n=e.label.substr(1);if(l.contains(["widehat","widecheck","widetilde","utilde"],n)){var a,i,o,s="ordgroup"===(d=e.base).type?d.body.length:1;if(s>5)"widehat"===n||"widecheck"===n?(a=420,r=2364,o=.42,i=n+"4"):(a=312,r=2340,o=.34,i="tilde4");else{var h=[1,1,2,2,3,3][s];"widehat"===n||"widecheck"===n?(r=[0,1062,2364,2364,2364][h],a=[0,239,300,360,420][h],o=[0,.24,.3,.3,.36,.42][h],i=n+h):(r=[0,600,1033,2339,2340][h],a=[0,260,286,306,312][h],o=[0,.26,.286,.3,.306,.34][h],i="tilde"+h)}var m=new E(i),c=new R([m],{width:"100%",height:o+"em",viewBox:"0 0 "+r+" "+a,preserveAspectRatio:"none"});return{span:je.makeSvgSpan([],[c],t),minWidth:0,height:o}}var u,p,d,f=[],g=Ht[n],v=g[0],b=g[1],y=g[2],x=y/1e3,w=v.length;if(1===w)u=["hide-tail"],p=[g[3]];else if(2===w)u=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");u=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var k=0;k<w;k++){var S=new E(v[k]),M=new R([S],{width:"400em",height:x+"em",viewBox:"0 0 "+r+" "+y,preserveAspectRatio:p[k]+" slice"}),z=je.makeSvgSpan([u[k]],[M],t);if(1===w)return{span:z,minWidth:b,height:x};z.style.height=x+"em",f.push(z)}return{span:je.makeSpan(["stretchy"],f,t),minWidth:b,height:x}}(),n=r.span,a=r.minWidth,i=r.height;return n.height=i,n.style.height=i+"em",a>0&&(n.style.minWidth=a+"em"),n};function Ft(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Vt(e){var t=Gt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Gt(e){return e&&("atom"===e.type||Y.hasOwnProperty(e.type))?e:null}var Ut=function(e,t){var r,n,a;e&&"supsub"===e.type?(r=(n=Ft(e.base,"accent")).base,e.base=r,a=function(e){if(e instanceof q)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(bt(e,t)),e.base=n):r=(n=Ft(e,"accent")).base;var i=bt(r,t.havingCrampedStyle()),o=0;if(n.isShifty&&l.isCharacterBox(r)){var s=l.getBaseElem(r);o=L(bt(s,t.havingCrampedStyle())).skew}var h,m=Math.min(i.height,t.fontMetrics().xHeight);if(n.isStretchy)h=Pt(n,t),h=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+2*o+"em)",marginLeft:2*o+"em"}:void 0}]},t);else{var c,u;"\\vec"===n.label?(c=je.staticSvg("vec",t),u=je.svgData.vec[1]):((c=L(c=je.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,u=c.width),h=je.makeSpan(["accent-body"],[c]);var p="\\textcircled"===n.label;p&&(h.classes.push("accent-full"),m=i.height);var d=o;p||(d-=u/2),h.style.left=d+"em","\\textcircled"===n.label&&(h.style.top=".2em"),h=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-m},{type:"elem",elem:h}]},t)}var f=je.makeSpan(["mord","accent"],[h],t);return a?(a.children[0]=f,a.height=Math.max(f.height,a.height),a.classes[0]="mord",a):f},Yt=function(e,t){var r=e.isStretchy?Dt(e.label):new Mt.MathNode("mo",[zt(e.label,e.mode)]),n=new Mt.MathNode("mover",[Nt(e.base,t),r]);return n.setAttribute("accent","true"),n},Wt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(e){return"\\"+e}).join("|"));nt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(e,t){var r=it(t[0]),n=!Wt.test(e.funcName),a=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:a,base:r}},htmlBuilder:Ut,mathmlBuilder:Yt}),nt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1,argTypes:["primitive"]},handler:function(e,t){var r=t[0];return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Ut,mathmlBuilder:Yt}),nt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,a=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:a}},htmlBuilder:function(e,t){var r=bt(e.base,t),n=Pt(e,t),a="\\utilde"===e.label?.12:0,i=je.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:a},{type:"elem",elem:r}]},t);return je.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:function(e,t){var r=Dt(e.label),n=new Mt.MathNode("munder",[Nt(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var Xt=function(e){var t=new Mt.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};nt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,r){var n=e.parser,a=e.funcName;return{type:"xArrow",mode:n.mode,label:a,body:t[0],below:r[0]}},htmlBuilder:function(e,t){var r,n=t.style,a=t.havingStyle(n.sup()),i=je.wrapFragment(bt(e.body,a,t),t),o="\\x"===e.label.slice(0,2)?"x":"cd";i.classes.push(o+"-arrow-pad"),e.below&&(a=t.havingStyle(n.sub()),(r=je.wrapFragment(bt(e.below,a,t),t)).classes.push(o+"-arrow-pad"));var s,l=Pt(e,t),h=-t.fontMetrics().axisHeight+.5*l.height,m=-t.fontMetrics().axisHeight-.5*l.height-.111;if((i.depth>.25||"\\xleftequilibrium"===e.label)&&(m-=i.depth),r){var c=-t.fontMetrics().axisHeight+r.height+.5*l.height+.111;s=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:m},{type:"elem",elem:l,shift:h},{type:"elem",elem:r,shift:c}]},t)}else s=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:m},{type:"elem",elem:l,shift:h}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),je.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder:function(e,t){var r,n=Dt(e.label);if(n.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var a=Xt(Nt(e.body,t));if(e.below){var i=Xt(Nt(e.below,t));r=new Mt.MathNode("munderover",[n,i,a])}else r=new Mt.MathNode("mover",[n,a])}else if(e.below){var o=Xt(Nt(e.below,t));r=new Mt.MathNode("munder",[n,o])}else r=Xt(),r=new Mt.MathNode("mover",[n,r]);return r}});var _t={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},jt=function(e){return"textord"===e.type&&"@"===e.text};function $t(e,t,r){var n=_t[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var a={type:"atom",text:n,mode:"math",family:"rel"},i={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[t[0]],[]),r.callFunction("\\Big",[a],[]),r.callFunction("\\\\cdright",[t[1]],[])]};return r.callFunction("\\\\cdparent",[i],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}nt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder:function(e,t){var r=t.havingStyle(t.style.sup()),n=je.wrapFragment(bt(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=.8-n.depth+"em",n.height=0,n.depth=0,n},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mrow",[Nt(e.label,t)]);return(r=new Mt.MathNode("mpadded",[r])).setAttribute("width","0"),"left"===e.side&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new Mt.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),nt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(e,t){return{type:"cdlabelparent",mode:e.parser.mode,fragment:t[0]}},htmlBuilder:function(e,t){var r=je.wrapFragment(bt(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:function(e,t){return new Mt.MathNode("mrow",[Nt(e.fragment,t)])}}),nt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){for(var r=e.parser,a=Ft(t[0],"ordgroup").body,i="",o=0;o<a.length;o++){i+=Ft(a[o],"textord").text}var s=parseInt(i);if(isNaN(s))throw new n("\\@char has non-numeric argument "+i);return{type:"textord",mode:r.mode,text:String.fromCharCode(s)}}});var Zt=function(e,t){var r=ut(e.body,t.withColor(e.color),!1);return je.makeFragment(r)},Kt=function(e,t){var r=Bt(e.body,t.withColor(e.color)),n=new Mt.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};nt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(e,t){var r=e.parser,n=Ft(t[0],"color-token").color,a=t[1];return{type:"color",mode:r.mode,color:n,body:ot(a)}},htmlBuilder:Zt,mathmlBuilder:Kt}),nt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(e,t){var r=e.parser,n=e.breakOnTokenText,a=Ft(t[0],"color-token").color;r.gullet.macros.set("\\current@color",a);var i=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:a,body:i}},htmlBuilder:Zt,mathmlBuilder:Kt}),nt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(e,t,r){var n=e.parser,a=r[0],i=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:i,size:a&&Ft(a,"size").value}},htmlBuilder:function(e,t){var r=je.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=Le(e.size,t)+"em")),r},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",Le(e.size,t)+"em")),r}});var Jt={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Qt=function(e){var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new n("Expected a control sequence",e);return t},er=function(e,t,r,n){var a=e.gullet.macros.get(r.text);null==a&&(r.noexpand=!0,a={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,a,n)};nt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(e){var t=e.parser,r=e.funcName;t.consumeSpaces();var a=t.fetch();if(Jt[a.text])return"\\global"!==r&&"\\\\globallong"!==r||(a.text=Jt[a.text]),Ft(t.parseFunction(),"internal");throw new n("Invalid token after macro prefix",a)}}),nt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,r=e.funcName,a=t.gullet.popToken(),i=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new n("Expected a control sequence",a);for(var o,s=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(a=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),l[s].push("{");break}if(a=t.gullet.popToken(),!/^[1-9]$/.test(a.text))throw new n('Invalid argument number "'+a.text+'"');if(parseInt(a.text)!==s+1)throw new n('Argument number "'+a.text+'" out of order');s++,l.push([])}else{if("EOF"===a.text)throw new n("Expected a macro definition");l[s].push(a.text)}var h=t.gullet.consumeArg().tokens;return o&&h.unshift(o),"\\edef"!==r&&"\\xdef"!==r||(h=t.gullet.expandTokens(h)).reverse(),t.gullet.macros.set(i,{tokens:h,numArgs:s,delimiters:l},r===Jt[r]),{type:"internal",mode:t.mode}}}),nt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,r=e.funcName,n=Qt(t.gullet.popToken());t.gullet.consumeSpaces();var a=function(e){var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t}(t);return er(t,n,a,"\\\\globallet"===r),{type:"internal",mode:t.mode}}}),nt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e){var t=e.parser,r=e.funcName,n=Qt(t.gullet.popToken()),a=t.gullet.popToken(),i=t.gullet.popToken();return er(t,n,i,"\\\\globalfuture"===r),t.gullet.pushToken(i),t.gullet.pushToken(a),{type:"internal",mode:t.mode}}});var tr=function(e,t,r){var n=V(X.math[e]&&X.math[e].replace||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},rr=function(e,t,r,n){var a=r.havingBaseStyle(t),i=je.makeSpan(n.concat(a.sizingClasses(r)),[e],r),o=a.sizeMultiplier/r.sizeMultiplier;return i.height*=o,i.depth*=o,i.maxFontSize=a.sizeMultiplier,i},nr=function(e,t,r){var n=t.havingBaseStyle(r),a=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=a+"em",e.height-=a,e.depth+=a},ar=function(e,t,r,n,a,i){var o=function(e,t,r,n){return je.makeSymbol(e,"Size"+t+"-Regular",r,n)}(e,t,a,n),s=rr(je.makeSpan(["delimsizing","size"+t],[o],n),b.TEXT,n,i);return r&&nr(s,n,b.TEXT),s},ir=function(e,t,r){var n;return n="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:je.makeSpan(["delimsizinginner",n],[je.makeSpan([],[je.makeSymbol(e,t,r)])])}},or=function(e,t,r){var n=D["Size4-Regular"][e.charCodeAt(0)]?D["Size4-Regular"][e.charCodeAt(0)][4].toFixed(3):D["Size1-Regular"][e.charCodeAt(0)][4].toFixed(3),a=new E("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),i=new R([a],{width:n+"em",height:t+"em",style:"width:"+n+"em",viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=je.makeSvgSpan([],[i],r);return o.height=t,o.style.height=t+"em",o.style.width=n+"em",{type:"elem",elem:o}},sr={type:"kern",size:-.008},lr=["|","\\lvert","\\rvert","\\vert"],hr=["\\|","\\lVert","\\rVert","\\Vert"],mr=function(e,t,r,n,a,i){var o,s,h,m;o=h=m=e,s=null;var c="Size1-Regular";"\\uparrow"===e?h=m="⏐":"\\Uparrow"===e?h=m="‖":"\\downarrow"===e?o=h="⏐":"\\Downarrow"===e?o=h="‖":"\\updownarrow"===e?(o="\\uparrow",h="⏐",m="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",h="‖",m="\\Downarrow"):l.contains(lr,e)?h="∣":l.contains(hr,e)?h="∥":"["===e||"\\lbrack"===e?(o="⎡",h="⎢",m="⎣",c="Size4-Regular"):"]"===e||"\\rbrack"===e?(o="⎤",h="⎥",m="⎦",c="Size4-Regular"):"\\lfloor"===e||"⌊"===e?(h=o="⎢",m="⎣",c="Size4-Regular"):"\\lceil"===e||"⌈"===e?(o="⎡",h=m="⎢",c="Size4-Regular"):"\\rfloor"===e||"⌋"===e?(h=o="⎥",m="⎦",c="Size4-Regular"):"\\rceil"===e||"⌉"===e?(o="⎤",h=m="⎥",c="Size4-Regular"):"("===e||"\\lparen"===e?(o="⎛",h="⎜",m="⎝",c="Size4-Regular"):")"===e||"\\rparen"===e?(o="⎞",h="⎟",m="⎠",c="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(o="⎧",s="⎨",m="⎩",h="⎪",c="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="⎫",s="⎬",m="⎭",h="⎪",c="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(o="⎧",m="⎩",h="⎪",c="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(o="⎫",m="⎭",h="⎪",c="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(o="⎧",m="⎭",h="⎪",c="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(o="⎫",m="⎩",h="⎪",c="Size4-Regular");var u=tr(o,c,a),p=u.height+u.depth,d=tr(h,c,a),f=d.height+d.depth,g=tr(m,c,a),v=g.height+g.depth,y=0,x=1;if(null!==s){var w=tr(s,c,a);y=w.height+w.depth,x=2}var k=p+v+y,S=k+Math.max(0,Math.ceil((t-k)/(x*f)))*x*f,M=n.fontMetrics().axisHeight;r&&(M*=n.sizeMultiplier);var z=S/2-M,A=[];if(A.push(ir(m,c,a)),A.push(sr),null===s){var T=S-p-v+.016;A.push(or(h,T,n))}else{var B=(S-p-v-y)/2+.016;A.push(or(h,B,n)),A.push(sr),A.push(ir(s,c,a)),A.push(sr),A.push(or(h,B,n))}A.push(sr),A.push(ir(o,c,a));var q=n.havingBaseStyle(b.TEXT),N=je.makeVList({positionType:"bottom",positionData:z,children:A},q);return rr(je.makeSpan(["delimsizing","mult"],[N],q),b.TEXT,n,i)},cr=.08,ur=function(e,t,r,n,a){var i=function(e,t,r){t*=1e3;var n="";switch(e){case"sqrtMain":n=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize1":n=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize2":n=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize3":n=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,k);break;case"sqrtSize4":n=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,k);break;case"sqrtTall":n=function(e,t,r){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(r-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,k,r)}return n}(e,n,r),o=new E(e,i),s=new R([o],{width:"400em",height:t+"em",viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return je.makeSvgSpan(["hide-tail"],[s],a)},pr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],dr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],fr=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],gr=[0,1.2,1.8,2.4,3],vr=[{type:"small",style:b.SCRIPTSCRIPT},{type:"small",style:b.SCRIPT},{type:"small",style:b.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],br=[{type:"small",style:b.SCRIPTSCRIPT},{type:"small",style:b.SCRIPT},{type:"small",style:b.TEXT},{type:"stack"}],yr=[{type:"small",style:b.SCRIPTSCRIPT},{type:"small",style:b.SCRIPT},{type:"small",style:b.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],xr=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},wr=function(e,t,r,n){for(var a=Math.min(2,3-n.style.size);a<r.length&&"stack"!==r[a].type;a++){var i=tr(e,xr(r[a]),"math"),o=i.height+i.depth;if("small"===r[a].type&&(o*=n.havingBaseStyle(r[a].style).sizeMultiplier),o>t)return r[a]}return r[r.length-1]},kr=function(e,t,r,n,a,i){var o;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),o=l.contains(fr,e)?vr:l.contains(pr,e)?yr:br;var s=wr(e,t,o,n);return"small"===s.type?function(e,t,r,n,a,i){var o=je.makeSymbol(e,"Main-Regular",a,n),s=rr(o,t,n,i);return r&&nr(s,n,t),s}(e,s.style,r,n,a,i):"large"===s.type?ar(e,s.size,r,n,a,i):mr(e,t,r,n,a,i)},Sr=function(e,t){var r,n,a=t.havingBaseSizing(),i=wr("\\surd",e*a.sizeMultiplier,yr,a),o=a.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,h=0,m=0;return"small"===i.type?(e<1?o=1:e<1.4&&(o=.7),h=(1+s)/o,(r=ur("sqrtMain",l=(1+s+cr)/o,m=1e3+1e3*s+80,s,t)).style.minWidth="0.853em",n=.833/o):"large"===i.type?(m=1080*gr[i.size],h=(gr[i.size]+s)/o,l=(gr[i.size]+s+cr)/o,(r=ur("sqrtSize"+i.size,l,m,s,t)).style.minWidth="1.02em",n=1/o):(l=e+s+cr,h=e+s,m=Math.floor(1e3*e+s)+80,(r=ur("sqrtTall",l,m,s,t)).style.minWidth="0.742em",n=1.056),r.height=h,r.style.height=l+"em",{span:r,advanceWidth:n,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*o}},Mr=function(e,t,r,a,i){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),l.contains(pr,e)||l.contains(fr,e))return ar(e,t,!1,r,a,i);if(l.contains(dr,e))return mr(e,gr[t],!1,r,a,i);throw new n("Illegal delimiter: '"+e+"'")},zr=gr,Ar=kr,Tr=function(e,t,r,n,a,i){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(t-o,r+o),h=Math.max(l/500*901,2*l-s);return kr(e,h,!0,n,a,i)},Br={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},qr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Nr(e,t){var r=Gt(e);if(r&&l.contains(qr,r.text))return r;throw new n(r?"Invalid delimiter '"+r.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Cr(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(e,t){var r=Nr(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Br[e.funcName].size,mclass:Br[e.funcName].mclass,delim:r.text}},htmlBuilder:function(e,t){return"."===e.delim?je.makeSpan([e.mclass]):Mr(e.delim,e.size,t,e.mode,[e.mclass])},mathmlBuilder:function(e){var t=[];"."!==e.delim&&t.push(zt(e.delim,e.mode));var r=new Mt.MathNode("mo",t);return"mopen"===e.mclass||"mclose"===e.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true"),r.setAttribute("minsize",zr[e.size]+"em"),r.setAttribute("maxsize",zr[e.size]+"em"),r}}),nt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=e.parser.gullet.macros.get("\\current@color");if(r&&"string"!=typeof r)throw new n("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Nr(t[0],e).text,color:r}}}),nt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=Nr(t[0],e),n=e.parser;++n.leftrightDepth;var a=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var i=Ft(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:a,left:r.text,right:i.delim,rightColor:i.color}},htmlBuilder:function(e,t){Cr(e);for(var r,n,a=ut(e.body,t,!0,["mopen","mclose"]),i=0,o=0,s=!1,l=0;l<a.length;l++)a[l].isMiddle?s=!0:(i=Math.max(a[l].height,i),o=Math.max(a[l].depth,o));if(i*=t.sizeMultiplier,o*=t.sizeMultiplier,r="."===e.left?vt(t,["mopen"]):Tr(e.left,i,o,t,e.mode,["mopen"]),a.unshift(r),s)for(var h=1;h<a.length;h++){var m=a[h].isMiddle;m&&(a[h]=Tr(m.delim,i,o,m.options,e.mode,[]))}if("."===e.right)n=vt(t,["mclose"]);else{var c=e.rightColor?t.withColor(e.rightColor):t;n=Tr(e.right,i,o,c,e.mode,["mclose"])}return a.push(n),je.makeSpan(["minner"],a,t)},mathmlBuilder:function(e,t){Cr(e);var r=Bt(e.body,t);if("."!==e.left){var n=new Mt.MathNode("mo",[zt(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.right){var a=new Mt.MathNode("mo",[zt(e.right,e.mode)]);a.setAttribute("fence","true"),e.rightColor&&a.setAttribute("mathcolor",e.rightColor),r.push(a)}return At(r)}}),nt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=Nr(t[0],e);if(!e.parser.leftrightDepth)throw new n("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:function(e,t){var r;if("."===e.delim)r=vt(t,[]);else{r=Mr(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:function(e,t){var r="\\vert"===e.delim||"|"===e.delim?zt("|","text"):zt(e.delim,e.mode),n=new Mt.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Ir=function(e,t){var r,n,a,i=je.wrapFragment(bt(e.body,t),t),o=e.label.substr(1),s=t.sizeMultiplier,h=0,m=l.isCharacterBox(e.body);if("sout"===o)(r=je.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/s,h=-.5*t.fontMetrics().xHeight;else if("phase"===o){var c=Le({number:.6,unit:"pt"},t),u=Le({number:.35,unit:"ex"},t);s/=t.havingBaseSizing().sizeMultiplier;var p=i.height+i.depth+c+u;i.style.paddingLeft=p/2+c+"em";var d=Math.floor(1e3*p*s),f="M400000 "+(n=d)+" H0 L"+n/2+" 0 l65 45 L145 "+(n-80)+" H400000z",g=new R([new E("phase",f)],{width:"400em",height:d/1e3+"em",viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});(r=je.makeSvgSpan(["hide-tail"],[g],t)).style.height=p+"em",h=i.depth+c+u}else{/cancel/.test(o)?m||i.classes.push("cancel-pad"):"angl"===o?i.classes.push("anglpad"):i.classes.push("boxpad");var v=0,b=0,y=0;/box/.test(o)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),b=v=t.fontMetrics().fboxsep+("colorbox"===o?0:y)):"angl"===o?(v=4*(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),b=Math.max(0,.25-i.depth)):b=v=m?.2:0,r=Lt(i,o,v,b,t),/fbox|boxed|fcolorbox/.test(o)?(r.style.borderStyle="solid",r.style.borderWidth=y+"em"):"angl"===o&&.049!==y&&(r.style.borderTopWidth=y+"em",r.style.borderRightWidth=y+"em"),h=i.depth+b,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}if(e.backgroundColor)a=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:i,shift:0}]},t);else{var x=/cancel|phase/.test(o)?["svg-align"]:[];a=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:0},{type:"elem",elem:r,shift:h,wrapperClasses:x}]},t)}return/cancel/.test(o)&&(a.height=i.height,a.depth=i.depth),/cancel/.test(o)&&!m?je.makeSpan(["mord","cancel-lap"],[a],t):je.makeSpan(["mord"],[a],t)},Or=function(e,t){var r=0,n=new Mt.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Nt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),"\\fcolorbox"===e.label){var a=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+a+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};nt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(e,t,r){var n=e.parser,a=e.funcName,i=Ft(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:a,backgroundColor:i,body:o}},htmlBuilder:Ir,mathmlBuilder:Or}),nt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(e,t,r){var n=e.parser,a=e.funcName,i=Ft(t[0],"color-token").color,o=Ft(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:n.mode,label:a,backgroundColor:o,borderColor:i,body:s}},htmlBuilder:Ir,mathmlBuilder:Or}),nt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\fbox",body:t[0]}}}),nt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,a=t[0];return{type:"enclose",mode:r.mode,label:n,body:a}},htmlBuilder:Ir,mathmlBuilder:Or}),nt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(e,t){return{type:"enclose",mode:e.parser.mode,label:"\\angl",body:t[0]}}});var Rr={};function Er(e){for(var t=e.type,r=e.names,n=e.props,a=e.handler,i=e.htmlBuilder,o=e.mathmlBuilder,s={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:a},l=0;l<r.length;++l)Rr[r[l]]=s;i&&(tt[t]=i),o&&(rt[t]=o)}function Hr(e){var t=[];e.consumeSpaces();for(var r=e.fetch().text;"\\hline"===r||"\\hdashline"===r;)e.consume(),t.push("\\hdashline"===r),e.consumeSpaces(),r=e.fetch().text;return t}var Lr=function(e){if(!e.parser.settings.displayMode)throw new n("{"+e.envName+"} can be used only in display mode.")};function Dr(e,t,r){var a=t.hskipBeforeAndAfter,i=t.addJot,o=t.cols,s=t.arraystretch,l=t.colSeparationType,h=t.addEqnNum,m=t.singleRow,c=t.maxNumCols,u=t.leqno;if(e.gullet.beginGroup(),m||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=e.gullet.expandMacroAsText("\\arraystretch");if(null==p)s=1;else if(!(s=parseFloat(p))||s<0)throw new n("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var d=[],f=[d],g=[],v=[];for(v.push(Hr(e));;){var b=e.parseExpression(!1,m?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),b={type:"ordgroup",mode:e.mode,body:b},r&&(b={type:"styling",mode:e.mode,style:r,body:[b]}),d.push(b);var y=e.fetch().text;if("&"===y){if(c&&d.length===c){if(m||l)throw new n("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===y){1===d.length&&"styling"===b.type&&0===b.body[0].body.length&&f.pop(),v.length<f.length+1&&v.push([]);break}if("\\\\"!==y)throw new n("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var x=void 0;" "!==e.gullet.future().text&&(x=e.parseSizeGroup(!0)),g.push(x?x.value:null),v.push(Hr(e)),d=[],f.push(d)}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:f,cols:o,rowGaps:g,hskipBeforeAndAfter:a,hLinesBeforeRow:v,colSeparationType:l,addEqnNum:h,leqno:u}}function Pr(e){return"d"===e.substr(0,1)?"display":"text"}var Fr=function(e,t){var r,a,i=e.body.length,o=e.hLinesBeforeRow,s=0,h=new Array(i),m=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,p=5*u;e.colSeparationType&&"small"===e.colSeparationType&&(p=t.havingStyle(b.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var d="CD"===e.colSeparationType?Le({number:3,unit:"ex"},t):12*u,f=3*u,g=e.arraystretch*d,v=.7*g,y=.3*g,x=0;function w(e){for(var t=0;t<e.length;++t)t>0&&(x+=.25),m.push({pos:x,isDashed:e[t]})}for(w(o[0]),r=0;r<e.body.length;++r){var k=e.body[r],S=v,M=y;s<k.length&&(s=k.length);var z=new Array(k.length);for(a=0;a<k.length;++a){var A=bt(k[a],t);M<A.depth&&(M=A.depth),S<A.height&&(S=A.height),z[a]=A}var T=e.rowGaps[r],B=0;T&&(B=Le(T,t))>0&&(M<(B+=y)&&(M=B),B=0),e.addJot&&(M+=f),z.height=S,z.depth=M,x+=S,z.pos=x,x+=M+B,h[r]=z,w(o[r+1])}var q,N,C=x/2+t.fontMetrics().axisHeight,I=e.cols||[],O=[],R=[];if(e.addEqnNum)for(r=0;r<i;++r){var E=h[r],H=E.pos-C,L=je.makeSpan(["eqn-num"],[],t);L.depth=E.depth,L.height=E.height,R.push({type:"elem",elem:L,shift:H})}for(a=0,N=0;a<s||N<I.length;++a,++N){for(var D=I[N]||{},P=!0;"separator"===D.type;){if(P||((q=je.makeSpan(["arraycolsep"],[])).style.width=t.fontMetrics().doubleRuleSep+"em",O.push(q)),"|"!==D.separator&&":"!==D.separator)throw new n("Invalid separator type: "+D.separator);var F="|"===D.separator?"solid":"dashed",V=je.makeSpan(["vertical-separator"],[],t);V.style.height=x+"em",V.style.borderRightWidth=c+"em",V.style.borderRightStyle=F,V.style.margin="0 -"+c/2+"em",V.style.verticalAlign=-(x-C)+"em",O.push(V),D=I[++N]||{},P=!1}if(!(a>=s)){var G=void 0;(a>0||e.hskipBeforeAndAfter)&&0!==(G=l.deflt(D.pregap,p))&&((q=je.makeSpan(["arraycolsep"],[])).style.width=G+"em",O.push(q));var U=[];for(r=0;r<i;++r){var Y=h[r],W=Y[a];if(W){var X=Y.pos-C;W.depth=Y.depth,W.height=Y.height,U.push({type:"elem",elem:W,shift:X})}}U=je.makeVList({positionType:"individualShift",children:U},t),U=je.makeSpan(["col-align-"+(D.align||"c")],[U]),O.push(U),(a<s-1||e.hskipBeforeAndAfter)&&0!==(G=l.deflt(D.postgap,p))&&((q=je.makeSpan(["arraycolsep"],[])).style.width=G+"em",O.push(q))}}if(h=je.makeSpan(["mtable"],O),m.length>0){for(var _=je.makeLineSpan("hline",t,c),j=je.makeLineSpan("hdashline",t,c),$=[{type:"elem",elem:h,shift:0}];m.length>0;){var Z=m.pop(),K=Z.pos-C;Z.isDashed?$.push({type:"elem",elem:j,shift:K}):$.push({type:"elem",elem:_,shift:K})}h=je.makeVList({positionType:"individualShift",children:$},t)}if(e.addEqnNum){var J=je.makeVList({positionType:"individualShift",children:R},t);return J=je.makeSpan(["tag"],[J],t),je.makeFragment([h,J])}return je.makeSpan(["mord"],[h],t)},Vr={c:"center ",l:"left ",r:"right "},Gr=function(e,t){for(var r=[],n=new Mt.MathNode("mtd",[],["mtr-glue"]),a=new Mt.MathNode("mtd",[],["mml-eqn-num"]),i=0;i<e.body.length;i++){for(var o=e.body[i],s=[],l=0;l<o.length;l++)s.push(new Mt.MathNode("mtd",[Nt(o[l],t)]));e.addEqnNum&&(s.unshift(n),s.push(n),e.leqno?s.unshift(a):s.push(a)),r.push(new Mt.MathNode("mtr",s))}var h=new Mt.MathNode("mtable",r),m=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",m.toFixed(4)+"em");var c="",u="";if(e.cols&&e.cols.length>0){var p=e.cols,d="",f=!1,g=0,v=p.length;"separator"===p[0].type&&(c+="top ",g=1),"separator"===p[p.length-1].type&&(c+="bottom ",v-=1);for(var b=g;b<v;b++)"align"===p[b].type?(u+=Vr[p[b].align],f&&(d+="none "),f=!0):"separator"===p[b].type&&f&&(d+="|"===p[b].separator?"solid ":"dashed ",f=!1);h.setAttribute("columnalign",u.trim()),/[sd]/.test(d)&&h.setAttribute("columnlines",d.trim())}if("align"===e.colSeparationType){for(var y=e.cols||[],x="",w=1;w<y.length;w++)x+=w%2?"0em ":"1em ";h.setAttribute("columnspacing",x.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?h.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?h.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var k="",S=e.hLinesBeforeRow;c+=S[0].length>0?"left ":"",c+=S[S.length-1].length>0?"right ":"";for(var M=1;M<S.length-1;M++)k+=0===S[M].length?"none ":S[M][0]?"dashed ":"solid ";return/[sd]/.test(k)&&h.setAttribute("rowlines",k.trim()),""!==c&&(h=new Mt.MathNode("menclose",[h])).setAttribute("notation",c.trim()),e.arraystretch&&e.arraystretch<1&&(h=new Mt.MathNode("mstyle",[h])).setAttribute("scriptlevel","1"),h},Ur=function(e,t){-1===e.envName.indexOf("ed")&&Lr(e);var r,a=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=Dr(e.parser,{cols:a,addJot:!0,addEqnNum:"align"===e.envName||"alignat"===e.envName,colSeparationType:i,maxNumCols:"split"===e.envName?2:void 0,leqno:e.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var h="",m=0;m<t[0].body.length;m++){h+=Ft(t[0].body[m],"textord").text}r=Number(h),s=2*r}var c=!s;o.body.forEach(function(e){for(var t=1;t<e.length;t+=2){var a=Ft(e[t],"styling");Ft(a.body[0],"ordgroup").body.unshift(l)}if(c)s<e.length&&(s=e.length);else{var i=e.length/2;if(r<i)throw new n("Too many math in a row: expected "+r+", but got "+i,e[0])}});for(var u=0;u<s;++u){var p="r",d=0;u%2==1?p="l":u>0&&c&&(d=1),a[u]={type:"align",align:p,pregap:d,postgap:0}}return o.colSeparationType=c?"align":"alignat",o};Er({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(e,t){var r=(Gt(t[0])?[t[0]]:Ft(t[0],"ordgroup").body).map(function(e){var t=Vt(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new n("Unknown column alignment: "+t,e)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Dr(e.parser,a,Pr(e.envName))},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",a={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if("*"===e.envName.charAt(e.envName.length-1)){var i=e.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,-1==="lcr".indexOf(r))throw new n("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),a.cols=[{type:"align",align:r}]}}var o=Dr(e.parser,a,Pr(e.envName));return o.cols=new Array(o.body[0].length).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(e){var t=Dr(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["subarray"],props:{numArgs:1},handler:function(e,t){var r=(Gt(t[0])?[t[0]]:Ft(t[0],"ordgroup").body).map(function(e){var t=Vt(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new n("Unknown column alignment: "+t,e)});if(r.length>1)throw new n("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((a=Dr(e.parser,a,"script")).body.length>0&&a.body[0].length>1)throw new n("{subarray} can contain only one column");return a},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(e){var t=Dr(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Pr(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ur,htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(e){l.contains(["gather","gather*"],e.envName)&&Lr(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:"gather"===e.envName,leqno:e.parser.settings.leqno};return Dr(e.parser,t,"display")},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ur,htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(e){Lr(e);var t={addEqnNum:"equation"===e.envName,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Dr(e.parser,t,"display")},htmlBuilder:Fr,mathmlBuilder:Gr}),Er({type:"array",names:["CD"],props:{numArgs:0},handler:function(e){return Lr(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if("&"!==r&&"\\\\"!==r){if("\\end"===r){0===t[t.length-1].length&&t.pop();break}throw new n("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var a,i,o=[],s=[o],l=0;l<t.length;l++){for(var h=t[l],m={type:"styling",body:[],mode:"math",style:"display"},c=0;c<h.length;c++)if(jt(h[c])){o.push(m);var u=Vt(h[c+=1]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(u)>-1);else{if(!("<>AV".indexOf(u)>-1))throw new n('Expected one of "<>AV=|." after @',h[c]);for(var d=0;d<2;d++){for(var f=!0,g=c+1;g<h.length;g++){if(i=u,("mathord"===(a=h[g]).type||"atom"===a.type)&&a.text===i){f=!1,c=g;break}if(jt(h[g]))throw new n("Missing a "+u+" character to complete a CD arrow.",h[g]);p[d].body.push(h[g])}if(f)throw new n("Missing a "+u+" character to complete a CD arrow.",h[c])}}var v={type:"styling",body:[$t(u,p,e)],mode:"math",style:"display"};o.push(v),m={type:"styling",body:[],mode:"math",style:"display"}}else m.body.push(h[c]);l%2==0?o.push(m):o.shift(),o=[],s.push(o)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}(e.parser)},htmlBuilder:Fr,mathmlBuilder:Gr}),nt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(e,t){throw new n(e.funcName+" valid only within array environment")}});var Yr=Rr;nt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(e,t){var r=e.parser,a=e.funcName,i=t[0];if("ordgroup"!==i.type)throw new n("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=Ft(i.body[s],"textord").text;if("\\begin"===a){if(!Yr.hasOwnProperty(o))throw new n("No such environment: "+o,i);var l=Yr[o],h=r.parseArguments("\\begin{"+o+"}",l),m=h.args,c=h.optArgs,u={mode:r.mode,envName:o,parser:r},p=l.handler(u,m,c);r.expect("\\end",!1);var d=r.nextToken,f=Ft(r.parseFunction(),"environment");if(f.name!==o)throw new n("Mismatch: \\begin{"+o+"} matched by \\end{"+f.name+"}",d);return p}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var Wr=je.makeSpan;function Xr(e,t){var r=ut(e.body,t,!0);return Wr([e.mclass],r,t)}function _r(e,t){var r,n=Bt(e.body,t);return"minner"===e.mclass?Mt.newDocumentFragment(n):("mord"===e.mclass?e.isCharacterBox?(r=n[0]).type="mi":r=new Mt.MathNode("mi",n):(e.isCharacterBox?(r=n[0]).type="mo":r=new Mt.MathNode("mo",n),"mbin"===e.mclass?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):"mpunct"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):"mopen"!==e.mclass&&"mclose"!==e.mclass||(r.attributes.lspace="0em",r.attributes.rspace="0em")),r)}nt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=e.parser,n=e.funcName,a=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.substr(5),body:ot(a),isCharacterBox:l.isCharacterBox(a)}},htmlBuilder:Xr,mathmlBuilder:_r});var jr=function(e){var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};nt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(e,t){return{type:"mclass",mode:e.parser.mode,mclass:jr(t[0]),body:ot(t[1]),isCharacterBox:l.isCharacterBox(t[1])}}}),nt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(e,t){var r,n=e.parser,a=e.funcName,i=t[1],o=t[0];r="\\stackrel"!==a?jr(i):"mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==a,body:ot(i)},h={type:"supsub",mode:o.mode,base:s,sup:"\\underset"===a?null:o,sub:"\\underset"===a?o:null};return{type:"mclass",mode:n.mode,mclass:r,body:[h],isCharacterBox:l.isCharacterBox(h)}},htmlBuilder:Xr,mathmlBuilder:_r});var $r=function(e,t){var r=e.font,n=t.withFont(r);return bt(e.body,n)},Zr=function(e,t){var r=e.font,n=t.withFont(r);return Nt(e.body,n)},Kr={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(e,t){var r=e.parser,n=e.funcName,a=it(t[0]),i=n;return i in Kr&&(i=Kr[i]),{type:"font",mode:r.mode,font:i.slice(1),body:a}},htmlBuilder:$r,mathmlBuilder:Zr}),nt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0],a=l.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:jr(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:a}}}),nt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,a=e.breakOnTokenText,i=r.mode,o=r.parseExpression(!0,a);return{type:"font",mode:i,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:o}}},htmlBuilder:$r,mathmlBuilder:Zr});var Jr=function(e,t){var r=t;return"display"===e?r=r.id>=b.SCRIPT.id?r.text():b.DISPLAY:"text"===e&&r.size===b.DISPLAY.size?r=b.TEXT:"script"===e?r=b.SCRIPT:"scriptscript"===e&&(r=b.SCRIPTSCRIPT),r},Qr=function(e,t){var r,n=Jr(e.size,t.style),a=n.fracNum(),i=n.fracDen();r=t.havingStyle(a);var o=bt(e.numer,r,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}r=t.havingStyle(i);var h,m,c,u,p,d,f,g,v,y,x=bt(e.denom,r,t);if(e.hasBarLine?(e.barSize?(m=Le(e.barSize,t),h=je.makeLineSpan("frac-line",t,m)):h=je.makeLineSpan("frac-line",t),m=h.height,c=h.height):(h=null,m=0,c=t.fontMetrics().defaultRuleThickness),n.size===b.DISPLAY.size||"display"===e.size?(u=t.fontMetrics().num1,p=m>0?3*c:7*c,d=t.fontMetrics().denom1):(m>0?(u=t.fontMetrics().num2,p=c):(u=t.fontMetrics().num3,p=3*c),d=t.fontMetrics().denom2),h){var w=t.fontMetrics().axisHeight;u-o.depth-(w+.5*m)<p&&(u+=p-(u-o.depth-(w+.5*m))),w-.5*m-(x.height-d)<p&&(d+=p-(w-.5*m-(x.height-d)));var k=-(w-.5*m);f=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:d},{type:"elem",elem:h,shift:k},{type:"elem",elem:o,shift:-u}]},t)}else{var S=u-o.depth-(x.height-d);S<p&&(u+=.5*(p-S),d+=.5*(p-S)),f=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:d},{type:"elem",elem:o,shift:-u}]},t)}return r=t.havingStyle(n),f.height*=r.sizeMultiplier/t.sizeMultiplier,f.depth*=r.sizeMultiplier/t.sizeMultiplier,g=n.size===b.DISPLAY.size?t.fontMetrics().delim1:t.fontMetrics().delim2,v=null==e.leftDelim?vt(t,["mopen"]):Ar(e.leftDelim,g,!0,t.havingStyle(n),e.mode,["mopen"]),y=e.continued?je.makeSpan([]):null==e.rightDelim?vt(t,["mclose"]):Ar(e.rightDelim,g,!0,t.havingStyle(n),e.mode,["mclose"]),je.makeSpan(["mord"].concat(r.sizingClasses(t)),[v,je.makeSpan(["mfrac"],[f]),y],t)},en=function(e,t){var r=new Mt.MathNode("mfrac",[Nt(e.numer,t),Nt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=Le(e.barSize,t);r.setAttribute("linethickness",n+"em")}}else r.setAttribute("linethickness","0px");var a=Jr(e.size,t.style);if(a.size!==t.style.size){r=new Mt.MathNode("mstyle",[r]);var i=a.size===b.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",i),r.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var s=new Mt.MathNode("mo",[new Mt.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(r),null!=e.rightDelim){var l=new Mt.MathNode("mo",[new Mt.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return At(o)}return r};nt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(e,t){var r,n=e.parser,a=e.funcName,i=t[0],o=t[1],s=null,l=null,h="auto";switch(a){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(a){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:r,leftDelim:s,rightDelim:l,size:h,barSize:null}},htmlBuilder:Qr,mathmlBuilder:en}),nt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(e,t){var r=e.parser,n=(e.funcName,t[0]),a=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:n,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),nt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(e){var t,r=e.parser,n=e.funcName,a=e.token;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:a}}});var tn=["display","text","script","scriptscript"],rn=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};nt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(e,t){var r,n=e.parser,a=t[4],i=t[5],o=it(t[0]),s="atom"===o.type&&"open"===o.family?rn(o.text):null,l=it(t[1]),h="atom"===l.type&&"close"===l.family?rn(l.text):null,m=Ft(t[2],"size"),c=null;r=!!m.isBlank||(c=m.value).number>0;var u="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var d=Ft(p.body[0],"textord");u=tn[Number(d.text)]}}else p=Ft(p,"textord"),u=tn[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:a,denom:i,continued:!1,hasBarLine:r,barSize:c,leftDelim:s,rightDelim:h,size:u}},htmlBuilder:Qr,mathmlBuilder:en}),nt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(e,t){var r=e.parser,n=(e.funcName,e.token);return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Ft(t[0],"size").value,token:n}}}),nt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(e,t){var r=e.parser,n=(e.funcName,t[0]),a=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Ft(t[1],"infix").size),i=t[2],o=a.number>0;return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Qr,mathmlBuilder:en});var nn=function(e,t){var r,n,a=t.style;"supsub"===e.type?(r=e.sup?bt(e.sup,t.havingStyle(a.sup()),t):bt(e.sub,t.havingStyle(a.sub()),t),n=Ft(e.base,"horizBrace")):n=Ft(e,"horizBrace");var i,o=bt(n.base,t.havingBaseStyle(b.DISPLAY)),s=Pt(n,t);if(n.isOver?(i=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(i=je.makeVList({positionType:"bottom",positionData:o.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var l=je.makeSpan(["mord",n.isOver?"mover":"munder"],[i],t);i=n.isOver?je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):je.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return je.makeSpan(["mord",n.isOver?"mover":"munder"],[i],t)};nt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:nn,mathmlBuilder:function(e,t){var r=Dt(e.label);return new Mt.MathNode(e.isOver?"mover":"munder",[Nt(e.base,t),r])}}),nt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[1],a=Ft(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:a})?{type:"href",mode:r.mode,href:a,body:ot(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:function(e,t){var r=ut(e.body,t,!1);return je.makeAnchor(e.href,[],r,t)},mathmlBuilder:function(e,t){var r=qt(e.body,t);return r instanceof kt||(r=new kt("mrow",[r])),r.setAttribute("href",e.href),r}}),nt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=Ft(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var a=[],i=0;i<n.length;i++){var o=n[i];"~"===o&&(o="\\textasciitilde"),a.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:r.mode,font:"\\texttt",body:a};return{type:"href",mode:r.mode,href:n,body:ot(s)}}}),nt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(e,t){return{type:"hbox",mode:e.parser.mode,body:ot(t[0])}},htmlBuilder:function(e,t){var r=ut(e.body,t,!1);return je.makeFragment(r)},mathmlBuilder:function(e,t){return new Mt.MathNode("mrow",Bt(e.body,t))}}),nt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(e,t){var r,a=e.parser,i=e.funcName,o=(e.token,Ft(t[0],"raw").string),s=t[1];a.settings.strict&&a.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(i){case"\\htmlClass":l.class=o,r={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,r={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,r={command:"\\htmlStyle",style:o};break;case"\\htmlData":for(var h=o.split(","),m=0;m<h.length;m++){var c=h[m].split("=");if(2!==c.length)throw new n("Error parsing key-value for \\htmlData");l["data-"+c[0].trim()]=c[1].trim()}r={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return a.settings.isTrusted(r)?{type:"html",mode:a.mode,attributes:l,body:ot(s)}:a.formatUnsupportedCmd(i)},htmlBuilder:function(e,t){var r=ut(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push.apply(n,e.attributes.class.trim().split(/\s+/));var a=je.makeSpan(n,r,t);for(var i in e.attributes)"class"!==i&&e.attributes.hasOwnProperty(i)&&a.setAttribute(i,e.attributes[i]);return a},mathmlBuilder:function(e,t){return qt(e.body,t)}}),nt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(e,t){return{type:"htmlmathml",mode:e.parser.mode,html:ot(t[0]),mathml:ot(t[1])}},htmlBuilder:function(e,t){var r=ut(e.html,t,!1);return je.makeFragment(r)},mathmlBuilder:function(e,t){return qt(e.mathml,t)}});var an=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new n("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!He(r))throw new n("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};nt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(e,t,r){var a=e.parser,i={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(r[0])for(var h=Ft(r[0],"raw").string.split(","),m=0;m<h.length;m++){var c=h[m].split("=");if(2===c.length){var u=c[1].trim();switch(c[0].trim()){case"alt":l=u;break;case"width":i=an(u);break;case"height":o=an(u);break;case"totalheight":s=an(u);break;default:throw new n("Invalid key: '"+c[0]+"' in \\includegraphics.")}}}var p=Ft(t[0],"url").url;return""===l&&(l=(l=(l=p).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),a.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:a.mode,alt:l,width:i,height:o,totalheight:s,src:p}:a.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(e,t){var r=Le(e.height,t),n=0;e.totalheight.number>0&&(n=Le(e.totalheight,t)-r,n=Number(n.toFixed(2)));var a=0;e.width.number>0&&(a=Le(e.width,t));var i={height:r+n+"em"};a>0&&(i.width=a+"em"),n>0&&(i.verticalAlign=-n+"em");var o=new C(e.src,e.alt,i);return o.height=r,o.depth=n,o},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=Le(e.height,t),a=0;if(e.totalheight.number>0&&(a=(a=Le(e.totalheight,t)-n).toFixed(2),r.setAttribute("valign","-"+a+"em")),r.setAttribute("height",n+a+"em"),e.width.number>0){var i=Le(e.width,t);r.setAttribute("width",i+"em")}return r.setAttribute("src",e.src),r}}),nt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,a=Ft(t[0],"size");if(r.settings.strict){var i="m"===n[1],o="mu"===a.value.unit;i?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+a.value.unit+" units"),"math"!==r.mode&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:a.value}},htmlBuilder:function(e,t){return je.makeGlue(e.dimension,t)},mathmlBuilder:function(e,t){var r=Le(e.dimension,t);return new Mt.SpaceNode(r)}}),nt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,a=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:a}},htmlBuilder:function(e,t){var r;"clap"===e.alignment?(r=je.makeSpan([],[bt(e.body,t)]),r=je.makeSpan(["inner"],[r],t)):r=je.makeSpan(["inner"],[bt(e.body,t)]);var n=je.makeSpan(["fix"],[]),a=je.makeSpan([e.alignment],[r,n],t),i=je.makeSpan(["strut"]);return i.style.height=a.height+a.depth+"em",i.style.verticalAlign=-a.depth+"em",a.children.unshift(i),a=je.makeSpan(["thinbox"],[a],t),je.makeSpan(["mord","vbox"],[a],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[Nt(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),nt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){var r=e.funcName,n=e.parser,a=n.mode;n.switchMode("math");var i="\\("===r?"\\)":"$",o=n.parseExpression(!1,i);return n.expect(i),n.switchMode(a),{type:"styling",mode:n.mode,style:"text",body:o}}}),nt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(e,t){throw new n("Mismatched "+e.funcName)}});var on=function(e,t){switch(t.style.size){case b.DISPLAY.size:return e.display;case b.TEXT.size:return e.text;case b.SCRIPT.size:return e.script;case b.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};nt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(e,t){return{type:"mathchoice",mode:e.parser.mode,display:ot(t[0]),text:ot(t[1]),script:ot(t[2]),scriptscript:ot(t[3])}},htmlBuilder:function(e,t){var r=on(e,t),n=ut(r,t,!1);return je.makeFragment(n)},mathmlBuilder:function(e,t){var r=on(e,t);return qt(r,t)}});var sn=function(e,t,r,n,a,i,o){var s,l,h;if(e=je.makeSpan([],[e]),t){var m=bt(t,n.havingStyle(a.sup()),n);l={elem:m,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-m.depth)}}if(r){var c=bt(r,n.havingStyle(a.sub()),n);s={elem:c,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-c.height)}}if(l&&s){var u=n.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+e.depth+o;h=je.makeVList({positionType:"bottom",positionData:u,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:-i+"em"},{type:"kern",size:s.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:i+"em"},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(s){var p=e.height-o;h=je.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:-i+"em"},{type:"kern",size:s.kern},{type:"elem",elem:e}]},n)}else{if(!l)return e;var d=e.depth+o;h=je.makeVList({positionType:"bottom",positionData:d,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:i+"em"},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}return je.makeSpan(["mop","op-limits"],[h],n)},ln=["\\smallint"],hn=function(e,t){var r,n,a,i=!1;"supsub"===e.type?(r=e.sup,n=e.sub,a=Ft(e.base,"op"),i=!0):a=Ft(e,"op");var o,s=t.style,h=!1;if(s.size===b.DISPLAY.size&&a.symbol&&!l.contains(ln,a.name)&&(h=!0),a.symbol){var m=h?"Size2-Regular":"Size1-Regular",c="";if("\\oiint"!==a.name&&"\\oiiint"!==a.name||(c=a.name.substr(1),a.name="oiint"===c?"\\iint":"\\iiint"),o=je.makeSymbol(a.name,m,"math",t,["mop","op-symbol",h?"large-op":"small-op"]),c.length>0){var u=o.italic,p=je.staticSvg(c+"Size"+(h?"2":"1"),t);o=je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:p,shift:h?.08:0}]},t),a.name="\\"+c,o.classes.unshift("mop"),o.italic=u}}else if(a.body){var d=ut(a.body,t,!0);1===d.length&&d[0]instanceof O?(o=d[0]).classes[0]="mop":o=je.makeSpan(["mop"],d,t)}else{for(var f=[],g=1;g<a.name.length;g++)f.push(je.mathsym(a.name[g],a.mode,t));o=je.makeSpan(["mop"],f,t)}var v=0,y=0;return(o instanceof O||"\\oiint"===a.name||"\\oiiint"===a.name)&&!a.suppressBaseShift&&(v=(o.height-o.depth)/2-t.fontMetrics().axisHeight,y=o.italic),i?sn(o,r,n,t,s,y,v):(v&&(o.style.position="relative",o.style.top=v+"em"),o)},mn=function(e,t){var r;if(e.symbol)r=new kt("mo",[zt(e.name,e.mode)]),l.contains(ln,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new kt("mo",Bt(e.body,t));else{r=new kt("mi",[new St(e.name.slice(1))]);var n=new kt("mo",[zt("⁡","text")]);r=e.parentIsSupSub?new kt("mrow",[r,n]):wt([r,n])}return r},cn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};nt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(e,t){var r=e.parser,n=e.funcName;return 1===n.length&&(n=cn[n]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:hn,mathmlBuilder:mn}),nt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ot(n)}},htmlBuilder:hn,mathmlBuilder:mn});var un={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};nt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:hn,mathmlBuilder:mn}),nt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:hn,mathmlBuilder:mn}),nt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(e){var t=e.parser,r=e.funcName;return 1===r.length&&(r=un[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:hn,mathmlBuilder:mn});var pn=function(e,t){var r,n,a,i,o=!1;if("supsub"===e.type?(r=e.sup,n=e.sub,a=Ft(e.base,"operatorname"),o=!0):a=Ft(e,"operatorname"),a.body.length>0){for(var s=a.body.map(function(e){var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e}),l=ut(s,t.withFont("mathrm"),!0),h=0;h<l.length;h++){var m=l[h];m instanceof O&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}i=je.makeSpan(["mop"],l,t)}else i=je.makeSpan(["mop"],[],t);return o?sn(i,r,n,t,t.style,0,0):i};function dn(e,t,r){for(var n=ut(e,t,!1),a=t.sizeMultiplier/r.sizeMultiplier,i=0;i<n.length;i++){var o=n[i].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[i].classes,t.sizingClasses(r)):n[i].classes[o+1]==="reset-size"+t.size&&(n[i].classes[o+1]="reset-size"+r.size),n[i].height*=a,n[i].depth*=a}return je.makeFragment(n)}nt({type:"operatorname",names:["\\operatorname","\\operatorname*"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=e.funcName,a=t[0];return{type:"operatorname",mode:r.mode,body:ot(a),alwaysHandleSupSub:"\\operatorname*"===n,limits:!1,parentIsSupSub:!1}},htmlBuilder:pn,mathmlBuilder:function(e,t){for(var r=Bt(e.body,t.withFont("mathrm")),n=!0,a=0;a<r.length;a++){var i=r[a];if(i instanceof Mt.SpaceNode);else if(i instanceof Mt.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var o=i.children[0];1===i.children.length&&o instanceof Mt.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var s=r.map(function(e){return e.toText()}).join("");r=[new Mt.TextNode(s)]}var l=new Mt.MathNode("mi",r);l.setAttribute("mathvariant","normal");var h=new Mt.MathNode("mo",[zt("⁡","text")]);return e.parentIsSupSub?new Mt.MathNode("mrow",[l,h]):Mt.newDocumentFragment([l,h])}}),at({type:"ordgroup",htmlBuilder:function(e,t){return e.semisimple?je.makeFragment(ut(e.body,t,!1)):je.makeSpan(["mord"],ut(e.body,t,!0),t)},mathmlBuilder:function(e,t){return qt(e.body,t,!0)}}),nt({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(e,t){var r=e.parser,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=bt(e.body,t.havingCrampedStyle()),n=je.makeLineSpan("overline-line",t),a=t.fontMetrics().defaultRuleThickness,i=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*a},{type:"elem",elem:n},{type:"kern",size:a}]},t);return je.makeSpan(["mord","overline"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[new Mt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new Mt.MathNode("mover",[Nt(e.body,t),r]);return n.setAttribute("accent","true"),n}}),nt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"phantom",mode:r.mode,body:ot(n)}},htmlBuilder:function(e,t){var r=ut(e.body,t.withPhantom(),!1);return je.makeFragment(r)},mathmlBuilder:function(e,t){var r=Bt(e.body,t);return new Mt.MathNode("mphantom",r)}}),nt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=je.makeSpan([],[bt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),je.makeSpan(["mord"],[r],t)},mathmlBuilder:function(e,t){var r=Bt(ot(e.body),t),n=new Mt.MathNode("mphantom",r),a=new Mt.MathNode("mpadded",[n]);return a.setAttribute("height","0px"),a.setAttribute("depth","0px"),a}}),nt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){var r=e.parser,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:function(e,t){var r=je.makeSpan(["inner"],[bt(e.body,t.withPhantom())]),n=je.makeSpan(["fix"],[]);return je.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:function(e,t){var r=Bt(ot(e.body),t),n=new Mt.MathNode("mphantom",r),a=new Mt.MathNode("mpadded",[n]);return a.setAttribute("width","0px"),a}}),nt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(e,t){var r=e.parser,n=Ft(t[0],"size").value,a=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:a}},htmlBuilder:function(e,t){var r=bt(e.body,t),n=Le(e.dy,t);return je.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[Nt(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),nt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(e,t,r){var n=e.parser,a=r[0],i=Ft(t[0],"size"),o=Ft(t[1],"size");return{type:"rule",mode:n.mode,shift:a&&Ft(a,"size").value,width:i.value,height:o.value}},htmlBuilder:function(e,t){var r=je.makeSpan(["mord","rule"],[],t),n=Le(e.width,t),a=Le(e.height,t),i=e.shift?Le(e.shift,t):0;return r.style.borderRightWidth=n+"em",r.style.borderTopWidth=a+"em",r.style.bottom=i+"em",r.width=n,r.height=a+i,r.depth=-i,r.maxFontSize=1.125*a*t.sizeMultiplier,r},mathmlBuilder:function(e,t){var r=Le(e.width,t),n=Le(e.height,t),a=e.shift?Le(e.shift,t):0,i=t.color&&t.getColor()||"black",o=new Mt.MathNode("mspace");o.setAttribute("mathbackground",i),o.setAttribute("width",r+"em"),o.setAttribute("height",n+"em");var s=new Mt.MathNode("mpadded",[o]);return a>=0?s.setAttribute("height","+"+a+"em"):(s.setAttribute("height",a+"em"),s.setAttribute("depth","+"+-a+"em")),s.setAttribute("voffset",a+"em"),s}});var fn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];nt({type:"sizing",names:fn,props:{numArgs:0,allowedInText:!0},handler:function(e,t){var r=e.breakOnTokenText,n=e.funcName,a=e.parser,i=a.parseExpression(!1,r);return{type:"sizing",mode:a.mode,size:fn.indexOf(n)+1,body:i}},htmlBuilder:function(e,t){var r=t.havingSize(e.size);return dn(e.body,r,t)},mathmlBuilder:function(e,t){var r=t.havingSize(e.size),n=Bt(e.body,r),a=new Mt.MathNode("mstyle",n);return a.setAttribute("mathsize",r.sizeMultiplier+"em"),a}}),nt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(e,t,r){var n=e.parser,a=!1,i=!1,o=r[0]&&Ft(r[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l){if("t"===(s=o.body[l].text))a=!0;else{if("b"!==s){a=!1,i=!1;break}i=!0}}else a=!0,i=!0;var h=t[0];return{type:"smash",mode:n.mode,body:h,smashHeight:a,smashDepth:i}},htmlBuilder:function(e,t){var r=je.makeSpan([],[bt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var a=0;a<r.children.length;a++)r.children[a].depth=0;var i=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return je.makeSpan(["mord"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mpadded",[Nt(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}}),nt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(e,t,r){var n=e.parser,a=r[0],i=t[0];return{type:"sqrt",mode:n.mode,body:i,index:a}},htmlBuilder:function(e,t){var r=bt(e.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r=je.wrapFragment(r,t);var n=t.fontMetrics().defaultRuleThickness,a=n;t.style.id<b.TEXT.id&&(a=t.fontMetrics().xHeight);var i=n+a/4,o=r.height+r.depth+i+n,s=Sr(o,t),l=s.span,h=s.ruleWidth,m=s.advanceWidth,c=l.height-h;c>r.height+r.depth+i&&(i=(i+c-r.height-r.depth)/2);var u=l.height-r.height-i-h;r.style.paddingLeft=m+"em";var p=je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+u)},{type:"elem",elem:l},{type:"kern",size:h}]},t);if(e.index){var d=t.havingStyle(b.SCRIPTSCRIPT),f=bt(e.index,d,t),g=.6*(p.height-p.depth),v=je.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:f}]},t),y=je.makeSpan(["root"],[v]);return je.makeSpan(["mord","sqrt"],[y,p],t)}return je.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder:function(e,t){var r=e.body,n=e.index;return n?new Mt.MathNode("mroot",[Nt(r,t),Nt(n,t)]):new Mt.MathNode("msqrt",[Nt(r,t)])}});var gn={display:b.DISPLAY,text:b.TEXT,script:b.SCRIPT,scriptscript:b.SCRIPTSCRIPT};nt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(e,t){var r=e.breakOnTokenText,n=e.funcName,a=e.parser,i=a.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:a.mode,style:o,body:i}},htmlBuilder:function(e,t){var r=gn[e.style],n=t.havingStyle(r).withFont("");return dn(e.body,n,t)},mathmlBuilder:function(e,t){var r=gn[e.style],n=t.havingStyle(r),a=Bt(e.body,n),i=new Mt.MathNode("mstyle",a),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return i.setAttribute("scriptlevel",o[0]),i.setAttribute("displaystyle",o[1]),i}});var vn=function(e,t){var r=e.base;return r?"op"===r.type?r.limits&&(t.style.size===b.DISPLAY.size||r.alwaysHandleSupSub)?hn:null:"operatorname"===r.type?r.alwaysHandleSupSub&&(t.style.size===b.DISPLAY.size||r.limits)?pn:null:"accent"===r.type?l.isCharacterBox(r.base)?Ut:null:"horizBrace"===r.type&&!e.sub===r.isOver?nn:null:null};at({type:"supsub",htmlBuilder:function(e,t){var r=vn(e,t);if(r)return r(e,t);var n,a,i,o=e.base,s=e.sup,h=e.sub,m=bt(o,t),c=t.fontMetrics(),u=0,p=0,d=o&&l.isCharacterBox(o);if(s){var f=t.havingStyle(t.style.sup());n=bt(s,f,t),d||(u=m.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(h){var g=t.havingStyle(t.style.sub());a=bt(h,g,t),d||(p=m.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}i=t.style===b.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var v,y=t.sizeMultiplier,x=.5/c.ptPerEm/y+"em",w=null;if(a){var k=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(m instanceof O||k)&&(w=-m.italic+"em")}if(n&&a){u=Math.max(u,i,n.depth+.25*c.xHeight),p=Math.max(p,c.sub2);var S=4*c.defaultRuleThickness;if(u-n.depth-(a.height-p)<S){p=S-(u-n.depth)+a.height;var M=.8*c.xHeight-(u-n.depth);M>0&&(u+=M,p-=M)}var z=[{type:"elem",elem:a,shift:p,marginRight:x,marginLeft:w},{type:"elem",elem:n,shift:-u,marginRight:x}];v=je.makeVList({positionType:"individualShift",children:z},t)}else if(a){p=Math.max(p,c.sub1,a.height-.8*c.xHeight);var A=[{type:"elem",elem:a,marginLeft:w,marginRight:x}];v=je.makeVList({positionType:"shift",positionData:p,children:A},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");u=Math.max(u,i,n.depth+.25*c.xHeight),v=je.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:n,marginRight:x}]},t)}var T=gt(m,"right")||"mord";return je.makeSpan([T],[m,je.makeSpan(["msupsub"],[v])],t)},mathmlBuilder:function(e,t){var r,n=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(n=!0,r=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var a,i=[Nt(e.base,t)];if(e.sub&&i.push(Nt(e.sub,t)),e.sup&&i.push(Nt(e.sup,t)),n)a=r?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;a=o&&"op"===o.type&&o.limits&&t.style===b.DISPLAY||o&&"operatorname"===o.type&&o.alwaysHandleSupSub&&(t.style===b.DISPLAY||o.limits)?"munderover":"msubsup"}else{var s=e.base;a=s&&"op"===s.type&&s.limits&&(t.style===b.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||t.style===b.DISPLAY)?"munder":"msub"}else{var l=e.base;a=l&&"op"===l.type&&l.limits&&(t.style===b.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===b.DISPLAY)?"mover":"msup"}return new Mt.MathNode(a,i)}}),at({type:"atom",htmlBuilder:function(e,t){return je.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[zt(e.text,e.mode)]);if("bin"===e.family){var n=Tt(e,t);"bold-italic"===n&&r.setAttribute("mathvariant",n)}else"punct"===e.family?r.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||r.setAttribute("stretchy","false");return r}});var bn={mi:"italic",mn:"normal",mtext:"normal"};at({type:"mathord",htmlBuilder:function(e,t){return je.makeOrd(e,t,"mathord")},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mi",[zt(e.text,e.mode,t)]),n=Tt(e,t)||"italic";return n!==bn[r.type]&&r.setAttribute("mathvariant",n),r}}),at({type:"textord",htmlBuilder:function(e,t){return je.makeOrd(e,t,"textord")},mathmlBuilder:function(e,t){var r,n=zt(e.text,e.mode,t),a=Tt(e,t)||"normal";return r="text"===e.mode?new Mt.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new Mt.MathNode("mn",[n]):"\\prime"===e.text?new Mt.MathNode("mo",[n]):new Mt.MathNode("mi",[n]),a!==bn[r.type]&&r.setAttribute("mathvariant",a),r}});var yn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},xn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};at({type:"spacing",htmlBuilder:function(e,t){if(xn.hasOwnProperty(e.text)){var r=xn[e.text].className||"";if("text"===e.mode){var a=je.makeOrd(e,t,"textord");return a.classes.push(r),a}return je.makeSpan(["mspace",r],[je.mathsym(e.text,e.mode,t)],t)}if(yn.hasOwnProperty(e.text))return je.makeSpan(["mspace",yn[e.text]],[],t);throw new n('Unknown type of space "'+e.text+'"')},mathmlBuilder:function(e,t){if(!xn.hasOwnProperty(e.text)){if(yn.hasOwnProperty(e.text))return new Mt.MathNode("mspace");throw new n('Unknown type of space "'+e.text+'"')}return new Mt.MathNode("mtext",[new Mt.TextNode(" ")])}});var wn=function(){var e=new Mt.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};at({type:"tag",mathmlBuilder:function(e,t){var r=new Mt.MathNode("mtable",[new Mt.MathNode("mtr",[wn(),new Mt.MathNode("mtd",[qt(e.body,t)]),wn(),new Mt.MathNode("mtd",[qt(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var kn={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Sn={"\\textbf":"textbf","\\textmd":"textmd"},Mn={"\\textit":"textit","\\textup":"textup"},zn=function(e,t){var r=e.font;return r?kn[r]?t.withTextFontFamily(kn[r]):Sn[r]?t.withTextFontWeight(Sn[r]):t.withTextFontShape(Mn[r]):t};nt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(e,t){var r=e.parser,n=e.funcName,a=t[0];return{type:"text",mode:r.mode,body:ot(a),font:n}},htmlBuilder:function(e,t){var r=zn(e,t),n=ut(e.body,r,!0);return je.makeSpan(["mord","text"],n,r)},mathmlBuilder:function(e,t){var r=zn(e,t);return qt(e.body,r)}}),nt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(e,t){return{type:"underline",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var r=bt(e.body,t),n=je.makeLineSpan("underline-line",t),a=t.fontMetrics().defaultRuleThickness,i=je.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:a},{type:"elem",elem:n},{type:"kern",size:3*a},{type:"elem",elem:r}]},t);return je.makeSpan(["mord","underline"],[i],t)},mathmlBuilder:function(e,t){var r=new Mt.MathNode("mo",[new Mt.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new Mt.MathNode("munder",[Nt(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),nt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(e,t){return{type:"vcenter",mode:e.parser.mode,body:t[0]}},htmlBuilder:function(e,t){var r=bt(e.body,t),n=t.fontMetrics().axisHeight,a=.5*(r.height-n-(r.depth+n));return je.makeVList({positionType:"shift",positionData:a,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:function(e,t){return new Mt.MathNode("mpadded",[Nt(e.body,t)],["vcenter"])}}),nt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(e,t,r){throw new n("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(e,t){for(var r=An(e),n=[],a=t.havingStyle(t.style.text()),i=0;i<r.length;i++){var o=r[i];"~"===o&&(o="\\textasciitilde"),n.push(je.makeSymbol(o,"Typewriter-Regular",e.mode,a,["mord","texttt"]))}return je.makeSpan(["mord","text"].concat(a.sizingClasses(t)),je.tryCombineChars(n),a)},mathmlBuilder:function(e,t){var r=new Mt.TextNode(An(e)),n=new Mt.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var An=function(e){return e.body.replace(/ /g,e.star?"␣":" ")},Tn=et,Bn=function(){function e(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}return e.range=function(t,r){return r?t&&t.loc&&r.loc&&t.loc.lexer===r.loc.lexer?new e(t.loc.lexer,t.loc.start,r.loc.end):null:t&&t.loc},e}(),qn=function(){function e(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}return e.prototype.range=function(t,r){return new e(r,Bn.range(this,t))},e}(),Nn=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),Cn=new RegExp("[̀-ͯ]+$"),In=function(){function e(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\operatorname\\*|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14}}var t=e.prototype;return t.setCatcode=function(e,t){this.catcodes[e]=t},t.lex=function(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new qn("EOF",new Bn(this,t,t));var r=this.tokenRegex.exec(e);if(null===r||r.index!==t)throw new n("Unexpected character: '"+e[t]+"'",new qn(e[t],new Bn(this,t,t+1)));var a=r[2]||" ";if(14===this.catcodes[a]){var i=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===i?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}var o=a.match(Nn);return o&&(a=o[1]),new qn(a,new Bn(this,t,this.tokenRegex.lastIndex))},e}(),On=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}var t=e.prototype;return t.beginGroup=function(){this.undefStack.push({})},t.endGroup=function(){if(0===this.undefStack.length)throw new n("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?delete this.current[t]:this.current[t]=e[t])},t.has=function(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)},t.get=function(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]},t.set=function(e,t,r){if(void 0===r&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}this.current[e]=t},e}(),Rn={},En=Rn;function Hn(e,t){Rn[e]=t}Hn("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Hn("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Hn("\\@firstoftwo",function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),Hn("\\@secondoftwo",function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),Hn("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Hn("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Hn("\\TextOrMath",function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Hn("\\char",function(e){var t,r=e.popToken(),a="";if("'"===r.text)t=8,r=e.popToken();else if('"'===r.text)t=16,r=e.popToken();else if("`"===r.text)if("\\"===(r=e.popToken()).text[0])a=r.text.charCodeAt(1);else{if("EOF"===r.text)throw new n("\\char` missing argument");a=r.text.charCodeAt(0)}else t=10;if(t){if(null==(a=Ln[r.text])||a>=t)throw new n("Invalid base-"+t+" digit "+r.text);for(var i;null!=(i=Ln[e.future().text])&&i<t;)a*=t,a+=i,e.popToken()}return"\\@char{"+a+"}"});var Dn=function(e,t,r){var a=e.consumeArg().tokens;if(1!==a.length)throw new n("\\newcommand's first argument must be a macro name");var i=a[0].text,o=e.isDefined(i);if(o&&!t)throw new n("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!r)throw new n("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(1===(a=e.consumeArg().tokens).length&&"["===a[0].text){for(var l="",h=e.expandNextToken();"]"!==h.text&&"EOF"!==h.text;)l+=h.text,h=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new n("Invalid number of arguments: "+l);s=parseInt(l),a=e.consumeArg().tokens}return e.macros.set(i,{tokens:a,numArgs:s}),""};Hn("\\newcommand",function(e){return Dn(e,!1,!0)}),Hn("\\renewcommand",function(e){return Dn(e,!0,!1)}),Hn("\\providecommand",function(e){return Dn(e,!0,!0)}),Hn("\\message",function(e){var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(function(e){return e.text}).join("")),""}),Hn("\\errmessage",function(e){var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(function(e){return e.text}).join("")),""}),Hn("\\show",function(e){var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Tn[r],X.math[r],X.text[r]),""}),Hn("\\bgroup","{"),Hn("\\egroup","}"),Hn("\\lq","`"),Hn("\\rq","'"),Hn("\\aa","\\r a"),Hn("\\AA","\\r A"),Hn("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Hn("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Hn("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Hn("ℬ","\\mathscr{B}"),Hn("ℰ","\\mathscr{E}"),Hn("ℱ","\\mathscr{F}"),Hn("ℋ","\\mathscr{H}"),Hn("ℐ","\\mathscr{I}"),Hn("ℒ","\\mathscr{L}"),Hn("ℳ","\\mathscr{M}"),Hn("ℛ","\\mathscr{R}"),Hn("ℭ","\\mathfrak{C}"),Hn("ℌ","\\mathfrak{H}"),Hn("ℨ","\\mathfrak{Z}"),Hn("\\Bbbk","\\Bbb{k}"),Hn("·","\\cdotp"),Hn("\\llap","\\mathllap{\\textrm{#1}}"),Hn("\\rlap","\\mathrlap{\\textrm{#1}}"),Hn("\\clap","\\mathclap{\\textrm{#1}}"),Hn("\\mathstrut","\\vphantom{(}"),Hn("\\underbar","\\underline{\\text{#1}}"),Hn("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Hn("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Hn("\\ne","\\neq"),Hn("≠","\\neq"),Hn("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Hn("∉","\\notin"),Hn("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Hn("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Hn("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Hn("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Hn("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Hn("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Hn("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Hn("⟂","\\perp"),Hn("‼","\\mathclose{!\\mkern-0.8mu!}"),Hn("∌","\\notni"),Hn("⌜","\\ulcorner"),Hn("⌝","\\urcorner"),Hn("⌞","\\llcorner"),Hn("⌟","\\lrcorner"),Hn("©","\\copyright"),Hn("®","\\textregistered"),Hn("️","\\textregistered"),Hn("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Hn("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Hn("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Hn("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Hn("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Hn("⋮","\\vdots"),Hn("\\varGamma","\\mathit{\\Gamma}"),Hn("\\varDelta","\\mathit{\\Delta}"),Hn("\\varTheta","\\mathit{\\Theta}"),Hn("\\varLambda","\\mathit{\\Lambda}"),Hn("\\varXi","\\mathit{\\Xi}"),Hn("\\varPi","\\mathit{\\Pi}"),Hn("\\varSigma","\\mathit{\\Sigma}"),Hn("\\varUpsilon","\\mathit{\\Upsilon}"),Hn("\\varPhi","\\mathit{\\Phi}"),Hn("\\varPsi","\\mathit{\\Psi}"),Hn("\\varOmega","\\mathit{\\Omega}"),Hn("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Hn("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),Hn("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Hn("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Hn("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Hn("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Pn={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Hn("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in Pn?t=Pn[r]:("\\not"===r.substr(0,4)||r in X.math&&l.contains(["bin","rel"],X.math[r].group))&&(t="\\dotsb"),t});var Fn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Hn("\\dotso",function(e){return e.future().text in Fn?"\\ldots\\,":"\\ldots"}),Hn("\\dotsc",function(e){var t=e.future().text;return t in Fn&&","!==t?"\\ldots\\,":"\\ldots"}),Hn("\\cdots",function(e){return e.future().text in Fn?"\\@cdots\\,":"\\@cdots"}),Hn("\\dotsb","\\cdots"),Hn("\\dotsm","\\cdots"),Hn("\\dotsi","\\!\\cdots"),Hn("\\dotsx","\\ldots\\,"),Hn("\\DOTSI","\\relax"),Hn("\\DOTSB","\\relax"),Hn("\\DOTSX","\\relax"),Hn("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Hn("\\,","\\tmspace+{3mu}{.1667em}"),Hn("\\thinspace","\\,"),Hn("\\>","\\mskip{4mu}"),Hn("\\:","\\tmspace+{4mu}{.2222em}"),Hn("\\medspace","\\:"),Hn("\\;","\\tmspace+{5mu}{.2777em}"),Hn("\\thickspace","\\;"),Hn("\\!","\\tmspace-{3mu}{.1667em}"),Hn("\\negthinspace","\\!"),Hn("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Hn("\\negthickspace","\\tmspace-{5mu}{.277em}"),Hn("\\enspace","\\kern.5em "),Hn("\\enskip","\\hskip.5em\\relax"),Hn("\\quad","\\hskip1em\\relax"),Hn("\\qquad","\\hskip2em\\relax"),Hn("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Hn("\\tag@paren","\\tag@literal{({#1})}"),Hn("\\tag@literal",function(e){if(e.macros.get("\\df@tag"))throw new n("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Hn("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Hn("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Hn("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Hn("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Hn("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),Hn("\\newline","\\\\\\relax"),Hn("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Vn=D["Main-Regular"]["T".charCodeAt(0)][1]-.7*D["Main-Regular"]["A".charCodeAt(0)][1]+"em";Hn("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Vn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Hn("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Vn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Hn("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Hn("\\@hspace","\\hskip #1\\relax"),Hn("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Hn("\\ordinarycolon",":"),Hn("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Hn("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Hn("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Hn("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Hn("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Hn("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Hn("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Hn("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Hn("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Hn("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Hn("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Hn("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Hn("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Hn("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Hn("∷","\\dblcolon"),Hn("∹","\\eqcolon"),Hn("≔","\\coloneqq"),Hn("≕","\\eqqcolon"),Hn("⩴","\\Coloneqq"),Hn("\\ratio","\\vcentcolon"),Hn("\\coloncolon","\\dblcolon"),Hn("\\colonequals","\\coloneqq"),Hn("\\coloncolonequals","\\Coloneqq"),Hn("\\equalscolon","\\eqqcolon"),Hn("\\equalscoloncolon","\\Eqqcolon"),Hn("\\colonminus","\\coloneq"),Hn("\\coloncolonminus","\\Coloneq"),Hn("\\minuscolon","\\eqcolon"),Hn("\\minuscoloncolon","\\Eqcolon"),Hn("\\coloncolonapprox","\\Colonapprox"),Hn("\\coloncolonsim","\\Colonsim"),Hn("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Hn("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Hn("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Hn("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Hn("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Hn("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Hn("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Hn("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Hn("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Hn("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Hn("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Hn("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Hn("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Hn("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Hn("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Hn("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Hn("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Hn("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Hn("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Hn("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Hn("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Hn("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Hn("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Hn("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Hn("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Hn("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Hn("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Hn("\\imath","\\html@mathml{\\@imath}{ı}"),Hn("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Hn("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Hn("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Hn("⟦","\\llbracket"),Hn("⟧","\\rrbracket"),Hn("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Hn("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Hn("⦃","\\lBrace"),Hn("⦄","\\rBrace"),Hn("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Hn("⦵","\\minuso"),Hn("\\darr","\\downarrow"),Hn("\\dArr","\\Downarrow"),Hn("\\Darr","\\Downarrow"),Hn("\\lang","\\langle"),Hn("\\rang","\\rangle"),Hn("\\uarr","\\uparrow"),Hn("\\uArr","\\Uparrow"),Hn("\\Uarr","\\Uparrow"),Hn("\\N","\\mathbb{N}"),Hn("\\R","\\mathbb{R}"),Hn("\\Z","\\mathbb{Z}"),Hn("\\alef","\\aleph"),Hn("\\alefsym","\\aleph"),Hn("\\Alpha","\\mathrm{A}"),Hn("\\Beta","\\mathrm{B}"),Hn("\\bull","\\bullet"),Hn("\\Chi","\\mathrm{X}"),Hn("\\clubs","\\clubsuit"),Hn("\\cnums","\\mathbb{C}"),Hn("\\Complex","\\mathbb{C}"),Hn("\\Dagger","\\ddagger"),Hn("\\diamonds","\\diamondsuit"),Hn("\\empty","\\emptyset"),Hn("\\Epsilon","\\mathrm{E}"),Hn("\\Eta","\\mathrm{H}"),Hn("\\exist","\\exists"),Hn("\\harr","\\leftrightarrow"),Hn("\\hArr","\\Leftrightarrow"),Hn("\\Harr","\\Leftrightarrow"),Hn("\\hearts","\\heartsuit"),Hn("\\image","\\Im"),Hn("\\infin","\\infty"),Hn("\\Iota","\\mathrm{I}"),Hn("\\isin","\\in"),Hn("\\Kappa","\\mathrm{K}"),Hn("\\larr","\\leftarrow"),Hn("\\lArr","\\Leftarrow"),Hn("\\Larr","\\Leftarrow"),Hn("\\lrarr","\\leftrightarrow"),Hn("\\lrArr","\\Leftrightarrow"),Hn("\\Lrarr","\\Leftrightarrow"),Hn("\\Mu","\\mathrm{M}"),Hn("\\natnums","\\mathbb{N}"),Hn("\\Nu","\\mathrm{N}"),Hn("\\Omicron","\\mathrm{O}"),Hn("\\plusmn","\\pm"),Hn("\\rarr","\\rightarrow"),Hn("\\rArr","\\Rightarrow"),Hn("\\Rarr","\\Rightarrow"),Hn("\\real","\\Re"),Hn("\\reals","\\mathbb{R}"),Hn("\\Reals","\\mathbb{R}"),Hn("\\Rho","\\mathrm{P}"),Hn("\\sdot","\\cdot"),Hn("\\sect","\\S"),Hn("\\spades","\\spadesuit"),Hn("\\sub","\\subset"),Hn("\\sube","\\subseteq"),Hn("\\supe","\\supseteq"),Hn("\\Tau","\\mathrm{T}"),Hn("\\thetasym","\\vartheta"),Hn("\\weierp","\\wp"),Hn("\\Zeta","\\mathrm{Z}"),Hn("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Hn("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Hn("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Hn("\\bra","\\mathinner{\\langle{#1}|}"),Hn("\\ket","\\mathinner{|{#1}\\rangle}"),Hn("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Hn("\\Bra","\\left\\langle#1\\right|"),Hn("\\Ket","\\left|#1\\right\\rangle"),Hn("\\angln","{\\angl n}"),Hn("\\blue","\\textcolor{##6495ed}{#1}"),Hn("\\orange","\\textcolor{##ffa500}{#1}"),Hn("\\pink","\\textcolor{##ff00af}{#1}"),Hn("\\red","\\textcolor{##df0030}{#1}"),Hn("\\green","\\textcolor{##28ae7b}{#1}"),Hn("\\gray","\\textcolor{gray}{#1}"),Hn("\\purple","\\textcolor{##9d38bd}{#1}"),Hn("\\blueA","\\textcolor{##ccfaff}{#1}"),Hn("\\blueB","\\textcolor{##80f6ff}{#1}"),Hn("\\blueC","\\textcolor{##63d9ea}{#1}"),Hn("\\blueD","\\textcolor{##11accd}{#1}"),Hn("\\blueE","\\textcolor{##0c7f99}{#1}"),Hn("\\tealA","\\textcolor{##94fff5}{#1}"),Hn("\\tealB","\\textcolor{##26edd5}{#1}"),Hn("\\tealC","\\textcolor{##01d1c1}{#1}"),Hn("\\tealD","\\textcolor{##01a995}{#1}"),Hn("\\tealE","\\textcolor{##208170}{#1}"),Hn("\\greenA","\\textcolor{##b6ffb0}{#1}"),Hn("\\greenB","\\textcolor{##8af281}{#1}"),Hn("\\greenC","\\textcolor{##74cf70}{#1}"),Hn("\\greenD","\\textcolor{##1fab54}{#1}"),Hn("\\greenE","\\textcolor{##0d923f}{#1}"),Hn("\\goldA","\\textcolor{##ffd0a9}{#1}"),Hn("\\goldB","\\textcolor{##ffbb71}{#1}"),Hn("\\goldC","\\textcolor{##ff9c39}{#1}"),Hn("\\goldD","\\textcolor{##e07d10}{#1}"),Hn("\\goldE","\\textcolor{##a75a05}{#1}"),Hn("\\redA","\\textcolor{##fca9a9}{#1}"),Hn("\\redB","\\textcolor{##ff8482}{#1}"),Hn("\\redC","\\textcolor{##f9685d}{#1}"),Hn("\\redD","\\textcolor{##e84d39}{#1}"),Hn("\\redE","\\textcolor{##bc2612}{#1}"),Hn("\\maroonA","\\textcolor{##ffbde0}{#1}"),Hn("\\maroonB","\\textcolor{##ff92c6}{#1}"),Hn("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Hn("\\maroonD","\\textcolor{##ca337c}{#1}"),Hn("\\maroonE","\\textcolor{##9e034e}{#1}"),Hn("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Hn("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Hn("\\purpleC","\\textcolor{##aa87ff}{#1}"),Hn("\\purpleD","\\textcolor{##7854ab}{#1}"),Hn("\\purpleE","\\textcolor{##543b78}{#1}"),Hn("\\mintA","\\textcolor{##f5f9e8}{#1}"),Hn("\\mintB","\\textcolor{##edf2df}{#1}"),Hn("\\mintC","\\textcolor{##e0e5cc}{#1}"),Hn("\\grayA","\\textcolor{##f6f7f7}{#1}"),Hn("\\grayB","\\textcolor{##f0f1f2}{#1}"),Hn("\\grayC","\\textcolor{##e3e5e6}{#1}"),Hn("\\grayD","\\textcolor{##d6d8da}{#1}"),Hn("\\grayE","\\textcolor{##babec2}{#1}"),Hn("\\grayF","\\textcolor{##888d93}{#1}"),Hn("\\grayG","\\textcolor{##626569}{#1}"),Hn("\\grayH","\\textcolor{##3b3e40}{#1}"),Hn("\\grayI","\\textcolor{##21242c}{#1}"),Hn("\\kaBlue","\\textcolor{##314453}{#1}"),Hn("\\kaGreen","\\textcolor{##71B307}{#1}");var Gn={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Un=function(){function e(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new On(En,t.macros),this.mode=r,this.stack=[]}var t=e.prototype;return t.feed=function(e){this.lexer=new In(e,this.settings)},t.switchMode=function(e){this.mode=e},t.beginGroup=function(){this.macros.beginGroup()},t.endGroup=function(){this.macros.endGroup()},t.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},t.popToken=function(){return this.future(),this.stack.pop()},t.pushToken=function(e){this.stack.push(e)},t.pushTokens=function(e){var t;(t=this.stack).push.apply(t,e)},t.scanArgument=function(e){var t,r,n;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken();var a=this.consumeArg(["]"]);n=a.tokens,r=a.end}else{var i=this.consumeArg();n=i.tokens,t=i.start,r=i.end}return this.pushToken(new qn("EOF",r.loc)),this.pushTokens(n),t.range(r,"")},t.consumeSpaces=function(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}},t.consumeArg=function(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var a,i=this.future(),o=0,s=0;do{if(a=this.popToken(),t.push(a),"{"===a.text)++o;else if("}"===a.text){if(-1===--o)throw new n("Extra }",a)}else if("EOF"===a.text)throw new n("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",a);if(e&&r)if((0===o||1===o&&"{"===e[s])&&a.text===e[s]){if(++s===e.length){t.splice(-s,s);break}}else s=0}while(0!==o||r);return"{"===i.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:a}},t.consumeArgs=function(e,t){if(t){if(t.length!==e+1)throw new n("The length of delimiters doesn't match the number of args!");for(var r=t[0],a=0;a<r.length;a++){var i=this.popToken();if(r[a]!==i.text)throw new n("Use of the macro doesn't match its definition",i)}}for(var o=[],s=0;s<e;s++)o.push(this.consumeArg(t&&t[s+1]).tokens);return o},t.expandOnce=function(e){var t=this.popToken(),r=t.text,a=t.noexpand?null:this._getExpansion(r);if(null==a||e&&a.unexpandable){if(e&&null==a&&"\\"===r[0]&&!this.isDefined(r))throw new n("Undefined control sequence: "+r);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new n("Too many expansions: infinite loop or need to increase maxExpand setting");var i=a.tokens,o=this.consumeArgs(a.numArgs,a.delimiters);if(a.numArgs)for(var s=(i=i.slice()).length-1;s>=0;--s){var l=i[s];if("#"===l.text){if(0===s)throw new n("Incomplete placeholder at end of macro body",l);if("#"===(l=i[--s]).text)i.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new n("Not a valid argument number",l);var h;(h=i).splice.apply(h,[s,2].concat(o[+l.text-1]))}}}return this.pushTokens(i),i},t.expandAfterFuture=function(){return this.expandOnce(),this.future()},t.expandNextToken=function(){for(;;){var e=this.expandOnce();if(e instanceof qn){if("\\relax"!==e.text&&!e.treatAsRelax)return this.stack.pop();this.stack.pop()}}throw new Error},t.expandMacro=function(e){return this.macros.has(e)?this.expandTokens([new qn(e)]):void 0},t.expandTokens=function(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;){var n=this.expandOnce(!0);n instanceof qn&&(n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(this.stack.pop()))}return t},t.expandMacroAsText=function(e){var t=this.expandMacro(e);return t?t.map(function(e){return e.text}).join(""):t},t._getExpansion=function(e){var t=this.macros.get(e);if(null==t)return t;var r="function"==typeof t?t(this):t;if("string"==typeof r){var n=0;if(-1!==r.indexOf("#"))for(var a=r.replace(/##/g,"");-1!==a.indexOf("#"+(n+1));)++n;for(var i=new In(r,this.settings),o=[],s=i.lex();"EOF"!==s.text;)o.push(s),s=i.lex();return o.reverse(),{tokens:o,numArgs:n}}return r},t.isDefined=function(e){return this.macros.has(e)||Tn.hasOwnProperty(e)||X.math.hasOwnProperty(e)||X.text.hasOwnProperty(e)||Gn.hasOwnProperty(e)},t.isExpandable=function(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Tn.hasOwnProperty(e)&&!Tn[e].primitive},e}(),Yn={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},Wn={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},Xn=function(){function e(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Un(e,t,this.mode),this.settings=t,this.leftrightDepth=0}var t=e.prototype;return t.expect=function(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new n("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()},t.consume=function(){this.nextToken=null},t.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},t.switchMode=function(e){this.mode=e,this.gullet.switchMode(e)},t.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e},t.parseExpression=function(t,r){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var a=this.fetch();if(-1!==e.endOfExpression.indexOf(a.text))break;if(r&&a.text===r)break;if(t&&Tn[a.text]&&Tn[a.text].infix)break;var i=this.parseAtom(r);if(!i)break;"internal"!==i.type&&n.push(i)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)},t.handleInfixNodes=function(e){for(var t,r=-1,a=0;a<e.length;a++)if("infix"===e[a].type){if(-1!==r)throw new n("only one infix operator per group",e[a].token);r=a,t=e[a].replaceWith}if(-1!==r&&t){var i,o,s=e.slice(0,r),l=e.slice(r+1);return i=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[i,e[r],o],[]):this.callFunction(t,[i,o],[])]}return e},t.handleSupSubscript=function(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var a=this.parseGroup(e);if(!a)throw new n("Expected group after '"+r+"'",t);return a},t.formatUnsupportedCmd=function(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]}},t.parseAtom=function(e){var t,r,a=this.parseGroup("atom",e);if("text"===this.mode)return a;for(;;){this.consumeSpaces();var i=this.fetch();if("\\limits"===i.text||"\\nolimits"===i.text){if(a&&"op"===a.type){var o="\\limits"===i.text;a.limits=o,a.alwaysHandleSupSub=!0}else{if(!a||"operatorname"!==a.type||!a.alwaysHandleSupSub)throw new n("Limit controls must follow a math operator",i);var s="\\limits"===i.text;a.limits=s}this.consume()}else if("^"===i.text){if(t)throw new n("Double superscript",i);t=this.handleSupSubscript("superscript")}else if("_"===i.text){if(r)throw new n("Double subscript",i);r=this.handleSupSubscript("subscript")}else{if("'"!==i.text)break;if(t)throw new n("Double superscript",i);var l={type:"textord",mode:this.mode,text:"\\prime"},h=[l];for(this.consume();"'"===this.fetch().text;)h.push(l),this.consume();"^"===this.fetch().text&&h.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:h}}}return t||r?{type:"supsub",mode:this.mode,base:a,sup:t,sub:r}:a},t.parseFunction=function(e,t){var r=this.fetch(),a=r.text,i=Tn[a];if(!i)return null;if(this.consume(),t&&"atom"!==t&&!i.allowedInArgument)throw new n("Got function '"+a+"' with no arguments"+(t?" as "+t:""),r);if("text"===this.mode&&!i.allowedInText)throw new n("Can't use function '"+a+"' in text mode",r);if("math"===this.mode&&!1===i.allowedInMath)throw new n("Can't use function '"+a+"' in math mode",r);var o=this.parseArguments(a,i),s=o.args,l=o.optArgs;return this.callFunction(a,s,l,r,e)},t.callFunction=function(e,t,r,a,i){var o={funcName:e,parser:this,token:a,breakOnTokenText:i},s=Tn[e];if(s&&s.handler)return s.handler(o,t,r);throw new n("No function handler for "+e)},t.parseArguments=function(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var a=[],i=[],o=0;o<r;o++){var s=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&null==s||"sqrt"===t.type&&1===o&&null==i[0])&&(s="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)i.push(h);else{if(null==h)throw new n("Null argument, please report this as a bug");a.push(h)}}return{args:a,optArgs:i}},t.parseGroupOfType=function(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":var a=this.parseArgumentGroup(r,"text");return null!=a?{type:"styling",mode:a.mode,body:[a],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",r);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(r)throw new n("A primitive argument cannot be optional");var o=this.parseGroup(e);if(null==o)throw new n("Expected group as "+e,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new n("Unknown group type as "+e,this.fetch())}},t.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},t.parseStringGroup=function(e,t){var r=this.gullet.scanArgument(t);if(null==r)return null;for(var n,a="";"EOF"!==(n=this.fetch()).text;)a+=n.text,this.consume();return this.consume(),r.text=a,r},t.parseRegexGroup=function(e,t){for(var r,a=this.fetch(),i=a,o="";"EOF"!==(r=this.fetch()).text&&e.test(o+r.text);)o+=(i=r).text,this.consume();if(""===o)throw new n("Invalid "+t+": '"+a.text+"'",a);return a.range(i,o)},t.parseColorGroup=function(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new n("Invalid color: '"+t.text+"'",t);var a=r[0];return/^[0-9a-f]{6}$/i.test(a)&&(a="#"+a),{type:"color-token",mode:this.mode,color:a}},t.parseSizeGroup=function(e){var t,r=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",r=!0);var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!a)throw new n("Invalid size: '"+t.text+"'",t);var i={number:+(a[1]+a[2]),unit:a[3]};if(!He(i))throw new n("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:r}},t.parseUrlGroup=function(e){this.gullet.lexer.setCatcode("%",13);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),null==t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}},t.parseArgumentGroup=function(e,t){var r=this.gullet.scanArgument(e);if(null==r)return null;var n=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var i={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return t&&this.switchMode(n),i},t.parseGroup=function(e,t){var r,a=this.fetch(),i=a.text;if("{"===i||"\\begingroup"===i){this.consume();var o="{"===i?"}":"\\endgroup";this.gullet.beginGroup();var s=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),r={type:"ordgroup",mode:this.mode,loc:Bn.range(a,l),body:s,semisimple:"\\begingroup"===i||void 0}}else if(null==(r=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===i[0]&&!Gn.hasOwnProperty(i)){if(this.settings.throwOnError)throw new n("Undefined control sequence: "+i,a);r=this.formatUnsupportedCmd(i),this.consume()}return r},t.formLigatures=function(e){for(var t=e.length-1,r=0;r<t;++r){var n=e[r],a=n.text;"-"===a&&"-"===e[r+1].text&&(r+1<t&&"-"===e[r+2].text?(e.splice(r,3,{type:"textord",mode:"text",loc:Bn.range(n,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Bn.range(n,e[r+1]),text:"--"}),t-=1)),"'"!==a&&"`"!==a||e[r+1].text!==a||(e.splice(r,2,{type:"textord",mode:"text",loc:Bn.range(n,e[r+1]),text:a+a}),t-=1)}},t.parseSymbol=function(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),a="*"===r.charAt(0);if(a&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new n("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:r=r.slice(1,-1),star:a}}Wn.hasOwnProperty(t[0])&&!X[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Wn[t[0]]+t.substr(1));var i,o=Cn.exec(t);if(o&&("i"===(t=t.substring(0,o.index))?t="ı":"j"===t&&(t="ȷ")),X[this.mode][t]){this.settings.strict&&"math"===this.mode&&Me.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var s,l=X[this.mode][t].group,h=Bn.range(e);if(U.hasOwnProperty(l)){var m=l;s={type:"atom",mode:this.mode,family:m,loc:h,text:t}}else s={type:l,mode:this.mode,loc:h,text:t};i=s}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(w(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),i={type:"textord",mode:"text",loc:Bn.range(e),text:t}}if(this.consume(),o)for(var c=0;c<o[0].length;c++){var u=o[0][c];if(!Yn[u])throw new n("Unknown accent ' "+u+"'",e);var p=Yn[u][this.mode];if(!p)throw new n("Accent "+u+" unsupported in "+this.mode+" mode",e);i={type:"accent",mode:this.mode,loc:Bn.range(e),label:p,isStretchy:!1,isShifty:!0,base:i}}return i},e}();Xn.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var _n=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Xn(e,t);delete r.gullet.macros.current["\\df@tag"];var a=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new n("\\tag works only in display equations");r.gullet.feed("\\df@tag"),a=[{type:"tag",mode:"text",body:a,tag:r.parse()}]}return a},jn=function(e,t,r){t.textContent="";var n=Zn(e,r).toNode();t.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),jn=function(){throw new n("KaTeX doesn't work in quirks mode.")});var $n=function(e,t,r){if(r.throwOnError||!(e instanceof n))throw e;var a=je.makeSpan(["katex-error"],[new O(t)]);return a.setAttribute("title",e.toString()),a.setAttribute("style","color:"+r.errorColor),a},Zn=function(e,t){var r=new h(t);try{var n=_n(e,r);return Rt(n,e,r)}catch(t){return $n(t,e,r)}},Kn={version:"0.13.2",render:jn,renderToString:function(e,t){return Zn(e,t).toMarkup()},ParseError:n,__parse:function(e,t){var r=new h(t);return _n(e,r)},__renderToDomTree:Zn,__renderToHTMLTree:function(e,t){var r=new h(t);try{return function(e,t,r){var n=xt(e,It(r)),a=je.makeSpan(["katex"],[n]);return Ot(a,r)}(_n(e,r),0,r)}catch(t){return $n(t,e,r)}},__setFontMetrics:function(e,t){D[e]=t},__defineSymbol:_,__defineMacro:Hn,__domTree:{Span:q,Anchor:N,SymbolNode:O,SvgNode:R,PathNode:E,LineNode:H}};return t=t.default}()});!function(t){var e=t.en=t.en||{};e.dictionary=Object.assign(e.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Centered image":"Centered image","Change image text alternative":"Change image text alternative",Column:"Column","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert code block":"Insert code block","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List",Orange:"Orange","Plain text":"Plain text",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Subscript:"Subscript",Superscript:"Superscript","Table toolbar":"Table toolbar","Text alternative":"Text alternative","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Underline:"Underline",Undo:"Undo","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}));var ChEditorTm=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=469)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return s(t,arguments,h(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)})(t)}function s(t,e,n){return(s=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&f(o,n.prototype),o}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return p}),n.d(e,"b",function(){return d});var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(s,t);var e,n,r,o,i,u=(e=s,n=l(),function(){var t,r=h(e);if(n){var o=h(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return c(this,t)});function s(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var o="".concat(t).concat(n?" ".concat(JSON.stringify(n)):"").concat(y(t));return(r=u.call(this,o)).name="CKEditorError",r.context=e,r.data=n,r}return r=s,i=[{key:"rethrowUnexpectedError",value:function(t,e){if(t.is&&t.is("CKEditorError"))throw t;var n=new s(t.message,e);throw n.stack=t.stack,n}}],(o=[{key:"is",value:function(t){return"CKEditorError"===t}}])&&a(r.prototype,o),i&&a(r,i),s}(u(Error));function d(t,e){var n;(n=console).warn.apply(n,o(m(t,e)))}function y(t){return"\nRead more: ".concat("https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html","#error-").concat(t)}function m(t,e){var n=y(t);return e?[t,e,n]:[t,n]}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(3),i=n(17).f,a=n(20),c=n(18),u=n(92),s=n(124),l=n(61);t.exports=function(t,e){var n,f,h,p,d,y=t.target,m=t.global,v=t.stat;if(n=m?o:v?o[y]||u(y,{}):(o[y]||{}).prototype)for(f in e){if(p=e[f],h=t.noTargetGet?(d=i(n,f))&&d.value:n[f],!l(m?f:y+(v?".":"#")+f,t.forced)&&void 0!==h){if(r(p)===r(h))continue;s(p,h)}(t.sham||h&&h.sham)&&a(p,"sham",!0),c(n,f,p,t)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)||r("object"==("undefined"==typeof window?"undefined":n(window))&&window)||r("object"==("undefined"==typeof self?"undefined":n(self))&&self)||r("object"==(void 0===e?"undefined":n(e))&&e)||function(){return this}()||Function("return this")()}).call(this,n(46))},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function c(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],s=n[u]||0,l="".concat(u," ").concat(s);n[u]=s+1;var f=c(l),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(h)):a.push({identifier:l,updater:m(h,e),references:1}),r.push(l)}return r}function s(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach(function(t){e.setAttribute(t,r[t])}),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,y=0;function m(t,e){var n,r,o;if(e.singleton){var i=y++;n=d||(d=s(e)),r=h.bind(null,n,i,!1),o=h.bind(null,n,i,!0)}else n=s(e),r=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=c(n[r]);a[o].references--}for(var i=u(t,e),s=0;s<n.length;s++){var l=c(n[s]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(2);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},,function(t,e,n){var r=n(3),o=n(95),i=n(14),a=n(58),c=n(99),u=n(127),s=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;t.exports=function(t){return i(s,t)||(c&&i(l,t)?s[t]=l[t]:s[t]=f("Symbol."+t)),s[t]}},function(t,e,n){"use strict";var r,o=n(106),i=n(7),a=n(3),c=n(5),u=n(14),s=n(68),l=n(20),f=n(18),h=n(12).f,p=n(31),d=n(50),y=n(9),m=n(58),v=a.Int8Array,b=v&&v.prototype,g=a.Uint8ClampedArray,w=g&&g.prototype,k=v&&p(v),_=b&&p(b),S=Object.prototype,x=S.isPrototypeOf,O=y("toStringTag"),A=m("TYPED_ARRAY_TAG"),P=o&&!!d&&"Opera"!==s(a.opera),E=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},T={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!c(t))return!1;var e=s(t);return u(R,e)||u(T,e)};for(r in R)a[r]||(P=!1);if((!P||"function"!=typeof k||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},P))for(r in R)a[r]&&d(a[r],k);if((!P||!_||_===S)&&(_=k.prototype,P))for(r in R)a[r]&&d(a[r].prototype,_);if(P&&p(w)!==_&&d(w,_),i&&!u(_,O))for(r in E=!0,h(_,O,{get:function(){return c(this)?this[A]:void 0}}),R)a[r]&&l(a[r],A,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:E&&A,aTypedArray:function(t){if(j(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(d){if(x.call(k,t))return t}else for(var e in R)if(u(R,r)){var n=a[e];if(n&&(t===n||x.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in R){var o=a[r];o&&u(o.prototype,t)&&delete o.prototype[t]}_[t]&&!n||f(_,t,n?e:P&&b[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(d){if(n)for(r in R)(o=a[r])&&u(o,t)&&delete o[t];if(k[t]&&!n)return;try{return f(k,t,n?e:P&&v[t]||e)}catch(t){}}for(r in R)!(o=a[r])||o[t]&&!n||f(o,t,e)}},isView:function(t){if(!c(t))return!1;var e=s(t);return"DataView"===e||u(R,e)||u(T,e)},isTypedArray:j,TypedArray:k,TypedArrayPrototype:_}},function(t,e,n){var r=n(27),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(7),o=n(122),i=n(6),a=n(29),c=Object.defineProperty;e.f=r?c:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return c(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(19);t.exports=function(t){return Object(r(t))}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(88);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,a=r.a||i||Function("return this")();e.a=a},function(t,e,n){var r=n(42),o=n(57),i=n(13),a=n(11),c=n(63),u=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,l=4==t,f=6==t,h=7==t,p=5==t||f;return function(d,y,m,v){for(var b,g,w=i(d),k=o(w),_=r(y,m,3),S=a(k.length),x=0,O=v||c,A=e?O(d,S):n||h?O(d,0):void 0;S>x;x++)if((p||x in k)&&(g=_(b=k[x],x,w),t))if(e)A[x]=g;else if(g)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:u.call(A,b)}else switch(t){case 4:return!1;case 7:u.call(A,b)}return f?-1:s||l?l:A}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},function(t,e,n){var r=n(7),o=n(71),i=n(39),a=n(22),c=n(29),u=n(14),s=n(122),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=c(e,!0),s)try{return l(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(3),o=n(20),i=n(14),a=n(92),c=n(93),u=n(23),s=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,c){var u,s=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,p=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(u=l(n)).source||(u.source=f.join("string"==typeof e?e:""))),t!==r?(s?!p&&t[e]&&(h=!0):delete t[e],h?t[e]=n:o(t,e,n)):h?t[e]=n:a(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&s(this).source||c(this)})},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(7),o=n(12),i=n(39);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(7),o=n(2),i=n(14),a=Object.defineProperty,c={},u=function(t){throw t};t.exports=function(t,e){if(i(c,t))return c[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:u,f=i(e,1)?e[1]:void 0;return c[t]=!!n&&!o(function(){if(s&&!r)return!0;var t={length:-1};s?a(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,l,f)})}},function(t,e,n){var r=n(57),o=n(19);t.exports=function(t){return r(o(t))}},function(t,e,n){var r,o,i,a=n(123),c=n(3),u=n(5),s=n(20),l=n(14),f=n(94),h=n(72),p=n(59),d=c.WeakMap;if(a){var y=f.state||(f.state=new d),m=y.get,v=y.has,b=y.set;r=function(t,e){return e.facade=t,b.call(y,t,e),e},o=function(t){return m.call(y,t)||{}},i=function(t){return v.call(y,t)}}else{var g=h("state");p[g]=!0,r=function(t,e){return e.facade=t,s(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(125),o=n(14),i=n(130),a=n(12).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(19),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),c+">"+a+"</"+e+">"}},function(t,e,n){var r=n(2);t.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(125),o=n(3),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(14),o=n(13),i=n(72),a=n(105),c=i("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,c)?t[c]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e){t.exports=!1},function(t,e,n){var r=n(12).f,o=n(14),i=n(9)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r,o=n(6),i=n(100),a=n(97),c=n(59),u=n(128),s=n(91),l=n(72),f=l("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;d=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};c[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=o(t),n=new h,h.prototype=null,n[f]=t):n=d(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(1),i=n(3),a=n(7),c=n(117),u=n(10),s=n(77),l=n(44),f=n(39),h=n(20),p=n(11),d=n(140),y=n(159),m=n(29),v=n(14),b=n(68),g=n(5),w=n(34),k=n(50),_=n(47).f,S=n(160),x=n(16).forEach,O=n(54),A=n(12),P=n(17),E=n(23),R=n(79),T=E.get,j=E.set,C=A.f,I=P.f,M=Math.round,D=i.RangeError,N=s.ArrayBuffer,B=s.DataView,z=u.NATIVE_ARRAY_BUFFER_VIEWS,L=u.TYPED_ARRAY_TAG,F=u.TypedArray,V=u.TypedArrayPrototype,q=u.aTypedArrayConstructor,U=u.isTypedArray,H=function(t,e){for(var n=0,r=e.length,o=new(q(t))(r);r>n;)o[n]=e[n++];return o},W=function(t,e){C(t,e,{get:function(){return T(this)[e]}})},$=function(t){var e;return t instanceof N||"ArrayBuffer"==(e=b(t))||"SharedArrayBuffer"==e},G=function(t,e){return U(t)&&"symbol"!=r(e)&&e in t&&String(+e)==String(e)},K=function(t,e){return G(t,e=m(e,!0))?f(2,t[e]):I(t,e)},Y=function(t,e,n){return!(G(t,e=m(e,!0))&&g(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?C(t,e,n):(t[e]=n.value,t)};a?(z||(P.f=K,A.f=Y,W(V,"buffer"),W(V,"byteOffset"),W(V,"byteLength"),W(V,"length")),o({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:K,defineProperty:Y}),t.exports=function(t,e,n){var r=t.match(/\d+$/)[0]/8,a=t+(n?"Clamped":"")+"Array",u="get"+t,s="set"+t,f=i[a],m=f,v=m&&m.prototype,b={},A=function(t,e){C(t,e,{get:function(){return function(t,e){var n=T(t);return n.view[u](e*r+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=T(t);n&&(o=(o=M(o))<0?0:o>255?255:255&o),i.view[s](e*r+i.byteOffset,o,!0)}(this,e,t)},enumerable:!0})};z?c&&(m=e(function(t,e,n,o){return l(t,m,a),R(g(e)?$(e)?void 0!==o?new f(e,y(n,r),o):void 0!==n?new f(e,y(n,r)):new f(e):U(e)?H(m,e):S.call(m,e):new f(d(e)),t,m)}),k&&k(m,F),x(_(f),function(t){t in m||h(m,t,f[t])}),m.prototype=v):(m=e(function(t,e,n,o){l(t,m,a);var i,c,u,s=0,f=0;if(g(e)){if(!$(e))return U(e)?H(m,e):S.call(m,e);i=e,f=y(n,r);var h=e.byteLength;if(void 0===o){if(h%r)throw D("Wrong length");if((c=h-f)<0)throw D("Wrong length")}else if((c=p(o)*r)+f>h)throw D("Wrong length");u=c/r}else u=d(e),i=new N(c=u*r);for(j(t,{buffer:i,byteOffset:f,byteLength:c,length:u,view:new B(i)});s<u;)A(t,s++)}),k&&k(m,F),v=m.prototype=w(V)),v.constructor!==m&&h(v,"constructor",m),L&&h(v,L,a),b[a]=m,o({global:!0,forced:m!=f,sham:!z},b),"BYTES_PER_ELEMENT"in m||h(m,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in v||h(v,"BYTES_PER_ELEMENT",r),O(a)}):t.exports=function(){}},function(t,e,n){"use strict";(function(t){var r=n(15),o=n(166);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,c=a&&"object"==i(t)&&t&&!t.nodeType&&t,u=c&&c.exports===a?r.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||o.a;e.a=s}).call(this,n(119)(t))},function(t,e,n){"use strict";(function(t){var r=n(88);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,c=a&&a.exports===i&&r.a.process,u=function(){try{var t=a&&a.require&&a.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(t){}}();e.a=u}).call(this,n(119)(t))},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(27),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(28);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(9),o=n(34),i=n(12),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),t.exports=function(t){c[a][t]=!0}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(6),o=n(28),i=n(9)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){var r=n(126),o=n(97).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(40);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r=n(29),o=n(12),i=n(39);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(6),o=n(138);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(59),i=n(5),a=n(14),c=n(12).f,u=n(58),s=n(69),l=u("meta"),f=0,h=Object.isExtensible||function(){return!0},p=function(t){c(t,l,{value:{objectID:"O"+ ++f,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,l)){if(!h(t))return"F";if(!e)return"E";p(t)}return t[l].objectID},getWeakData:function(t,e){if(!a(t,l)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[l].weakData},onFreeze:function(t){return s&&d.REQUIRED&&h(t)&&!a(t,l)&&p(t),t}};o[l]=!0},function(t,e,n){"use strict";(function(t){var e=n(0);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"===("undefined"==typeof window?"undefined":r(window))?window:t;if(o.CKEDITOR_VERSION)throw new e.a("ckeditor-duplicated-modules",null);o.CKEDITOR_VERSION="29.1.0"}).call(this,n(46))},function(t,e,n){var r=n(40),o=n(3);t.exports="process"==r(o.process)},function(t,e,n){"use strict";var r=n(30),o=n(12),i=n(9),a=n(7),c=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[c]&&n(e,c,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(19),o="["+n(81)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},function(t,e,n){var r=n(2),o=n(40),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(22),o=n(11),i=n(41),a=function(t){return function(e,n,a){var c,u=r(e),s=o(u.length),l=i(a,s);if(t&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=c[a(t)];return n==s||n!=u&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(126),o=n(97);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(5),o=n(48),i=n(9)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2),o=n(9),i=n(65),a=o("species");t.exports=function(t){return i>=51||!r(function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){var r,o,i=n(3),a=n(73),c=i.process,u=c&&c.versions,s=u&&u.v8;s?o=(r=s.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e){t.exports={}},function(t,e,n){var r=n(68),o=n(66),i=n(9)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(103),o=n(40),i=n(9)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(2);t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(6),i=n(102),a=n(11),c=n(42),u=n(67),s=n(135),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var f,h,p,d,y,m,v,b=n&&n.that,g=!(!n||!n.AS_ENTRIES),w=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),_=c(e,b,1+g+k),S=function(t){return f&&s(f),new l(!0,t)},x=function(t){return g?(o(t),k?_(t[0],t[1],S):_(t[0],t[1])):k?_(t,S):_(t)};if(w)f=t;else{if("function"!=typeof(h=u(t)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,d=a(t.length);d>p;p++)if((y=x(t[p]))&&y instanceof l)return y;return new l(!1)}f=h.call(t)}for(m=f.next;!(v=m.call(f)).done;){try{y=x(v.value)}catch(t){throw s(f),t}if("object"==r(y)&&y&&y instanceof l)return y}return new l(!1)}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(95),o=n(58),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(30);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(9)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(22),o=n(43),i=n(66),a=n(23),c=n(104),u=a.set,s=a.getterFor("Array Iterator");t.exports=c(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var r=n(28),o=n(13),i=n(57),a=n(11),c=function(t){return function(e,n,c,u){r(n);var s=o(e),l=i(s),f=a(s.length),h=t?f-1:0,p=t?-1:1;if(c<2)for(;;){if(h in l){u=l[h],h+=p;break}if(h+=p,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=p)h in l&&(u=n(u,l[h],h,s));return u}};t.exports={left:c(!1),right:c(!0)}},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(106),a=n(20),c=n(55),u=n(2),s=n(44),l=n(27),f=n(11),h=n(140),p=n(213),d=n(31),y=n(50),m=n(47).f,v=n(12).f,b=n(101),g=n(33),w=n(23),k=w.get,_=w.set,S=r.ArrayBuffer,x=S,O=r.DataView,A=O&&O.prototype,P=Object.prototype,E=r.RangeError,R=p.pack,T=p.unpack,j=function(t){return[255&t]},C=function(t){return[255&t,t>>8&255]},I=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},M=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},D=function(t){return R(t,23,4)},N=function(t){return R(t,52,8)},B=function(t,e){v(t.prototype,e,{get:function(){return k(this)[e]}})},z=function(t,e,n,r){var o=h(n),i=k(t);if(o+e>i.byteLength)throw E("Wrong index");var a=k(i.buffer).bytes,c=o+i.byteOffset,u=a.slice(c,c+e);return r?u:u.reverse()},L=function(t,e,n,r,o,i){var a=h(n),c=k(t);if(a+e>c.byteLength)throw E("Wrong index");for(var u=k(c.buffer).bytes,s=a+c.byteOffset,l=r(+o),f=0;f<e;f++)u[s+f]=l[i?f:e-f-1]};if(i){if(!u(function(){S(1)})||!u(function(){new S(-1)})||u(function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name})){for(var F,V=(x=function(t){return s(this,x),new S(h(t))}).prototype=S.prototype,q=m(S),U=0;q.length>U;)(F=q[U++])in x||a(x,F,S[F]);V.constructor=x}y&&d(A)!==P&&y(A,P);var H=new O(new x(2)),W=A.setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||c(A,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},{unsafe:!0})}else x=function(t){s(this,x,"ArrayBuffer");var e=h(t);_(this,{bytes:b.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},O=function(t,e,n){s(this,O,"DataView"),s(t,x,"DataView");var r=k(t).byteLength,i=l(e);if(i<0||i>r)throw E("Wrong offset");if(i+(n=void 0===n?r-i:f(n))>r)throw E("Wrong length");_(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(B(x,"byteLength"),B(O,"buffer"),B(O,"byteLength"),B(O,"byteOffset")),c(O.prototype,{getInt8:function(t){return z(this,1,t)[0]<<24>>24},getUint8:function(t){return z(this,1,t)[0]},getInt16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=z(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return M(z(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return M(z(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return T(z(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return T(z(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){L(this,1,t,j,e)},setUint8:function(t,e){L(this,1,t,j,e)},setInt16:function(t,e){L(this,2,t,C,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){L(this,2,t,C,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){L(this,4,t,I,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){L(this,4,t,I,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){L(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){L(this,8,t,N,e,arguments.length>2?arguments[2]:void 0)}});g(x,"ArrayBuffer"),g(O,"DataView"),t.exports={ArrayBuffer:x,DataView:O}},function(t,e,n){"use strict";var r=n(1),o=n(3),i=n(61),a=n(18),c=n(51),u=n(70),s=n(44),l=n(5),f=n(2),h=n(74),p=n(33),d=n(79);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),m=-1!==t.indexOf("Weak"),v=y?"set":"add",b=o[t],g=b&&b.prototype,w=b,k={},_=function(t){var e=g[t];a(g,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof b||!(m||g.forEach&&!f(function(){(new b).entries().next()}))))w=n.getConstructor(e,t,y,v),c.REQUIRED=!0;else if(i(t,!0)){var S=new w,x=S[v](m?{}:-0,1)!=S,O=f(function(){S.has(1)}),A=h(function(t){new b(t)}),P=!m&&f(function(){for(var t=new b,e=5;e--;)t[v](e,e);return!t.has(-0)});A||((w=e(function(e,n){s(e,w,t);var r=d(new b,e,w);return null!=n&&u(n,r[v],{that:r,AS_ENTRIES:y}),r})).prototype=g,g.constructor=w),(O||P)&&(_("delete"),_("has"),y&&_("get")),(P||x)&&_(v),m&&g.clear&&delete g.clear}return k[t]=w,r({global:!0,forced:w!=b},k),p(w,t),m||n.setStrong(w,t,y),w}},function(t,e,n){var r=n(5),o=n(50);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(32),o=n(3),i=n(2);t.exports=r||!i(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete o[t]})},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r,o,i=n(83),a=n(112),c=RegExp.prototype.exec,u=String.prototype.replace,s=c,l=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(l||h||f)&&(s=function(t){var e,n,r,o,a=this,s=f&&a.sticky,p=i.call(a),d=a.source,y=0,m=t;return s&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(d="(?: "+d+")",m=" "+m,y++),n=new RegExp("^(?:"+d+")",p)),h&&(n=new RegExp("^"+d+"$(?!\\s)",p)),l&&(e=a.lastIndex),r=c.call(s?n:a,m),s?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),h&&r&&r.length>1&&u.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),t.exports=s},function(t,e,n){var r=n(27),o=n(19),i=function(t){return function(e,n){var i,a,c=String(o(e)),u=r(n),s=c.length;return u<0||u>=s?t?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):i:t?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){"use strict";n(156);var r=n(18),o=n(2),i=n(9),a=n(84),c=n(20),u=i("species"),s=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l="$0"==="a".replace(/./,"$0"),f=i("replace"),h=!!/./[f]&&""===/./[f]("a","$0"),p=!o(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(t,e,n,f){var d=i(t),y=!o(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),m=y&&!o(function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e});if(!y||!m||"replace"===t&&(!s||!l||h)||"split"===t&&!p){var v=/./[d],b=n(d,""[t],function(t,e,n,r,o){return e.exec===a?y&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),g=b[0],w=b[1];r(String.prototype,t,g),r(RegExp.prototype,d,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}f&&c(RegExp.prototype[d],"sham",!0)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(40),i=n(84);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!==r(a))throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==o(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t;e.a=r}).call(this,n(46))},function(t,e,n){"use strict";(function(t){var r=n(15);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,a=i&&"object"==o(t)&&t&&!t.nodeType&&t,c=a&&a.exports===i?r.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(119)(t))},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,o="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,i=r||o||Function("return this")(),a=Object.prototype.toString,c=i.Symbol,u=c?c.prototype:void 0,s=u?u.toString:void 0;function l(t){if("string"==typeof t)return t;if(function(t){return"symbol"==n(t)||function(t){return!!t&&"object"==n(t)}(t)&&"[object Symbol]"==a.call(t)}(t))return s?s.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function f(t){return null==t?"":l(t)}t.exports=function(){var t=arguments,e=f(t[0]);return t.length<3?e:e.replace(t[1],t[2])}}).call(this,n(46))},function(t,e,n){var r=n(3),o=n(5),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(3),o=n(20);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(94),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(3),o=n(92),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(32),o=n(94);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(30),o=n(47),i=n(98),a=n(6);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r=n(7),o=n(12),i=n(6),a=n(62);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),c=r.length,u=0;c>u;)o.f(t,n=r[u++],e[n]);return t}},function(t,e,n){"use strict";var r=n(13),o=n(41),i=n(11);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)e[c++]=t;return e}},function(t,e,n){var r=n(9),o=n(66),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r={};r[n(9)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(1),o=n(136),i=n(31),a=n(50),c=n(33),u=n(20),s=n(18),l=n(9),f=n(32),h=n(66),p=n(137),d=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v=function(){return this};t.exports=function(t,e,n,l,p,b,g){o(n,e,l);var w,k,_,S=function(t){if(t===p&&E)return E;if(!y&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},x=e+" Iterator",O=!1,A=t.prototype,P=A[m]||A["@@iterator"]||p&&A[p],E=!y&&P||S(p),R="Array"==e&&A.entries||P;if(R&&(w=i(R.call(new t)),d!==Object.prototype&&w.next&&(f||i(w)===d||(a?a(w,d):"function"!=typeof w[m]&&u(w,m,v)),c(w,x,!0,!0),f&&(h[x]=v))),"values"==p&&P&&"values"!==P.name&&(O=!0,E=function(){return P.call(this)}),f&&!g||A[m]===E||u(A,m,E),h[e]=E,p)if(k={values:S("values"),keys:b?E:S("keys"),entries:S("entries")},g)for(_ in k)(y||O||!(_ in A))&&s(A,_,k[_]);else r({target:e,proto:!0,forced:y||O},k);return k}},function(t,e,n){var r=n(2);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(11),o=n(108),i=n(19),a=Math.ceil,c=function(t){return function(e,n,c){var u,s,l=String(i(e)),f=l.length,h=void 0===c?" ":String(c),p=r(n);return p<=f||""==h?l:(u=p-f,(s=o.call(h,a(u/h.length))).length>u&&(s=s.slice(0,u)),t?l+s:s+l)}};t.exports={start:c(!1),end:c(!0)}},function(t,e,n){"use strict";var r=n(27),o=n(19);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){var r,o,i,a=n(3),c=n(2),u=n(42),s=n(128),l=n(91),f=n(152),h=n(53),p=a.location,d=a.setImmediate,y=a.clearImmediate,m=a.process,v=a.MessageChannel,b=a.Dispatch,g=0,w={},k=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},_=function(t){return function(){k(t)}},S=function(t){k(t.data)},x=function(t){a.postMessage(t+"",p.protocol+"//"+p.host)};d&&y||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(g),g},y=function(t){delete w[t]},h?r=function(t){m.nextTick(_(t))}:b&&b.now?r=function(t){b.now(_(t))}:v&&!f?(i=(o=new v).port2,o.port1.onmessage=S,r=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!c(x)?(r=x,a.addEventListener("message",S,!1)):r="onreadystatechange"in l("script")?function(t){s.appendChild(l("script")).onreadystatechange=function(){s.removeChild(this),k(t)}}:function(t){setTimeout(_(t),0)}),t.exports={set:d,clear:y}},function(t,e,n){var r=n(5),o=n(40),i=n(9)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";var r=n(2);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r(function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),e.BROKEN_CARET=r(function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},function(t,e,n){var r=n(111);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(9)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(85).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(2),o=n(81);t.exports=function(t){return r(function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t})}},function(t,e,n){var r=n(3),o=n(2),i=n(74),a=n(10).NATIVE_ARRAY_BUFFER_VIEWS,c=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!o(function(){u(1)})||!o(function(){new u(-1)})||!i(function(t){new u,new u(null),new u(1.5),new u(t)},!0)||o(function(){return 1!==new u(new c(2),1,void 0).length})},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=n(4),o=n(448);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e,n){(function(t){var n,r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"undefined"!=typeof self&&self,i=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e),n(0);var r=function(){function t(t,e,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=e,this.end=n}return t.range=function(e,n){return n?e&&e.loc&&n.loc&&e.loc.lexer===n.loc.lexer?new t(e.loc.lexer,e.loc.start,n.loc.end):null:e&&e.loc},t}(),o=function(){function t(t,e){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=e}return t.prototype.range=function(e,n){return new t(n,r.range(this,e))},t}(),i=function t(e,n){this.position=void 0;var r,o="KaTeX parse error: "+e,i=n&&n.loc;if(i&&i.start<=i.end){var a=i.lexer.input;r=i.start;var c=i.end;r===a.length?o+=" at end of input: ":o+=" at position "+(r+1)+": ";var u=a.slice(r,c).replace(/[^]/g,"$&̲");o+=(r>15?"…"+a.slice(r-15,r):a.slice(0,r))+u+(c+15<a.length?a.slice(c,c+15)+"…":a.slice(c))}var s=new Error(o);return s.name="ParseError",s.__proto__=t.prototype,s.position=r,s};i.prototype.__proto__=Error.prototype;var a=i,c=/([A-Z])/g,u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},s=/[&><"']/g,l=function t(e){return"ordgroup"===e.type||"color"===e.type?1===e.body.length?t(e.body[0]):e:"font"===e.type?t(e.body):e},f={contains:function(t,e){return-1!==t.indexOf(e)},deflt:function(t,e){return void 0===t?e:t},escape:function(t){return String(t).replace(s,function(t){return u[t]})},hyphenate:function(t){return t.replace(c,"-$1").toLowerCase()},getBaseElem:l,isCharacterBox:function(t){var e=l(t);return"mathord"===e.type||"textord"===e.type||"atom"===e.type},protocolFromUrl:function(t){var e=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(t);return null!=e?e[1]:"_relative"}},h=function(){function t(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{},this.displayMode=f.deflt(t.displayMode,!1),this.output=f.deflt(t.output,"htmlAndMathml"),this.leqno=f.deflt(t.leqno,!1),this.fleqn=f.deflt(t.fleqn,!1),this.throwOnError=f.deflt(t.throwOnError,!0),this.errorColor=f.deflt(t.errorColor,"#cc0000"),this.macros=t.macros||{},this.minRuleThickness=Math.max(0,f.deflt(t.minRuleThickness,0)),this.colorIsTextColor=f.deflt(t.colorIsTextColor,!1),this.strict=f.deflt(t.strict,"warn"),this.trust=f.deflt(t.trust,!1),this.maxSize=Math.max(0,f.deflt(t.maxSize,1/0)),this.maxExpand=Math.max(0,f.deflt(t.maxExpand,1e3)),this.globalGroup=f.deflt(t.globalGroup,!1)}var e=t.prototype;return e.reportNonstrict=function(t,e,n){var r=this.strict;if("function"==typeof r&&(r=r(t,e,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+e+" ["+t+"]",n);"warn"===r?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+e+" ["+t+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+e+" ["+t+"]")}},e.useStrictBehavior=function(t,e,n){var r=this.strict;if("function"==typeof r)try{r=r(t,e,n)}catch(t){r="error"}return!(!r||"ignore"===r||!0!==r&&"error"!==r&&("warn"===r?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+e+" ["+t+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+e+" ["+t+"]"),1)))},e.isTrusted=function(t){t.url&&!t.protocol&&(t.protocol=f.protocolFromUrl(t.url));var e="function"==typeof this.trust?this.trust(t):this.trust;return Boolean(e)},t}(),p=function(){function t(t,e,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=e,this.cramped=n}var e=t.prototype;return e.sup=function(){return d[y[this.id]]},e.sub=function(){return d[m[this.id]]},e.fracNum=function(){return d[v[this.id]]},e.fracDen=function(){return d[b[this.id]]},e.cramp=function(){return d[g[this.id]]},e.text=function(){return d[w[this.id]]},e.isTight=function(){return this.size>=2},t}(),d=[new p(0,0,!1),new p(1,0,!0),new p(2,1,!1),new p(3,1,!0),new p(4,2,!1),new p(5,2,!0),new p(6,3,!1),new p(7,3,!0)],y=[4,5,4,5,6,7,6,7],m=[5,5,5,5,7,7,7,7],v=[2,3,4,5,6,7,6,7],b=[3,3,5,5,7,7,7,7],g=[1,1,3,3,5,5,7,7],w=[0,1,2,3,2,3,2,3],k={DISPLAY:d[0],TEXT:d[2],SCRIPT:d[4],SCRIPTSCRIPT:d[6]},_=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],S=[];function x(t){for(var e=0;e<S.length;e+=2)if(t>=S[e]&&t<=S[e+1])return!0;return!1}_.forEach(function(t){return t.blocks.forEach(function(t){return S.push.apply(S,t)})});var O={leftParenInner:"M291 0 H417 V300 H291 z",rightParenInner:"M457 0 H583 V300 H457 z",doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},A=function(){function t(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var e=t.prototype;return e.hasClass=function(t){return f.contains(this.classes,t)},e.toNode=function(){for(var t=document.createDocumentFragment(),e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t},e.toMarkup=function(){for(var t="",e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t},e.toText=function(){var t=function(t){return t.toText()};return this.children.map(t).join("")},t}(),P=function(t){return t.filter(function(t){return t}).join(" ")},E=function(t,e,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},e){e.style.isTight()&&this.classes.push("mtight");var r=e.getColor();r&&(this.style.color=r)}},R=function(t){var e=document.createElement(t);for(var n in e.className=P(this.classes),this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&e.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)e.appendChild(this.children[o].toNode());return e},T=function(t){var e="<"+t;this.classes.length&&(e+=' class="'+f.escape(P(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=f.hyphenate(r)+":"+this.style[r]+";");for(var o in n&&(e+=' style="'+f.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(o)&&(e+=" "+o+'="'+f.escape(this.attributes[o])+'"');e+=">";for(var i=0;i<this.children.length;i++)e+=this.children[i].toMarkup();return e+="</"+t+">"},j=function(){function t(t,e,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,E.call(this,t,n,r),this.children=e||[]}var e=t.prototype;return e.setAttribute=function(t,e){this.attributes[t]=e},e.hasClass=function(t){return f.contains(this.classes,t)},e.toNode=function(){return R.call(this,"span")},e.toMarkup=function(){return T.call(this,"span")},t}(),C=function(){function t(t,e,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,E.call(this,e,r),this.children=n||[],this.setAttribute("href",t)}var e=t.prototype;return e.setAttribute=function(t,e){this.attributes[t]=e},e.hasClass=function(t){return f.contains(this.classes,t)},e.toNode=function(){return R.call(this,"a")},e.toMarkup=function(){return T.call(this,"a")},t}(),I=function(){function t(t,e,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=e,this.src=t,this.classes=["mord"],this.style=n}var e=t.prototype;return e.hasClass=function(t){return f.contains(this.classes,t)},e.toNode=function(){var t=document.createElement("img");for(var e in t.src=this.src,t.alt=this.alt,t.className="mord",this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);return t},e.toMarkup=function(){var t="<img  src='"+this.src+" 'alt='"+this.alt+"' ",e="";for(var n in this.style)this.style.hasOwnProperty(n)&&(e+=f.hyphenate(n)+":"+this.style[n]+";");return e&&(t+=' style="'+f.escape(e)+'"'),t+="'/>"},t}(),M={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"},D=function(){function t(t,e,n,r,o,i,a,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=e||0,this.depth=n||0,this.italic=r||0,this.skew=o||0,this.width=i||0,this.classes=a||[],this.style=c||{},this.maxFontSize=0;var u=function(t){for(var e=0;e<_.length;e++)for(var n=_[e],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(t>=o[0]&&t<=o[1])return n.name}return null}(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=M[this.text])}var e=t.prototype;return e.hasClass=function(t){return f.contains(this.classes,t)},e.toNode=function(){var t=document.createTextNode(this.text),e=null;for(var n in this.italic>0&&((e=document.createElement("span")).style.marginRight=this.italic+"em"),this.classes.length>0&&((e=e||document.createElement("span")).className=P(this.classes)),this.style)this.style.hasOwnProperty(n)&&((e=e||document.createElement("span")).style[n]=this.style[n]);return e?(e.appendChild(t),e):t},e.toMarkup=function(){var t=!1,e="<span";this.classes.length&&(t=!0,e+=' class="',e+=f.escape(P(this.classes)),e+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=f.hyphenate(r)+":"+this.style[r]+";");n&&(t=!0,e+=' style="'+f.escape(n)+'"');var o=f.escape(this.text);return t?(e+=">",e+=o,e+="</span>"):o},t}(),N=function(){function t(t,e){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=e||{}}var e=t.prototype;return e.toNode=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},e.toMarkup=function(){var t="<svg";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>"},t}(),B=function(){function t(t,e){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=e}var e=t.prototype;return e.toNode=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",O[this.pathName]),t},e.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+O[this.pathName]+"'/>"},t}(),z=function(){function t(t){this.attributes=void 0,this.attributes=t||{}}var e=t.prototype;return e.toNode=function(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);return t},e.toMarkup=function(){var t="<line";for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+"='"+this.attributes[e]+"'");return t+="/>"},t}();function L(t){if(t instanceof D)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}var F={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.12,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,1],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.67,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.9,0,0,.278],8943:[-.19,.31,0,0,1.172],8945:[-.1,.82,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.744,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.744,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},V={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},q={"Å":"A","Ç":"C","Ð":"D","Þ":"o","å":"a","ç":"c","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function U(t,e,n){if(!F[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),o=F[e][r];if(!o&&t[0]in q&&(r=q[t[0]].charCodeAt(0),o=F[e][r]),o||"text"!==n||x(r)&&(o=F[e][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var H={},W={bin:1,close:1,inner:1,open:1,punct:1,rel:1},$={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},G={math:{},text:{}},K=G;function Y(t,e,n,r,o,i){G[t][o]={font:e,group:n,replace:r},i&&r&&(G[t][r]=G[t][o])}var J="main",X="ams",Z="bin",Q="mathord",tt="op-token",et="rel";Y("math",J,et,"≡","\\equiv",!0),Y("math",J,et,"≺","\\prec",!0),Y("math",J,et,"≻","\\succ",!0),Y("math",J,et,"∼","\\sim",!0),Y("math",J,et,"⊥","\\perp"),Y("math",J,et,"⪯","\\preceq",!0),Y("math",J,et,"⪰","\\succeq",!0),Y("math",J,et,"≃","\\simeq",!0),Y("math",J,et,"∣","\\mid",!0),Y("math",J,et,"≪","\\ll",!0),Y("math",J,et,"≫","\\gg",!0),Y("math",J,et,"≍","\\asymp",!0),Y("math",J,et,"∥","\\parallel"),Y("math",J,et,"⋈","\\bowtie",!0),Y("math",J,et,"⌣","\\smile",!0),Y("math",J,et,"⊑","\\sqsubseteq",!0),Y("math",J,et,"⊒","\\sqsupseteq",!0),Y("math",J,et,"≐","\\doteq",!0),Y("math",J,et,"⌢","\\frown",!0),Y("math",J,et,"∋","\\ni",!0),Y("math",J,et,"∝","\\propto",!0),Y("math",J,et,"⊢","\\vdash",!0),Y("math",J,et,"⊣","\\dashv",!0),Y("math",J,et,"∋","\\owns"),Y("math",J,"punct",".","\\ldotp"),Y("math",J,"punct","⋅","\\cdotp"),Y("math",J,"textord","#","\\#"),Y("text",J,"textord","#","\\#"),Y("math",J,"textord","&","\\&"),Y("text",J,"textord","&","\\&"),Y("math",J,"textord","ℵ","\\aleph",!0),Y("math",J,"textord","∀","\\forall",!0),Y("math",J,"textord","ℏ","\\hbar",!0),Y("math",J,"textord","∃","\\exists",!0),Y("math",J,"textord","∇","\\nabla",!0),Y("math",J,"textord","♭","\\flat",!0),Y("math",J,"textord","ℓ","\\ell",!0),Y("math",J,"textord","♮","\\natural",!0),Y("math",J,"textord","♣","\\clubsuit",!0),Y("math",J,"textord","℘","\\wp",!0),Y("math",J,"textord","♯","\\sharp",!0),Y("math",J,"textord","♢","\\diamondsuit",!0),Y("math",J,"textord","ℜ","\\Re",!0),Y("math",J,"textord","♡","\\heartsuit",!0),Y("math",J,"textord","ℑ","\\Im",!0),Y("math",J,"textord","♠","\\spadesuit",!0),Y("text",J,"textord","§","\\S",!0),Y("text",J,"textord","¶","\\P",!0),Y("math",J,"textord","†","\\dag"),Y("text",J,"textord","†","\\dag"),Y("text",J,"textord","†","\\textdagger"),Y("math",J,"textord","‡","\\ddag"),Y("text",J,"textord","‡","\\ddag"),Y("text",J,"textord","‡","\\textdaggerdbl"),Y("math",J,"close","⎱","\\rmoustache",!0),Y("math",J,"open","⎰","\\lmoustache",!0),Y("math",J,"close","⟯","\\rgroup",!0),Y("math",J,"open","⟮","\\lgroup",!0),Y("math",J,Z,"∓","\\mp",!0),Y("math",J,Z,"⊖","\\ominus",!0),Y("math",J,Z,"⊎","\\uplus",!0),Y("math",J,Z,"⊓","\\sqcap",!0),Y("math",J,Z,"∗","\\ast"),Y("math",J,Z,"⊔","\\sqcup",!0),Y("math",J,Z,"◯","\\bigcirc"),Y("math",J,Z,"∙","\\bullet"),Y("math",J,Z,"‡","\\ddagger"),Y("math",J,Z,"≀","\\wr",!0),Y("math",J,Z,"⨿","\\amalg"),Y("math",J,Z,"&","\\And"),Y("math",J,et,"⟵","\\longleftarrow",!0),Y("math",J,et,"⇐","\\Leftarrow",!0),Y("math",J,et,"⟸","\\Longleftarrow",!0),Y("math",J,et,"⟶","\\longrightarrow",!0),Y("math",J,et,"⇒","\\Rightarrow",!0),Y("math",J,et,"⟹","\\Longrightarrow",!0),Y("math",J,et,"↔","\\leftrightarrow",!0),Y("math",J,et,"⟷","\\longleftrightarrow",!0),Y("math",J,et,"⇔","\\Leftrightarrow",!0),Y("math",J,et,"⟺","\\Longleftrightarrow",!0),Y("math",J,et,"↦","\\mapsto",!0),Y("math",J,et,"⟼","\\longmapsto",!0),Y("math",J,et,"↗","\\nearrow",!0),Y("math",J,et,"↩","\\hookleftarrow",!0),Y("math",J,et,"↪","\\hookrightarrow",!0),Y("math",J,et,"↘","\\searrow",!0),Y("math",J,et,"↼","\\leftharpoonup",!0),Y("math",J,et,"⇀","\\rightharpoonup",!0),Y("math",J,et,"↙","\\swarrow",!0),Y("math",J,et,"↽","\\leftharpoondown",!0),Y("math",J,et,"⇁","\\rightharpoondown",!0),Y("math",J,et,"↖","\\nwarrow",!0),Y("math",J,et,"⇌","\\rightleftharpoons",!0),Y("math",X,et,"≮","\\nless",!0),Y("math",X,et,"","\\@nleqslant"),Y("math",X,et,"","\\@nleqq"),Y("math",X,et,"⪇","\\lneq",!0),Y("math",X,et,"≨","\\lneqq",!0),Y("math",X,et,"","\\@lvertneqq"),Y("math",X,et,"⋦","\\lnsim",!0),Y("math",X,et,"⪉","\\lnapprox",!0),Y("math",X,et,"⊀","\\nprec",!0),Y("math",X,et,"⋠","\\npreceq",!0),Y("math",X,et,"⋨","\\precnsim",!0),Y("math",X,et,"⪹","\\precnapprox",!0),Y("math",X,et,"≁","\\nsim",!0),Y("math",X,et,"","\\@nshortmid"),Y("math",X,et,"∤","\\nmid",!0),Y("math",X,et,"⊬","\\nvdash",!0),Y("math",X,et,"⊭","\\nvDash",!0),Y("math",X,et,"⋪","\\ntriangleleft"),Y("math",X,et,"⋬","\\ntrianglelefteq",!0),Y("math",X,et,"⊊","\\subsetneq",!0),Y("math",X,et,"","\\@varsubsetneq"),Y("math",X,et,"⫋","\\subsetneqq",!0),Y("math",X,et,"","\\@varsubsetneqq"),Y("math",X,et,"≯","\\ngtr",!0),Y("math",X,et,"","\\@ngeqslant"),Y("math",X,et,"","\\@ngeqq"),Y("math",X,et,"⪈","\\gneq",!0),Y("math",X,et,"≩","\\gneqq",!0),Y("math",X,et,"","\\@gvertneqq"),Y("math",X,et,"⋧","\\gnsim",!0),Y("math",X,et,"⪊","\\gnapprox",!0),Y("math",X,et,"⊁","\\nsucc",!0),Y("math",X,et,"⋡","\\nsucceq",!0),Y("math",X,et,"⋩","\\succnsim",!0),Y("math",X,et,"⪺","\\succnapprox",!0),Y("math",X,et,"≆","\\ncong",!0),Y("math",X,et,"","\\@nshortparallel"),Y("math",X,et,"∦","\\nparallel",!0),Y("math",X,et,"⊯","\\nVDash",!0),Y("math",X,et,"⋫","\\ntriangleright"),Y("math",X,et,"⋭","\\ntrianglerighteq",!0),Y("math",X,et,"","\\@nsupseteqq"),Y("math",X,et,"⊋","\\supsetneq",!0),Y("math",X,et,"","\\@varsupsetneq"),Y("math",X,et,"⫌","\\supsetneqq",!0),Y("math",X,et,"","\\@varsupsetneqq"),Y("math",X,et,"⊮","\\nVdash",!0),Y("math",X,et,"⪵","\\precneqq",!0),Y("math",X,et,"⪶","\\succneqq",!0),Y("math",X,et,"","\\@nsubseteqq"),Y("math",X,Z,"⊴","\\unlhd"),Y("math",X,Z,"⊵","\\unrhd"),Y("math",X,et,"↚","\\nleftarrow",!0),Y("math",X,et,"↛","\\nrightarrow",!0),Y("math",X,et,"⇍","\\nLeftarrow",!0),Y("math",X,et,"⇏","\\nRightarrow",!0),Y("math",X,et,"↮","\\nleftrightarrow",!0),Y("math",X,et,"⇎","\\nLeftrightarrow",!0),Y("math",X,et,"△","\\vartriangle"),Y("math",X,"textord","ℏ","\\hslash"),Y("math",X,"textord","▽","\\triangledown"),Y("math",X,"textord","◊","\\lozenge"),Y("math",X,"textord","Ⓢ","\\circledS"),Y("math",X,"textord","®","\\circledR"),Y("text",X,"textord","®","\\circledR"),Y("math",X,"textord","∡","\\measuredangle",!0),Y("math",X,"textord","∄","\\nexists"),Y("math",X,"textord","℧","\\mho"),Y("math",X,"textord","Ⅎ","\\Finv",!0),Y("math",X,"textord","⅁","\\Game",!0),Y("math",X,"textord","‵","\\backprime"),Y("math",X,"textord","▲","\\blacktriangle"),Y("math",X,"textord","▼","\\blacktriangledown"),Y("math",X,"textord","■","\\blacksquare"),Y("math",X,"textord","⧫","\\blacklozenge"),Y("math",X,"textord","★","\\bigstar"),Y("math",X,"textord","∢","\\sphericalangle",!0),Y("math",X,"textord","∁","\\complement",!0),Y("math",X,"textord","ð","\\eth",!0),Y("text",J,"textord","ð","ð"),Y("math",X,"textord","╱","\\diagup"),Y("math",X,"textord","╲","\\diagdown"),Y("math",X,"textord","□","\\square"),Y("math",X,"textord","□","\\Box"),Y("math",X,"textord","◊","\\Diamond"),Y("math",X,"textord","¥","\\yen",!0),Y("text",X,"textord","¥","\\yen",!0),Y("math",X,"textord","✓","\\checkmark",!0),Y("text",X,"textord","✓","\\checkmark"),Y("math",X,"textord","ℶ","\\beth",!0),Y("math",X,"textord","ℸ","\\daleth",!0),Y("math",X,"textord","ℷ","\\gimel",!0),Y("math",X,"textord","ϝ","\\digamma",!0),Y("math",X,"textord","ϰ","\\varkappa"),Y("math",X,"open","┌","\\@ulcorner",!0),Y("math",X,"close","┐","\\@urcorner",!0),Y("math",X,"open","└","\\@llcorner",!0),Y("math",X,"close","┘","\\@lrcorner",!0),Y("math",X,et,"≦","\\leqq",!0),Y("math",X,et,"⩽","\\leqslant",!0),Y("math",X,et,"⪕","\\eqslantless",!0),Y("math",X,et,"≲","\\lesssim",!0),Y("math",X,et,"⪅","\\lessapprox",!0),Y("math",X,et,"≊","\\approxeq",!0),Y("math",X,Z,"⋖","\\lessdot"),Y("math",X,et,"⋘","\\lll",!0),Y("math",X,et,"≶","\\lessgtr",!0),Y("math",X,et,"⋚","\\lesseqgtr",!0),Y("math",X,et,"⪋","\\lesseqqgtr",!0),Y("math",X,et,"≑","\\doteqdot"),Y("math",X,et,"≓","\\risingdotseq",!0),Y("math",X,et,"≒","\\fallingdotseq",!0),Y("math",X,et,"∽","\\backsim",!0),Y("math",X,et,"⋍","\\backsimeq",!0),Y("math",X,et,"⫅","\\subseteqq",!0),Y("math",X,et,"⋐","\\Subset",!0),Y("math",X,et,"⊏","\\sqsubset",!0),Y("math",X,et,"≼","\\preccurlyeq",!0),Y("math",X,et,"⋞","\\curlyeqprec",!0),Y("math",X,et,"≾","\\precsim",!0),Y("math",X,et,"⪷","\\precapprox",!0),Y("math",X,et,"⊲","\\vartriangleleft"),Y("math",X,et,"⊴","\\trianglelefteq"),Y("math",X,et,"⊨","\\vDash",!0),Y("math",X,et,"⊪","\\Vvdash",!0),Y("math",X,et,"⌣","\\smallsmile"),Y("math",X,et,"⌢","\\smallfrown"),Y("math",X,et,"≏","\\bumpeq",!0),Y("math",X,et,"≎","\\Bumpeq",!0),Y("math",X,et,"≧","\\geqq",!0),Y("math",X,et,"⩾","\\geqslant",!0),Y("math",X,et,"⪖","\\eqslantgtr",!0),Y("math",X,et,"≳","\\gtrsim",!0),Y("math",X,et,"⪆","\\gtrapprox",!0),Y("math",X,Z,"⋗","\\gtrdot"),Y("math",X,et,"⋙","\\ggg",!0),Y("math",X,et,"≷","\\gtrless",!0),Y("math",X,et,"⋛","\\gtreqless",!0),Y("math",X,et,"⪌","\\gtreqqless",!0),Y("math",X,et,"≖","\\eqcirc",!0),Y("math",X,et,"≗","\\circeq",!0),Y("math",X,et,"≜","\\triangleq",!0),Y("math",X,et,"∼","\\thicksim"),Y("math",X,et,"≈","\\thickapprox"),Y("math",X,et,"⫆","\\supseteqq",!0),Y("math",X,et,"⋑","\\Supset",!0),Y("math",X,et,"⊐","\\sqsupset",!0),Y("math",X,et,"≽","\\succcurlyeq",!0),Y("math",X,et,"⋟","\\curlyeqsucc",!0),Y("math",X,et,"≿","\\succsim",!0),Y("math",X,et,"⪸","\\succapprox",!0),Y("math",X,et,"⊳","\\vartriangleright"),Y("math",X,et,"⊵","\\trianglerighteq"),Y("math",X,et,"⊩","\\Vdash",!0),Y("math",X,et,"∣","\\shortmid"),Y("math",X,et,"∥","\\shortparallel"),Y("math",X,et,"≬","\\between",!0),Y("math",X,et,"⋔","\\pitchfork",!0),Y("math",X,et,"∝","\\varpropto"),Y("math",X,et,"◀","\\blacktriangleleft"),Y("math",X,et,"∴","\\therefore",!0),Y("math",X,et,"∍","\\backepsilon"),Y("math",X,et,"▶","\\blacktriangleright"),Y("math",X,et,"∵","\\because",!0),Y("math",X,et,"⋘","\\llless"),Y("math",X,et,"⋙","\\gggtr"),Y("math",X,Z,"⊲","\\lhd"),Y("math",X,Z,"⊳","\\rhd"),Y("math",X,et,"≂","\\eqsim",!0),Y("math",J,et,"⋈","\\Join"),Y("math",X,et,"≑","\\Doteq",!0),Y("math",X,Z,"∔","\\dotplus",!0),Y("math",X,Z,"∖","\\smallsetminus"),Y("math",X,Z,"⋒","\\Cap",!0),Y("math",X,Z,"⋓","\\Cup",!0),Y("math",X,Z,"⩞","\\doublebarwedge",!0),Y("math",X,Z,"⊟","\\boxminus",!0),Y("math",X,Z,"⊞","\\boxplus",!0),Y("math",X,Z,"⋇","\\divideontimes",!0),Y("math",X,Z,"⋉","\\ltimes",!0),Y("math",X,Z,"⋊","\\rtimes",!0),Y("math",X,Z,"⋋","\\leftthreetimes",!0),Y("math",X,Z,"⋌","\\rightthreetimes",!0),Y("math",X,Z,"⋏","\\curlywedge",!0),Y("math",X,Z,"⋎","\\curlyvee",!0),Y("math",X,Z,"⊝","\\circleddash",!0),Y("math",X,Z,"⊛","\\circledast",!0),Y("math",X,Z,"⋅","\\centerdot"),Y("math",X,Z,"⊺","\\intercal",!0),Y("math",X,Z,"⋒","\\doublecap"),Y("math",X,Z,"⋓","\\doublecup"),Y("math",X,Z,"⊠","\\boxtimes",!0),Y("math",X,et,"⇢","\\dashrightarrow",!0),Y("math",X,et,"⇠","\\dashleftarrow",!0),Y("math",X,et,"⇇","\\leftleftarrows",!0),Y("math",X,et,"⇆","\\leftrightarrows",!0),Y("math",X,et,"⇚","\\Lleftarrow",!0),Y("math",X,et,"↞","\\twoheadleftarrow",!0),Y("math",X,et,"↢","\\leftarrowtail",!0),Y("math",X,et,"↫","\\looparrowleft",!0),Y("math",X,et,"⇋","\\leftrightharpoons",!0),Y("math",X,et,"↶","\\curvearrowleft",!0),Y("math",X,et,"↺","\\circlearrowleft",!0),Y("math",X,et,"↰","\\Lsh",!0),Y("math",X,et,"⇈","\\upuparrows",!0),Y("math",X,et,"↿","\\upharpoonleft",!0),Y("math",X,et,"⇃","\\downharpoonleft",!0),Y("math",X,et,"⊸","\\multimap",!0),Y("math",X,et,"↭","\\leftrightsquigarrow",!0),Y("math",X,et,"⇉","\\rightrightarrows",!0),Y("math",X,et,"⇄","\\rightleftarrows",!0),Y("math",X,et,"↠","\\twoheadrightarrow",!0),Y("math",X,et,"↣","\\rightarrowtail",!0),Y("math",X,et,"↬","\\looparrowright",!0),Y("math",X,et,"↷","\\curvearrowright",!0),Y("math",X,et,"↻","\\circlearrowright",!0),Y("math",X,et,"↱","\\Rsh",!0),Y("math",X,et,"⇊","\\downdownarrows",!0),Y("math",X,et,"↾","\\upharpoonright",!0),Y("math",X,et,"⇂","\\downharpoonright",!0),Y("math",X,et,"⇝","\\rightsquigarrow",!0),Y("math",X,et,"⇝","\\leadsto"),Y("math",X,et,"⇛","\\Rrightarrow",!0),Y("math",X,et,"↾","\\restriction"),Y("math",J,"textord","‘","`"),Y("math",J,"textord","$","\\$"),Y("text",J,"textord","$","\\$"),Y("text",J,"textord","$","\\textdollar"),Y("math",J,"textord","%","\\%"),Y("text",J,"textord","%","\\%"),Y("math",J,"textord","_","\\_"),Y("text",J,"textord","_","\\_"),Y("text",J,"textord","_","\\textunderscore"),Y("math",J,"textord","∠","\\angle",!0),Y("math",J,"textord","∞","\\infty",!0),Y("math",J,"textord","′","\\prime"),Y("math",J,"textord","△","\\triangle"),Y("math",J,"textord","Γ","\\Gamma",!0),Y("math",J,"textord","Δ","\\Delta",!0),Y("math",J,"textord","Θ","\\Theta",!0),Y("math",J,"textord","Λ","\\Lambda",!0),Y("math",J,"textord","Ξ","\\Xi",!0),Y("math",J,"textord","Π","\\Pi",!0),Y("math",J,"textord","Σ","\\Sigma",!0),Y("math",J,"textord","Υ","\\Upsilon",!0),Y("math",J,"textord","Φ","\\Phi",!0),Y("math",J,"textord","Ψ","\\Psi",!0),Y("math",J,"textord","Ω","\\Omega",!0),Y("math",J,"textord","A","Α"),Y("math",J,"textord","B","Β"),Y("math",J,"textord","E","Ε"),Y("math",J,"textord","Z","Ζ"),Y("math",J,"textord","H","Η"),Y("math",J,"textord","I","Ι"),Y("math",J,"textord","K","Κ"),Y("math",J,"textord","M","Μ"),Y("math",J,"textord","N","Ν"),Y("math",J,"textord","O","Ο"),Y("math",J,"textord","P","Ρ"),Y("math",J,"textord","T","Τ"),Y("math",J,"textord","X","Χ"),Y("math",J,"textord","¬","\\neg",!0),Y("math",J,"textord","¬","\\lnot"),Y("math",J,"textord","⊤","\\top"),Y("math",J,"textord","⊥","\\bot"),Y("math",J,"textord","∅","\\emptyset"),Y("math",X,"textord","∅","\\varnothing"),Y("math",J,Q,"α","\\alpha",!0),Y("math",J,Q,"β","\\beta",!0),Y("math",J,Q,"γ","\\gamma",!0),Y("math",J,Q,"δ","\\delta",!0),Y("math",J,Q,"ϵ","\\epsilon",!0),Y("math",J,Q,"ζ","\\zeta",!0),Y("math",J,Q,"η","\\eta",!0),Y("math",J,Q,"θ","\\theta",!0),Y("math",J,Q,"ι","\\iota",!0),Y("math",J,Q,"κ","\\kappa",!0),Y("math",J,Q,"λ","\\lambda",!0),Y("math",J,Q,"μ","\\mu",!0),Y("math",J,Q,"ν","\\nu",!0),Y("math",J,Q,"ξ","\\xi",!0),Y("math",J,Q,"ο","\\omicron",!0),Y("math",J,Q,"π","\\pi",!0),Y("math",J,Q,"ρ","\\rho",!0),Y("math",J,Q,"σ","\\sigma",!0),Y("math",J,Q,"τ","\\tau",!0),Y("math",J,Q,"υ","\\upsilon",!0),Y("math",J,Q,"ϕ","\\phi",!0),Y("math",J,Q,"χ","\\chi",!0),Y("math",J,Q,"ψ","\\psi",!0),Y("math",J,Q,"ω","\\omega",!0),Y("math",J,Q,"ε","\\varepsilon",!0),Y("math",J,Q,"ϑ","\\vartheta",!0),Y("math",J,Q,"ϖ","\\varpi",!0),Y("math",J,Q,"ϱ","\\varrho",!0),Y("math",J,Q,"ς","\\varsigma",!0),Y("math",J,Q,"φ","\\varphi",!0),Y("math",J,Z,"∗","*"),Y("math",J,Z,"+","+"),Y("math",J,Z,"−","-"),Y("math",J,Z,"⋅","\\cdot",!0),Y("math",J,Z,"∘","\\circ"),Y("math",J,Z,"÷","\\div",!0),Y("math",J,Z,"±","\\pm",!0),Y("math",J,Z,"×","\\times",!0),Y("math",J,Z,"∩","\\cap",!0),Y("math",J,Z,"∪","\\cup",!0),Y("math",J,Z,"∖","\\setminus"),Y("math",J,Z,"∧","\\land"),Y("math",J,Z,"∨","\\lor"),Y("math",J,Z,"∧","\\wedge",!0),Y("math",J,Z,"∨","\\vee",!0),Y("math",J,"textord","√","\\surd"),Y("math",J,"open","⟨","\\langle",!0),Y("math",J,"open","∣","\\lvert"),Y("math",J,"open","∥","\\lVert"),Y("math",J,"close","?","?"),Y("math",J,"close","!","!"),Y("math",J,"close","⟩","\\rangle",!0),Y("math",J,"close","∣","\\rvert"),Y("math",J,"close","∥","\\rVert"),Y("math",J,et,"=","="),Y("math",J,et,":",":"),Y("math",J,et,"≈","\\approx",!0),Y("math",J,et,"≅","\\cong",!0),Y("math",J,et,"≥","\\ge"),Y("math",J,et,"≥","\\geq",!0),Y("math",J,et,"←","\\gets"),Y("math",J,et,">","\\gt",!0),Y("math",J,et,"∈","\\in",!0),Y("math",J,et,"","\\@not"),Y("math",J,et,"⊂","\\subset",!0),Y("math",J,et,"⊃","\\supset",!0),Y("math",J,et,"⊆","\\subseteq",!0),Y("math",J,et,"⊇","\\supseteq",!0),Y("math",X,et,"⊈","\\nsubseteq",!0),Y("math",X,et,"⊉","\\nsupseteq",!0),Y("math",J,et,"⊨","\\models"),Y("math",J,et,"←","\\leftarrow",!0),Y("math",J,et,"≤","\\le"),Y("math",J,et,"≤","\\leq",!0),Y("math",J,et,"<","\\lt",!0),Y("math",J,et,"→","\\rightarrow",!0),Y("math",J,et,"→","\\to"),Y("math",X,et,"≱","\\ngeq",!0),Y("math",X,et,"≰","\\nleq",!0),Y("math",J,"spacing"," ","\\ "),Y("math",J,"spacing"," ","~"),Y("math",J,"spacing"," ","\\space"),Y("math",J,"spacing"," ","\\nobreakspace"),Y("text",J,"spacing"," ","\\ "),Y("text",J,"spacing"," "," "),Y("text",J,"spacing"," ","~"),Y("text",J,"spacing"," ","\\space"),Y("text",J,"spacing"," ","\\nobreakspace"),Y("math",J,"spacing",null,"\\nobreak"),Y("math",J,"spacing",null,"\\allowbreak"),Y("math",J,"punct",",",","),Y("math",J,"punct",";",";"),Y("math",X,Z,"⊼","\\barwedge",!0),Y("math",X,Z,"⊻","\\veebar",!0),Y("math",J,Z,"⊙","\\odot",!0),Y("math",J,Z,"⊕","\\oplus",!0),Y("math",J,Z,"⊗","\\otimes",!0),Y("math",J,"textord","∂","\\partial",!0),Y("math",J,Z,"⊘","\\oslash",!0),Y("math",X,Z,"⊚","\\circledcirc",!0),Y("math",X,Z,"⊡","\\boxdot",!0),Y("math",J,Z,"△","\\bigtriangleup"),Y("math",J,Z,"▽","\\bigtriangledown"),Y("math",J,Z,"†","\\dagger"),Y("math",J,Z,"⋄","\\diamond"),Y("math",J,Z,"⋆","\\star"),Y("math",J,Z,"◃","\\triangleleft"),Y("math",J,Z,"▹","\\triangleright"),Y("math",J,"open","{","\\{"),Y("text",J,"textord","{","\\{"),Y("text",J,"textord","{","\\textbraceleft"),Y("math",J,"close","}","\\}"),Y("text",J,"textord","}","\\}"),Y("text",J,"textord","}","\\textbraceright"),Y("math",J,"open","{","\\lbrace"),Y("math",J,"close","}","\\rbrace"),Y("math",J,"open","[","\\lbrack",!0),Y("text",J,"textord","[","\\lbrack",!0),Y("math",J,"close","]","\\rbrack",!0),Y("text",J,"textord","]","\\rbrack",!0),Y("math",J,"open","(","\\lparen",!0),Y("math",J,"close",")","\\rparen",!0),Y("text",J,"textord","<","\\textless",!0),Y("text",J,"textord",">","\\textgreater",!0),Y("math",J,"open","⌊","\\lfloor",!0),Y("math",J,"close","⌋","\\rfloor",!0),Y("math",J,"open","⌈","\\lceil",!0),Y("math",J,"close","⌉","\\rceil",!0),Y("math",J,"textord","\\","\\backslash"),Y("math",J,"textord","∣","|"),Y("math",J,"textord","∣","\\vert"),Y("text",J,"textord","|","\\textbar",!0),Y("math",J,"textord","∥","\\|"),Y("math",J,"textord","∥","\\Vert"),Y("text",J,"textord","∥","\\textbardbl"),Y("text",J,"textord","~","\\textasciitilde"),Y("text",J,"textord","\\","\\textbackslash"),Y("text",J,"textord","^","\\textasciicircum"),Y("math",J,et,"↑","\\uparrow",!0),Y("math",J,et,"⇑","\\Uparrow",!0),Y("math",J,et,"↓","\\downarrow",!0),Y("math",J,et,"⇓","\\Downarrow",!0),Y("math",J,et,"↕","\\updownarrow",!0),Y("math",J,et,"⇕","\\Updownarrow",!0),Y("math",J,tt,"∐","\\coprod"),Y("math",J,tt,"⋁","\\bigvee"),Y("math",J,tt,"⋀","\\bigwedge"),Y("math",J,tt,"⨄","\\biguplus"),Y("math",J,tt,"⋂","\\bigcap"),Y("math",J,tt,"⋃","\\bigcup"),Y("math",J,tt,"∫","\\int"),Y("math",J,tt,"∫","\\intop"),Y("math",J,tt,"∬","\\iint"),Y("math",J,tt,"∭","\\iiint"),Y("math",J,tt,"∏","\\prod"),Y("math",J,tt,"∑","\\sum"),Y("math",J,tt,"⨂","\\bigotimes"),Y("math",J,tt,"⨁","\\bigoplus"),Y("math",J,tt,"⨀","\\bigodot"),Y("math",J,tt,"∮","\\oint"),Y("math",J,tt,"⨆","\\bigsqcup"),Y("math",J,tt,"∫","\\smallint"),Y("text",J,"inner","…","\\textellipsis"),Y("math",J,"inner","…","\\mathellipsis"),Y("text",J,"inner","…","\\ldots",!0),Y("math",J,"inner","…","\\ldots",!0),Y("math",J,"inner","⋯","\\@cdots",!0),Y("math",J,"inner","⋱","\\ddots",!0),Y("math",J,"textord","⋮","\\varvdots"),Y("math",J,"accent-token","ˊ","\\acute"),Y("math",J,"accent-token","ˋ","\\grave"),Y("math",J,"accent-token","¨","\\ddot"),Y("math",J,"accent-token","~","\\tilde"),Y("math",J,"accent-token","ˉ","\\bar"),Y("math",J,"accent-token","˘","\\breve"),Y("math",J,"accent-token","ˇ","\\check"),Y("math",J,"accent-token","^","\\hat"),Y("math",J,"accent-token","⃗","\\vec"),Y("math",J,"accent-token","˙","\\dot"),Y("math",J,"accent-token","˚","\\mathring"),Y("math",J,Q,"","\\@imath"),Y("math",J,Q,"","\\@jmath"),Y("math",J,"textord","ı","ı"),Y("math",J,"textord","ȷ","ȷ"),Y("text",J,"textord","ı","\\i",!0),Y("text",J,"textord","ȷ","\\j",!0),Y("text",J,"textord","ß","\\ss",!0),Y("text",J,"textord","æ","\\ae",!0),Y("text",J,"textord","œ","\\oe",!0),Y("text",J,"textord","ø","\\o",!0),Y("text",J,"textord","Æ","\\AE",!0),Y("text",J,"textord","Œ","\\OE",!0),Y("text",J,"textord","Ø","\\O",!0),Y("text",J,"accent-token","ˊ","\\'"),Y("text",J,"accent-token","ˋ","\\`"),Y("text",J,"accent-token","ˆ","\\^"),Y("text",J,"accent-token","˜","\\~"),Y("text",J,"accent-token","ˉ","\\="),Y("text",J,"accent-token","˘","\\u"),Y("text",J,"accent-token","˙","\\."),Y("text",J,"accent-token","˚","\\r"),Y("text",J,"accent-token","ˇ","\\v"),Y("text",J,"accent-token","¨",'\\"'),Y("text",J,"accent-token","˝","\\H"),Y("text",J,"accent-token","◯","\\textcircled");var nt={"--":!0,"---":!0,"``":!0,"''":!0};Y("text",J,"textord","–","--",!0),Y("text",J,"textord","–","\\textendash"),Y("text",J,"textord","—","---",!0),Y("text",J,"textord","—","\\textemdash"),Y("text",J,"textord","‘","`",!0),Y("text",J,"textord","‘","\\textquoteleft"),Y("text",J,"textord","’","'",!0),Y("text",J,"textord","’","\\textquoteright"),Y("text",J,"textord","“","``",!0),Y("text",J,"textord","“","\\textquotedblleft"),Y("text",J,"textord","”","''",!0),Y("text",J,"textord","”","\\textquotedblright"),Y("math",J,"textord","°","\\degree",!0),Y("text",J,"textord","°","\\degree"),Y("text",J,"textord","°","\\textdegree",!0),Y("math",J,"textord","£","\\pounds"),Y("math",J,"textord","£","\\mathsterling",!0),Y("text",J,"textord","£","\\pounds"),Y("text",J,"textord","£","\\textsterling",!0),Y("math",X,"textord","✠","\\maltese"),Y("text",X,"textord","✠","\\maltese");for(var rt=0;rt<'0123456789/@."'.length;rt++){var ot='0123456789/@."'.charAt(rt);Y("math",J,"textord",ot,ot)}for(var it=0;it<'0123456789!@*()-=+";:?/.,'.length;it++){var at='0123456789!@*()-=+";:?/.,'.charAt(it);Y("text",J,"textord",at,at)}for(var ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ut=0;ut<ct.length;ut++){var st=ct.charAt(ut);Y("math",J,Q,st,st),Y("text",J,"textord",st,st)}Y("math",X,"textord","C","ℂ"),Y("text",X,"textord","C","ℂ"),Y("math",X,"textord","H","ℍ"),Y("text",X,"textord","H","ℍ"),Y("math",X,"textord","N","ℕ"),Y("text",X,"textord","N","ℕ"),Y("math",X,"textord","P","ℙ"),Y("text",X,"textord","P","ℙ"),Y("math",X,"textord","Q","ℚ"),Y("text",X,"textord","Q","ℚ"),Y("math",X,"textord","R","ℝ"),Y("text",X,"textord","R","ℝ"),Y("math",X,"textord","Z","ℤ"),Y("text",X,"textord","Z","ℤ"),Y("math",J,Q,"h","ℎ"),Y("text",J,Q,"h","ℎ");for(var lt="",ft=0;ft<ct.length;ft++){var ht=ct.charAt(ft);Y("math",J,Q,ht,lt=String.fromCharCode(55349,56320+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56372+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56424+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56580+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56736+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56788+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56840+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56944+ft)),Y("text",J,"textord",ht,lt),ft<26&&(Y("math",J,Q,ht,lt=String.fromCharCode(55349,56632+ft)),Y("text",J,"textord",ht,lt),Y("math",J,Q,ht,lt=String.fromCharCode(55349,56476+ft)),Y("text",J,"textord",ht,lt))}Y("math",J,Q,"k",lt=String.fromCharCode(55349,56668)),Y("text",J,"textord","k",lt);for(var pt=0;pt<10;pt++){var dt=pt.toString();Y("math",J,Q,dt,lt=String.fromCharCode(55349,57294+pt)),Y("text",J,"textord",dt,lt),Y("math",J,Q,dt,lt=String.fromCharCode(55349,57314+pt)),Y("text",J,"textord",dt,lt),Y("math",J,Q,dt,lt=String.fromCharCode(55349,57324+pt)),Y("text",J,"textord",dt,lt),Y("math",J,Q,dt,lt=String.fromCharCode(55349,57334+pt)),Y("text",J,"textord",dt,lt)}for(var yt=0;yt<"ÇÐÞçþ".length;yt++){var mt="ÇÐÞçþ".charAt(yt);Y("math",J,Q,mt,mt),Y("text",J,"textord",mt,mt)}var vt=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],bt=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],gt=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],wt=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],kt=function(t,e){return e.size<2?t:gt[t-1][e.size-1]},_t=function(){function t(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||t.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=wt[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}var e=t.prototype;return e.extend=function(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new t(n)},e.havingStyle=function(t){return this.style===t?this:this.extend({style:t,size:kt(this.textSize,t)})},e.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},e.havingSize=function(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:wt[t-1]})},e.havingBaseStyle=function(e){e=e||this.style.text();var n=kt(t.BASESIZE,e);return this.size===n&&this.textSize===t.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})},e.havingBaseSizing=function(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})},e.withColor=function(t){return this.extend({color:t})},e.withPhantom=function(){return this.extend({phantom:!0})},e.withFont=function(t){return this.extend({font:t})},e.withTextFontFamily=function(t){return this.extend({fontFamily:t,font:""})},e.withTextFontWeight=function(t){return this.extend({fontWeight:t,font:""})},e.withTextFontShape=function(t){return this.extend({fontShape:t,font:""})},e.sizingClasses=function(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]},e.baseSizingClasses=function(){return this.size!==t.BASESIZE?["sizing","reset-size"+this.size,"size"+t.BASESIZE]:[]},e.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=function(t){var e;if(!H[e=t>=5?0:t>=3?1:2]){var n=H[e]={cssEmPerMu:V.quad[e]/18};for(var r in V)V.hasOwnProperty(r)&&(n[r]=V[r][e])}return H[e]}(this.size)),this._fontMetrics},e.getColor=function(){return this.phantom?"transparent":this.color},t}();_t.BASESIZE=6;var St=_t,xt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Ot={ex:!0,em:!0,mu:!0},At=function(t){return"string"!=typeof t&&(t=t.unit),t in xt||t in Ot||"ex"===t},Pt=function(t,e){var n;if(t.unit in xt)n=xt[t.unit]/e.fontMetrics().ptPerEm/e.sizeMultiplier;else if("mu"===t.unit)n=e.fontMetrics().cssEmPerMu;else{var r;if(r=e.style.isTight()?e.havingStyle(e.style.text()):e,"ex"===t.unit)n=r.fontMetrics().xHeight;else{if("em"!==t.unit)throw new a("Invalid unit: '"+t.unit+"'");n=r.fontMetrics().quad}r!==e&&(n*=r.sizeMultiplier/e.sizeMultiplier)}return Math.min(t.number*n,e.maxSize)},Et=function(t,e,n){return K[n][t]&&K[n][t].replace&&(t=K[n][t].replace),{value:t,metrics:U(t,e,n)}},Rt=function(t,e,n,r,o){var i,a=Et(t,e,n),c=a.metrics;if(t=a.value,c){var u=c.italic;("text"===n||r&&"mathit"===r.font)&&(u=0),i=new D(t,c.height,c.depth,u,c.skew,c.width,o)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+t+"' in style '"+e+"' and mode '"+n+"'"),i=new D(t,0,0,0,0,0,o);if(r){i.maxFontSize=r.sizeMultiplier,r.style.isTight()&&i.classes.push("mtight");var s=r.getColor();s&&(i.style.color=s)}return i},Tt=function(t,e){if(P(t.classes)!==P(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;for(var n in t.style)if(t.style.hasOwnProperty(n)&&t.style[n]!==e.style[n])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},jt=function(t){for(var e=0,n=0,r=0,o=0;o<t.children.length;o++){var i=t.children[o];i.height>e&&(e=i.height),i.depth>n&&(n=i.depth),i.maxFontSize>r&&(r=i.maxFontSize)}t.height=e,t.depth=n,t.maxFontSize=r},Ct=function(t,e,n,r){var o=new j(t,e,n,r);return jt(o),o},It=function(t,e,n,r){return new j(t,e,n,r)},Mt=function(t){var e=new A(t);return jt(e),e},Dt=function(t,e,n){var r="";switch(t){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=t}return r+"-"+("textbf"===e&&"textit"===n?"BoldItalic":"textbf"===e?"Bold":"textit"===e?"Italic":"Regular")},Nt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Bt={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659],leftParenInner:["leftParenInner",.875,.3],rightParenInner:["rightParenInner",.875,.3]},zt={fontMap:Nt,makeSymbol:Rt,mathsym:function(t,e,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&Et(t,"Main-Bold",e).metrics?Rt(t,"Main-Bold",e,n,r.concat(["mathbf"])):"\\"===t||"main"===K[e][t].font?Rt(t,"Main-Regular",e,n,r):Rt(t,"AMS-Regular",e,n,r.concat(["amsrm"]))},makeSpan:Ct,makeSvgSpan:It,makeLineSpan:function(t,e,n){var r=Ct([t],[],e);return r.height=Math.max(n||e.fontMetrics().defaultRuleThickness,e.minRuleThickness),r.style.borderBottomWidth=r.height+"em",r.maxFontSize=1,r},makeAnchor:function(t,e,n,r){var o=new C(t,e,n,r);return jt(o),o},makeFragment:Mt,wrapFragment:function(t,e){return t instanceof A?Ct([],[t],e):t},makeVList:function(t,e){for(var n=function(t){if("individualShift"===t.positionType){for(var e=t.children,n=[e[0]],r=-e[0].shift-e[0].elem.depth,o=r,i=1;i<e.length;i++){var a=-e[i].shift-o-e[i].elem.depth,c=a-(e[i-1].elem.height+e[i-1].elem.depth);o+=a,n.push({type:"kern",size:c}),n.push(e[i])}return{children:n,depth:r}}var u;if("top"===t.positionType){for(var s=t.positionData,l=0;l<t.children.length;l++){var f=t.children[l];s-="kern"===f.type?f.size:f.elem.height+f.elem.depth}u=s}else if("bottom"===t.positionType)u=-t.positionData;else{var h=t.children[0];if("elem"!==h.type)throw new Error('First child must have type "elem".');if("shift"===t.positionType)u=-h.elem.depth-t.positionData;else{if("firstBaseline"!==t.positionType)throw new Error("Invalid positionType "+t.positionType+".");u=-h.elem.depth}}return{children:t.children,depth:u}}(t),r=n.children,o=n.depth,i=0,a=0;a<r.length;a++){var c=r[a];if("elem"===c.type){var u=c.elem;i=Math.max(i,u.maxFontSize,u.height)}}i+=2;var s=Ct(["pstrut"],[]);s.style.height=i+"em";for(var l=[],f=o,h=o,p=o,d=0;d<r.length;d++){var y=r[d];if("kern"===y.type)p+=y.size;else{var m=y.elem,v=y.wrapperClasses||[],b=y.wrapperStyle||{},g=Ct(v,[s,m],void 0,b);g.style.top=-i-p-m.depth+"em",y.marginLeft&&(g.style.marginLeft=y.marginLeft),y.marginRight&&(g.style.marginRight=y.marginRight),l.push(g),p+=m.height+m.depth}f=Math.min(f,p),h=Math.max(h,p)}var w,k=Ct(["vlist"],l);if(k.style.height=h+"em",f<0){var _=Ct([],[]),S=Ct(["vlist"],[_]);S.style.height=-f+"em";var x=Ct(["vlist-s"],[new D("​")]);w=[Ct(["vlist-r"],[k,x]),Ct(["vlist-r"],[S])]}else w=[Ct(["vlist-r"],[k])];var O=Ct(["vlist-t"],w);return 2===w.length&&O.classes.push("vlist-t2"),O.height=h,O.depth=-f,O},makeOrd:function(t,e,n){var r=t.mode,o=t.text,i=["mord"],c="math"===r||"text"===r&&e.font,u=c?e.font:e.fontFamily;if(55349===o.charCodeAt(0)){var s=function(t,e){var n=1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536,r="math"===e?0:1;if(119808<=n&&n<120484){var o=Math.floor((n-119808)/26);return[vt[o][2],vt[o][r]]}if(120782<=n&&n<=120831){var i=Math.floor((n-120782)/10);return[bt[i][2],bt[i][r]]}if(120485===n||120486===n)return[vt[0][2],vt[0][r]];if(120486<n&&n<120782)return["",""];throw new a("Unsupported character: "+t)}(o,r),l=s[0],f=s[1];return Rt(o,l,r,e,i.concat(f))}if(u){var h,p;if("boldsymbol"===u){var d=function(t,e,n,r,o){return"textord"!==o&&Et(t,"Math-BoldItalic",e).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,r,0,0,n);h=d.fontName,p=[d.fontClass]}else c?(h=Nt[u].fontName,p=[u]):(h=Dt(u,e.fontWeight,e.fontShape),p=[u,e.fontWeight,e.fontShape]);if(Et(o,h,r).metrics)return Rt(o,h,r,e,i.concat(p));if(nt.hasOwnProperty(o)&&"Typewriter"===h.substr(0,10)){for(var y=[],m=0;m<o.length;m++)y.push(Rt(o[m],h,r,e,i.concat(p)));return Mt(y)}}if("mathord"===n)return Rt(o,"Math-Italic",r,e,i.concat(["mathnormal"]));if("textord"===n){var v=K[r][o]&&K[r][o].font;if("ams"===v){var b=Dt("amsrm",e.fontWeight,e.fontShape);return Rt(o,b,r,e,i.concat("amsrm",e.fontWeight,e.fontShape))}if("main"!==v&&v){var g=Dt(v,e.fontWeight,e.fontShape);return Rt(o,g,r,e,i.concat(g,e.fontWeight,e.fontShape))}var w=Dt("textrm",e.fontWeight,e.fontShape);return Rt(o,w,r,e,i.concat(e.fontWeight,e.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:function(t,e){var n=Ct(["mspace"],[],e),r=Pt(t,e);return n.style.marginRight=r+"em",n},staticSvg:function(t,e){var n=Bt[t],r=n[0],o=n[1],i=n[2],a=new B(r),c=new N([a],{width:o+"em",height:i+"em",style:"width:"+o+"em",viewBox:"0 0 "+1e3*o+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),u=It(["overlay"],[c],e);return u.height=i,u.style.height=i+"em",u.style.width=o+"em",u},svgData:Bt,tryCombineChars:function(t){for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof D&&r instanceof D&&Tt(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t}},Lt={number:3,unit:"mu"},Ft={number:4,unit:"mu"},Vt={number:5,unit:"mu"},qt={mord:{mop:Lt,mbin:Ft,mrel:Vt,minner:Lt},mop:{mord:Lt,mop:Lt,mrel:Vt,minner:Lt},mbin:{mord:Ft,mop:Ft,mopen:Ft,minner:Ft},mrel:{mord:Vt,mop:Vt,mopen:Vt,minner:Vt},mopen:{},mclose:{mop:Lt,mbin:Ft,mrel:Vt,minner:Lt},mpunct:{mord:Lt,mop:Lt,mrel:Vt,mopen:Lt,mclose:Lt,mpunct:Lt,minner:Lt},minner:{mord:Lt,mop:Lt,mbin:Ft,mrel:Vt,mopen:Lt,mpunct:Lt,minner:Lt}},Ut={mord:{mop:Lt},mop:{mord:Lt,mop:Lt},mbin:{},mrel:{},mopen:{},mclose:{mop:Lt},mpunct:{},minner:{mop:Lt}},Ht={},Wt={},$t={};function Gt(t){for(var e=t.type,n=t.names,r=t.props,o=t.handler,i=t.htmlBuilder,a=t.mathmlBuilder,c={type:e,numArgs:r.numArgs,argTypes:r.argTypes,greediness:void 0===r.greediness?1:r.greediness,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,handler:o},u=0;u<n.length;++u)Ht[n[u]]=c;e&&(i&&(Wt[e]=i),a&&($t[e]=a))}function Kt(t){Gt({type:t.type,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:t.htmlBuilder,mathmlBuilder:t.mathmlBuilder})}var Yt=function(t){return"ordgroup"===t.type?t.body:[t]},Jt=zt.makeSpan,Xt=["leftmost","mbin","mopen","mrel","mop","mpunct"],Zt=["rightmost","mrel","mclose","mpunct"],Qt={display:k.DISPLAY,text:k.TEXT,script:k.SCRIPT,scriptscript:k.SCRIPTSCRIPT},te={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},ee=function(t,e,n,r){void 0===r&&(r=[null,null]);for(var o=[],i=0;i<t.length;i++){var a=ae(t[i],e);if(a instanceof A){var c=a.children;o.push.apply(o,c)}else o.push(a)}if(!n)return o;var u=e;if(1===t.length){var s=t[0];"sizing"===s.type?u=e.havingSize(s.size):"styling"===s.type&&(u=e.havingStyle(Qt[s.style]))}var l=Jt([r[0]||"leftmost"],[],e),h=Jt([r[1]||"rightmost"],[],e),p="root"===n;return ne(o,function(t,e){var n=e.classes[0],r=t.classes[0];"mbin"===n&&f.contains(Zt,r)?e.classes[0]="mord":"mbin"===r&&f.contains(Xt,n)&&(t.classes[0]="mord")},{node:l},h,p),ne(o,function(t,e){var n=oe(e),r=oe(t),o=n&&r?t.hasClass("mtight")?Ut[n][r]:qt[n][r]:null;if(o)return zt.makeGlue(o,u)},{node:l},h,p),o},ne=function t(e,n,r,o,i){o&&e.push(o);for(var a=0;a<e.length;a++){var c=e[a],u=re(c);if(u)t(u.children,n,r,null,i);else{var s=!c.hasClass("mspace");if(s){var l=n(c,r.node);l&&(r.insertAfter?r.insertAfter(l):(e.unshift(l),a++))}s?r.node=c:i&&c.hasClass("newline")&&(r.node=Jt(["leftmost"])),r.insertAfter=function(t){return function(n){e.splice(t+1,0,n),a++}}(a)}}o&&e.pop()},re=function(t){return t instanceof A||t instanceof C||t instanceof j&&t.hasClass("enclosing")?t:null},oe=function(t,e){return t?(e&&(t=function t(e,n){var r=re(e);if(r){var o=r.children;if(o.length){if("right"===n)return t(o[o.length-1],"right");if("left"===n)return t(o[0],"left")}}return e}(t,e)),te[t.classes[0]]||null):null},ie=function(t,e){var n=["nulldelimiter"].concat(t.baseSizingClasses());return Jt(e.concat(n))},ae=function(t,e,n){if(!t)return Jt();if(Wt[t.type]){var r=Wt[t.type](t,e);if(n&&e.size!==n.size){r=Jt(e.sizingClasses(n),[r],e);var o=e.sizeMultiplier/n.sizeMultiplier;r.height*=o,r.depth*=o}return r}throw new a("Got group of unknown type: '"+t.type+"'")};function ce(t,e){var n=Jt(["base"],t,e),r=Jt(["strut"]);return r.style.height=n.height+n.depth+"em",r.style.verticalAlign=-n.depth+"em",n.children.unshift(r),n}function ue(t,e){var n=null;1===t.length&&"tag"===t[0].type&&(n=t[0].tag,t=t[0].body);for(var r,o=ee(t,e,"root"),i=[],a=[],c=0;c<o.length;c++)if(a.push(o[c]),o[c].hasClass("mbin")||o[c].hasClass("mrel")||o[c].hasClass("allowbreak")){for(var u=!1;c<o.length-1&&o[c+1].hasClass("mspace")&&!o[c+1].hasClass("newline");)c++,a.push(o[c]),o[c].hasClass("nobreak")&&(u=!0);u||(i.push(ce(a,e)),a=[])}else o[c].hasClass("newline")&&(a.pop(),a.length>0&&(i.push(ce(a,e)),a=[]),i.push(o[c]));a.length>0&&i.push(ce(a,e)),n&&((r=ce(ee(n,e,!0))).classes=["tag"],i.push(r));var s=Jt(["katex-html"],i);if(s.setAttribute("aria-hidden","true"),r){var l=r.children[0];l.style.height=s.height+s.depth+"em",l.style.verticalAlign=-s.depth+"em"}return s}function se(t){return new A(t)}var le=function(){function t(t,e){this.type=void 0,this.attributes=void 0,this.children=void 0,this.type=t,this.attributes={},this.children=e||[]}var e=t.prototype;return e.setAttribute=function(t,e){this.attributes[t]=e},e.getAttribute=function(t){return this.attributes[t]},e.toNode=function(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&t.setAttribute(e,this.attributes[e]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},e.toMarkup=function(){var t="<"+this.type;for(var e in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,e)&&(t+=" "+e+'="',t+=f.escape(this.attributes[e]),t+='"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">"},e.toText=function(){return this.children.map(function(t){return t.toText()}).join("")},t}(),fe=function(){function t(t){this.text=void 0,this.text=t}var e=t.prototype;return e.toNode=function(){return document.createTextNode(this.text)},e.toMarkup=function(){return f.escape(this.toText())},e.toText=function(){return this.text},t}(),he={MathNode:le,TextNode:fe,SpaceNode:function(){function t(t){this.width=void 0,this.character=void 0,this.width=t,this.character=t>=.05555&&t<=.05556?" ":t>=.1666&&t<=.1667?" ":t>=.2222&&t<=.2223?" ":t>=.2777&&t<=.2778?"  ":t>=-.05556&&t<=-.05555?" ⁣":t>=-.1667&&t<=-.1666?" ⁣":t>=-.2223&&t<=-.2222?" ⁣":t>=-.2778&&t<=-.2777?" ⁣":null}var e=t.prototype;return e.toNode=function(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",this.width+"em"),t},e.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},e.toText=function(){return this.character?this.character:" "},t}(),newDocumentFragment:se},pe=function(t,e,n){return!K[e][t]||!K[e][t].replace||55349===t.charCodeAt(0)||nt.hasOwnProperty(t)&&n&&(n.fontFamily&&"tt"===n.fontFamily.substr(4,2)||n.font&&"tt"===n.font.substr(4,2))||(t=K[e][t].replace),new he.TextNode(t)},de=function(t){return 1===t.length?t[0]:new he.MathNode("mrow",t)},ye=function(t,e){if("texttt"===e.fontFamily)return"monospace";if("textsf"===e.fontFamily)return"textit"===e.fontShape&&"textbf"===e.fontWeight?"sans-serif-bold-italic":"textit"===e.fontShape?"sans-serif-italic":"textbf"===e.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===e.fontShape&&"textbf"===e.fontWeight)return"bold-italic";if("textit"===e.fontShape)return"italic";if("textbf"===e.fontWeight)return"bold";var n=e.font;if(!n||"mathnormal"===n)return null;var r=t.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===t.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var o=t.text;return f.contains(["\\imath","\\jmath"],o)?null:(K[r][o]&&K[r][o].replace&&(o=K[r][o].replace),U(o,zt.fontMap[n].fontName,r)?zt.fontMap[n].variant:null)},me=function(t,e,n){if(1===t.length){var r=be(t[0],e);return n&&r instanceof le&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var o,i=[],a=0;a<t.length;a++){var c=be(t[a],e);if(c instanceof le&&o instanceof le){if("mtext"===c.type&&"mtext"===o.type&&c.getAttribute("mathvariant")===o.getAttribute("mathvariant")){var u;(u=o.children).push.apply(u,c.children);continue}if("mn"===c.type&&"mn"===o.type){var s;(s=o.children).push.apply(s,c.children);continue}if("mi"===c.type&&1===c.children.length&&"mn"===o.type){var l=c.children[0];if(l instanceof fe&&"."===l.text){var f;(f=o.children).push.apply(f,c.children);continue}}else if("mi"===o.type&&1===o.children.length){var h=o.children[0];if(h instanceof fe&&"̸"===h.text&&("mo"===c.type||"mi"===c.type||"mn"===c.type)){var p=c.children[0];p instanceof fe&&p.text.length>0&&(p.text=p.text.slice(0,1)+"̸"+p.text.slice(1),i.pop())}}}i.push(c),o=c}return i},ve=function(t,e,n){return de(me(t,e,n))},be=function(t,e){if(!t)return new he.MathNode("mrow");if($t[t.type])return $t[t.type](t,e);throw new a("Got group of unknown type: '"+t.type+"'")};function ge(t,e,n,r,o){var i,a=me(t,n);i=1===a.length&&a[0]instanceof le&&f.contains(["mrow","mtable"],a[0].type)?a[0]:new he.MathNode("mrow",a);var c=new he.MathNode("annotation",[new he.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var u=new he.MathNode("semantics",[i,c]),s=new he.MathNode("math",[u]);s.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&s.setAttribute("display","block");var l=o?"katex":"katex-mathml";return zt.makeSpan([l],[s])}var we=function(t){return new St({style:t.displayMode?k.DISPLAY:k.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},ke=function(t,e){if(e.displayMode){var n=["katex-display"];e.leqno&&n.push("leqno"),e.fleqn&&n.push("fleqn"),t=zt.makeSpan(n,[t])}return t},_e=function(t,e,n){var r,o=we(n);if("mathml"===n.output)return ge(t,e,o,n.displayMode,!0);if("html"===n.output){var i=ue(t,o);r=zt.makeSpan(["katex"],[i])}else{var a=ge(t,e,o,n.displayMode,!1),c=ue(t,o);r=zt.makeSpan(["katex"],[a,c])}return ke(r,n)},Se={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋"},xe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Oe=function(t,e,n,r){var o,i=t.height+t.depth+2*n;if(/fbox|color/.test(e)){if(o=zt.makeSpan(["stretchy",e],[],r),"fbox"===e){var a=r.color&&r.getColor();a&&(o.style.borderColor=a)}}else{var c=[];/^[bx]cancel$/.test(e)&&c.push(new z({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(e)&&c.push(new z({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new N(c,{width:"100%",height:i+"em"});o=zt.makeSvgSpan([],[u],r)}return o.height=i,o.style.height=i+"em",o},Ae=function(t){var e=new he.MathNode("mo",[new he.TextNode(Se[t.substr(1)])]);return e.setAttribute("stretchy","true"),e},Pe=function(t,e){var n=function(){var n=4e5,r=t.label.substr(1);if(f.contains(["widehat","widecheck","widetilde","utilde"],r)){var o,i,a,c="ordgroup"===(d=t.base).type?d.body.length:1;if(c>5)"widehat"===r||"widecheck"===r?(o=420,n=2364,a=.42,i=r+"4"):(o=312,n=2340,a=.34,i="tilde4");else{var u=[1,1,2,2,3,3][c];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][u],o=[0,239,300,360,420][u],a=[0,.24,.3,.3,.36,.42][u],i=r+u):(n=[0,600,1033,2339,2340][u],o=[0,260,286,306,312][u],a=[0,.26,.286,.3,.306,.34][u],i="tilde"+u)}var s=new B(i),l=new N([s],{width:"100%",height:a+"em",viewBox:"0 0 "+n+" "+o,preserveAspectRatio:"none"});return{span:zt.makeSvgSpan([],[l],e),minWidth:0,height:a}}var h,p,d,y=[],m=xe[r],v=m[0],b=m[1],g=m[2],w=g/1e3,k=v.length;if(1===k)h=["hide-tail"],p=[m[3]];else if(2===k)h=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==k)throw new Error("Correct katexImagesData or update code here to support\n                    "+k+" children.");h=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var _=0;_<k;_++){var S=new B(v[_]),x=new N([S],{width:"400em",height:w+"em",viewBox:"0 0 "+n+" "+g,preserveAspectRatio:p[_]+" slice"}),O=zt.makeSvgSpan([h[_]],[x],e);if(1===k)return{span:O,minWidth:b,height:w};O.style.height=w+"em",y.push(O)}return{span:zt.makeSpan(["stretchy"],y,e),minWidth:b,height:w}}(),r=n.span,o=n.minWidth,i=n.height;return r.height=i,r.style.height=i+"em",o>0&&(r.style.minWidth=o+"em"),r};function Ee(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Re(t){var e=Te(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Te(t){return t&&("atom"===t.type||$.hasOwnProperty(t.type))?t:null}var je=function(t,e){var n,r,o;t&&"supsub"===t.type?(n=(r=Ee(t.base,"accent")).base,t.base=n,o=function(t){if(t instanceof j)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}(ae(t,e)),t.base=r):n=(r=Ee(t,"accent")).base;var i=ae(n,e.havingCrampedStyle()),a=0;if(r.isShifty&&f.isCharacterBox(n)){var c=f.getBaseElem(n);a=L(ae(c,e.havingCrampedStyle())).skew}var u,s=Math.min(i.height,e.fontMetrics().xHeight);if(r.isStretchy)u=Pe(r,e),u=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:u,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+2*a+"em)",marginLeft:2*a+"em"}:void 0}]},e);else{var l,h;"\\vec"===r.label?(l=zt.staticSvg("vec",e),h=zt.svgData.vec[1]):((l=L(l=zt.makeOrd({mode:r.mode,text:r.label},e,"textord"))).italic=0,h=l.width),u=zt.makeSpan(["accent-body"],[l]);var p="\\textcircled"===r.label;p&&(u.classes.push("accent-full"),s=i.height);var d=a;p||(d-=h/2),u.style.left=d+"em","\\textcircled"===r.label&&(u.style.top=".2em"),u=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-s},{type:"elem",elem:u}]},e)}var y=zt.makeSpan(["mord","accent"],[u],e);return o?(o.children[0]=y,o.height=Math.max(y.height,o.height),o.classes[0]="mord",o):y},Ce=function(t,e){var n=t.isStretchy?Ae(t.label):new he.MathNode("mo",[pe(t.label,t.mode)]),r=new he.MathNode("mover",[be(t.base,e),n]);return r.setAttribute("accent","true"),r},Ie=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(t){return"\\"+t}).join("|"));Gt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(t,e){var n=e[0],r=!Ie.test(t.funcName),o=!r||"\\widehat"===t.funcName||"\\widetilde"===t.funcName||"\\widecheck"===t.funcName;return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:je,mathmlBuilder:Ce}),Gt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!1},handler:function(t,e){var n=e[0];return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:je,mathmlBuilder:Ce}),Gt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:function(t,e){var n=ae(t.base,e),r=Pe(t,e),o="\\utilde"===t.label?.12:0,i=zt.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},e);return zt.makeSpan(["mord","accentunder"],[i],e)},mathmlBuilder:function(t,e){var n=Ae(t.label),r=new he.MathNode("munder",[be(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Me=function(t){var e=new he.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Gt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium"],props:{numArgs:1,numOptionalArgs:1},handler:function(t,e,n){var r=t.parser,o=t.funcName;return{type:"xArrow",mode:r.mode,label:o,body:e[0],below:n[0]}},htmlBuilder:function(t,e){var n,r=e.style,o=e.havingStyle(r.sup()),i=zt.wrapFragment(ae(t.body,o,e),e);i.classes.push("x-arrow-pad"),t.below&&(o=e.havingStyle(r.sub()),(n=zt.wrapFragment(ae(t.below,o,e),e)).classes.push("x-arrow-pad"));var a,c=Pe(t,e),u=-e.fontMetrics().axisHeight+.5*c.height,s=-e.fontMetrics().axisHeight-.5*c.height-.111;if((i.depth>.25||"\\xleftequilibrium"===t.label)&&(s-=i.depth),n){var l=-e.fontMetrics().axisHeight+n.height+.5*c.height+.111;a=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:s},{type:"elem",elem:c,shift:u},{type:"elem",elem:n,shift:l}]},e)}else a=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:s},{type:"elem",elem:c,shift:u}]},e);return a.children[0].children[0].children[1].classes.push("svg-align"),zt.makeSpan(["mrel","x-arrow"],[a],e)},mathmlBuilder:function(t,e){var n,r=Ae(t.label);if(t.body){var o=Me(be(t.body,e));if(t.below){var i=Me(be(t.below,e));n=new he.MathNode("munderover",[r,i,o])}else n=new he.MathNode("mover",[r,o])}else if(t.below){var a=Me(be(t.below,e));n=new he.MathNode("munder",[r,a])}else n=Me(),n=new he.MathNode("mover",[r,n]);return n}}),Gt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){for(var n=t.parser,r=Ee(e[0],"ordgroup").body,o="",i=0;i<r.length;i++)o+=Ee(r[i],"textord").text;var c=parseInt(o);if(isNaN(c))throw new a("\\@char has non-numeric argument "+o);return{type:"textord",mode:n.mode,text:String.fromCharCode(c)}}});var De=function(t,e){var n=ee(t.body,e.withColor(t.color),!1);return zt.makeFragment(n)},Ne=function(t,e){var n=me(t.body,e.withColor(t.color)),r=new he.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Gt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"]},handler:function(t,e){var n=t.parser,r=Ee(e[0],"color-token").color,o=e[1];return{type:"color",mode:n.mode,color:r,body:Yt(o)}},htmlBuilder:De,mathmlBuilder:Ne}),Gt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,greediness:3,argTypes:["color"]},handler:function(t,e){var n=t.parser,r=t.breakOnTokenText,o=Ee(e[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var i=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:i}},htmlBuilder:De,mathmlBuilder:Ne}),Gt({type:"cr",names:["\\cr","\\newline"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(t,e,n){var r=t.parser,o=t.funcName,i=n[0],a="\\cr"===o,c=!1;return a||(c=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode")),{type:"cr",mode:r.mode,newLine:c,newRow:a,size:i&&Ee(i,"size").value}},htmlBuilder:function(t,e){if(t.newRow)throw new a("\\cr valid only within a tabular/array environment");var n=zt.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Pt(t.size,e)+"em")),n},mathmlBuilder:function(t,e){var n=new he.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Pt(t.size,e)+"em")),n}});var Be={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ze=function(t){var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new a("Expected a control sequence",t);return e},Le=function(t,e,n,r){var o=t.gullet.macros.get(n.text);null==o&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,o,r)};Gt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(t){var e=t.parser,n=t.funcName;e.consumeSpaces();var r=e.fetch();if(Be[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=Be[r.text]),Ee(e.parseFunction(),"internal");throw new a("Invalid token after macro prefix",r)}}),Gt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0},handler:function(t){var e=t.parser,n=t.funcName,r=e.gullet.consumeArgs(1)[0];if(1!==r.length)throw new a("\\gdef's first argument must be a macro name");var o=r[0].text,i=0;for(r=e.gullet.consumeArgs(1)[0];1===r.length&&"#"===r[0].text;){if(1!==(r=e.gullet.consumeArgs(1)[0]).length)throw new a('Invalid argument number length "'+r.length+'"');if(!/^[1-9]$/.test(r[0].text))throw new a('Invalid argument number "'+r[0].text+'"');if(i++,parseInt(r[0].text)!==i)throw new a('Argument number "'+r[0].text+'" out of order');r=e.gullet.consumeArgs(1)[0]}return"\\edef"!==n&&"\\xdef"!==n||(r=e.gullet.expandTokens(r)).reverse(),e.gullet.macros.set(o,{tokens:r,numArgs:i},n===Be[n]),{type:"internal",mode:e.mode}}}),Gt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0},handler:function(t){var e=t.parser,n=t.funcName,r=ze(e.gullet.popToken());e.gullet.consumeSpaces();var o=function(t){var e=t.gullet.popToken();return"="===e.text&&" "===(e=t.gullet.popToken()).text&&(e=t.gullet.popToken()),e}(e);return Le(e,r,o,"\\\\globallet"===n),{type:"internal",mode:e.mode}}}),Gt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0},handler:function(t){var e=t.parser,n=t.funcName,r=ze(e.gullet.popToken()),o=e.gullet.popToken(),i=e.gullet.popToken();return Le(e,r,i,"\\\\globalfuture"===n),e.gullet.pushToken(i),e.gullet.pushToken(o),{type:"internal",mode:e.mode}}});var Fe=function(t,e,n){var r=U(K.math[t]&&K.math[t].replace||t,e,n);if(!r)throw new Error("Unsupported symbol "+t+" and font size "+e+".");return r},Ve=function(t,e,n,r){var o=n.havingBaseStyle(e),i=zt.makeSpan(r.concat(o.sizingClasses(n)),[t],n),a=o.sizeMultiplier/n.sizeMultiplier;return i.height*=a,i.depth*=a,i.maxFontSize=o.sizeMultiplier,i},qe=function(t,e,n){var r=e.havingBaseStyle(n),o=(1-e.sizeMultiplier/r.sizeMultiplier)*e.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=o+"em",t.height-=o,t.depth+=o},Ue=function(t,e,n,r,o,i){var a=function(t,e,n,r){return zt.makeSymbol(t,"Size"+e+"-Regular",n,r)}(t,e,o,r),c=Ve(zt.makeSpan(["delimsizing","size"+e],[a],r),k.TEXT,r,i);return n&&qe(c,r,k.TEXT),c},He=function(t,e,n){var r;return r="Size1-Regular"===e?"delim-size1":"delim-size4",{type:"elem",elem:zt.makeSpan(["delimsizinginner",r],[zt.makeSpan([],[zt.makeSymbol(t,e,n)])])}},We={type:"kern",size:-.005},$e=function(t,e,n,r,o,i){var a,c,u,s;a=u=s=t,c=null;var l="Size1-Regular";"\\uparrow"===t?u=s="⏐":"\\Uparrow"===t?u=s="‖":"\\downarrow"===t?a=u="⏐":"\\Downarrow"===t?a=u="‖":"\\updownarrow"===t?(a="\\uparrow",u="⏐",s="\\downarrow"):"\\Updownarrow"===t?(a="\\Uparrow",u="‖",s="\\Downarrow"):"["===t||"\\lbrack"===t?(a="⎡",u="⎢",s="⎣",l="Size4-Regular"):"]"===t||"\\rbrack"===t?(a="⎤",u="⎥",s="⎦",l="Size4-Regular"):"\\lfloor"===t||"⌊"===t?(u=a="⎢",s="⎣",l="Size4-Regular"):"\\lceil"===t||"⌈"===t?(a="⎡",u=s="⎢",l="Size4-Regular"):"\\rfloor"===t||"⌋"===t?(u=a="⎥",s="⎦",l="Size4-Regular"):"\\rceil"===t||"⌉"===t?(a="⎤",u=s="⎥",l="Size4-Regular"):"("===t||"\\lparen"===t?(a="⎛",u="⎜",s="⎝",l="Size4-Regular"):")"===t||"\\rparen"===t?(a="⎞",u="⎟",s="⎠",l="Size4-Regular"):"\\{"===t||"\\lbrace"===t?(a="⎧",c="⎨",s="⎩",u="⎪",l="Size4-Regular"):"\\}"===t||"\\rbrace"===t?(a="⎫",c="⎬",s="⎭",u="⎪",l="Size4-Regular"):"\\lgroup"===t||"⟮"===t?(a="⎧",s="⎩",u="⎪",l="Size4-Regular"):"\\rgroup"===t||"⟯"===t?(a="⎫",s="⎭",u="⎪",l="Size4-Regular"):"\\lmoustache"===t||"⎰"===t?(a="⎧",s="⎭",u="⎪",l="Size4-Regular"):"\\rmoustache"!==t&&"⎱"!==t||(a="⎫",s="⎩",u="⎪",l="Size4-Regular");var f=Fe(a,l,o),h=f.height+f.depth,p=Fe(u,l,o),d=p.height+p.depth,y=Fe(s,l,o),m=y.height+y.depth,v=0,b=1;if(null!==c){var g=Fe(c,l,o);v=g.height+g.depth,b=2}var w=h+m+v,_=Math.max(0,Math.ceil((e-w)/(b*d))),S=w+_*b*d,x=r.fontMetrics().axisHeight;n&&(x*=r.sizeMultiplier);var O=S/2-x,A=.005*(_+1)-d,P=[];if(P.push(He(s,l,o)),null===c)for(var E=0;E<_;E++)P.push(We),P.push(He(u,l,o));else{for(var R=0;R<_;R++)P.push(We),P.push(He(u,l,o));P.push({type:"kern",size:A}),P.push(He(u,l,o)),P.push(We),P.push(He(c,l,o));for(var T=0;T<_;T++)P.push(We),P.push(He(u,l,o))}if("⎜"!==u&&"⎟"!==u||0!==_)P.push({type:"kern",size:A}),P.push(He(u,l,o)),P.push(We);else{var j=zt.svgData.leftParenInner[2]/2;P.push({type:"kern",size:-j});var C="⎜"===u?"leftParenInner":"rightParenInner",I=zt.staticSvg(C,r);P.push({type:"elem",elem:I}),P.push({type:"kern",size:-j})}P.push(He(a,l,o));var M=r.havingBaseStyle(k.TEXT),D=zt.makeVList({positionType:"bottom",positionData:O,children:P},M);return Ve(zt.makeSpan(["delimsizing","mult"],[D],M),k.TEXT,r,i)},Ge=function(t,e,n,r,o){var i=function(t,e,n){e*=1e3;var r="";switch(t){case"sqrtMain":r=function(t,e){return"M95,"+(622+t+e)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+t/2.075+" -"+t+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+t)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+t)+" "+e+"h400000v"+(40+t)+"h-400000z"}(e,80);break;case"sqrtSize1":r=function(t,e){return"M263,"+(601+t+e)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+t/2.084+" -"+t+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+t)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"}(e,80);break;case"sqrtSize2":r=function(t,e){return"M983 "+(10+t+e)+"\nl"+t/3.13+" -"+t+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+t)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+t)+" "+e+"h400000v"+(40+t)+"h-400000z"}(e,80);break;case"sqrtSize3":r=function(t,e){return"M424,"+(2398+t+e)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+t/4.223+" -"+t+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+t)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+t)+" "+e+"\nh400000v"+(40+t)+"h-400000z"}(e,80);break;case"sqrtSize4":r=function(t,e){return"M473,"+(2713+t+e)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+t/5.298+" -"+t+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+t)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+t)+" "+e+"h400000v"+(40+t)+"H1017.7z"}(e,80);break;case"sqrtTall":r=function(t,e,n){return"M702 "+(t+e)+"H400000"+(40+t)+"\nH742v"+(n-54-e-t)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+e+"H400000v"+(40+t)+"H742z"}(e,80,n)}return r}(t,r,n),a=new B(t,i),c=new N([a],{width:"400em",height:e+"em",viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return zt.makeSvgSpan(["hide-tail"],[c],o)},Ke=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Ye=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Je=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Xe=[0,1.2,1.8,2.4,3],Ze=[{type:"small",style:k.SCRIPTSCRIPT},{type:"small",style:k.SCRIPT},{type:"small",style:k.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Qe=[{type:"small",style:k.SCRIPTSCRIPT},{type:"small",style:k.SCRIPT},{type:"small",style:k.TEXT},{type:"stack"}],tn=[{type:"small",style:k.SCRIPTSCRIPT},{type:"small",style:k.SCRIPT},{type:"small",style:k.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],en=function(t){if("small"===t.type)return"Main-Regular";if("large"===t.type)return"Size"+t.size+"-Regular";if("stack"===t.type)return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},nn=function(t,e,n,r){for(var o=Math.min(2,3-r.style.size);o<n.length&&"stack"!==n[o].type;o++){var i=Fe(t,en(n[o]),"math"),a=i.height+i.depth;if("small"===n[o].type&&(a*=r.havingBaseStyle(n[o].style).sizeMultiplier),a>e)return n[o]}return n[n.length-1]},rn=function(t,e,n,r,o,i){var a;"<"===t||"\\lt"===t||"⟨"===t?t="\\langle":">"!==t&&"\\gt"!==t&&"⟩"!==t||(t="\\rangle"),a=f.contains(Je,t)?Ze:f.contains(Ke,t)?tn:Qe;var c=nn(t,e,a,r);return"small"===c.type?function(t,e,n,r,o,i){var a=zt.makeSymbol(t,"Main-Regular",o,r),c=Ve(a,e,r,i);return n&&qe(c,r,e),c}(t,c.style,n,r,o,i):"large"===c.type?Ue(t,c.size,n,r,o,i):$e(t,e,n,r,o,i)},on=function(t,e){var n,r,o=e.havingBaseSizing(),i=nn("\\surd",t*o.sizeMultiplier,tn,o),a=o.sizeMultiplier,c=Math.max(0,e.minRuleThickness-e.fontMetrics().sqrtRuleThickness),u=0,s=0,l=0;return"small"===i.type?(t<1?a=1:t<1.4&&(a=.7),s=(1+c)/a,(n=Ge("sqrtMain",u=(1+c+.08)/a,l=1e3+1e3*c+80,c,e)).style.minWidth="0.853em",r=.833/a):"large"===i.type?(l=1080*Xe[i.size],s=(Xe[i.size]+c)/a,u=(Xe[i.size]+c+.08)/a,(n=Ge("sqrtSize"+i.size,u,l,c,e)).style.minWidth="1.02em",r=1/a):(u=t+c+.08,s=t+c,l=Math.floor(1e3*t+c)+80,(n=Ge("sqrtTall",u,l,c,e)).style.minWidth="0.742em",r=1.056),n.height=s,n.style.height=u+"em",{span:n,advanceWidth:r,ruleWidth:(e.fontMetrics().sqrtRuleThickness+c)*a}},an=function(t,e,n,r,o){if("<"===t||"\\lt"===t||"⟨"===t?t="\\langle":">"!==t&&"\\gt"!==t&&"⟩"!==t||(t="\\rangle"),f.contains(Ke,t)||f.contains(Je,t))return Ue(t,e,!1,n,r,o);if(f.contains(Ye,t))return $e(t,Xe[e],!1,n,r,o);throw new a("Illegal delimiter: '"+t+"'")},cn=rn,un=function(t,e,n,r,o,i){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,c=5/r.fontMetrics().ptPerEm,u=Math.max(e-a,n+a),s=Math.max(u/500*901,2*u-c);return rn(t,s,!0,r,o,i)},sn={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},ln=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function fn(t,e){var n=Te(t);if(n&&f.contains(ln,n.text))return n;throw new a(n?"Invalid delimiter '"+n.text+"' after '"+e.funcName+"'":"Invalid delimiter type '"+t.type+"'",t)}function hn(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Gt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1},handler:function(t,e){var n=fn(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:sn[t.funcName].size,mclass:sn[t.funcName].mclass,delim:n.text}},htmlBuilder:function(t,e){return"."===t.delim?zt.makeSpan([t.mclass]):an(t.delim,t.size,e,t.mode,[t.mclass])},mathmlBuilder:function(t){var e=[];"."!==t.delim&&e.push(pe(t.delim,t.mode));var n=new he.MathNode("mo",e);return"mopen"===t.mclass||"mclose"===t.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n}}),Gt({type:"leftright-right",names:["\\right"],props:{numArgs:1},handler:function(t,e){var n=t.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:fn(e[0],t).text,color:n}}}),Gt({type:"leftright",names:["\\left"],props:{numArgs:1},handler:function(t,e){var n=fn(e[0],t),r=t.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var i=Ee(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:i.delim,rightColor:i.color}},htmlBuilder:function(t,e){hn(t);for(var n,r,o=ee(t.body,e,!0,["mopen","mclose"]),i=0,a=0,c=!1,u=0;u<o.length;u++)o[u].isMiddle?c=!0:(i=Math.max(o[u].height,i),a=Math.max(o[u].depth,a));if(i*=e.sizeMultiplier,a*=e.sizeMultiplier,n="."===t.left?ie(e,["mopen"]):un(t.left,i,a,e,t.mode,["mopen"]),o.unshift(n),c)for(var s=1;s<o.length;s++){var l=o[s].isMiddle;l&&(o[s]=un(l.delim,i,a,l.options,t.mode,[]))}if("."===t.right)r=ie(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;r=un(t.right,i,a,f,t.mode,["mclose"])}return o.push(r),zt.makeSpan(["minner"],o,e)},mathmlBuilder:function(t,e){hn(t);var n=me(t.body,e);if("."!==t.left){var r=new he.MathNode("mo",[pe(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==t.right){var o=new he.MathNode("mo",[pe(t.right,t.mode)]);o.setAttribute("fence","true"),t.rightColor&&o.setAttribute("mathcolor",t.rightColor),n.push(o)}return de(n)}}),Gt({type:"middle",names:["\\middle"],props:{numArgs:1},handler:function(t,e){var n=fn(e[0],t);if(!t.parser.leftrightDepth)throw new a("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:function(t,e){var n;if("."===t.delim)n=ie(e,[]);else{n=an(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:function(t,e){var n="\\vert"===t.delim||"|"===t.delim?pe("|","text"):pe(t.delim,t.mode),r=new he.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var pn=function(t,e){var n,r,o=zt.wrapFragment(ae(t.body,e),e),i=t.label.substr(1),a=e.sizeMultiplier,c=0,u=f.isCharacterBox(t.body);if("sout"===i)(n=zt.makeSpan(["stretchy","sout"])).height=e.fontMetrics().defaultRuleThickness/a,c=-.5*e.fontMetrics().xHeight;else{/cancel/.test(i)?u||o.classes.push("cancel-pad"):o.classes.push("boxpad");var s=0,l=0;/box/.test(i)?(l=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),s=e.fontMetrics().fboxsep+("colorbox"===i?0:l)):s=u?.2:0,n=Oe(o,i,s,e),/fbox|boxed|fcolorbox/.test(i)&&(n.style.borderStyle="solid",n.style.borderWidth=l+"em"),c=o.depth+s,t.backgroundColor&&(n.style.backgroundColor=t.backgroundColor,t.borderColor&&(n.style.borderColor=t.borderColor))}return r=t.backgroundColor?zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:c},{type:"elem",elem:o,shift:0}]},e):zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:c,wrapperClasses:/cancel/.test(i)?["svg-align"]:[]}]},e),/cancel/.test(i)&&(r.height=o.height,r.depth=o.depth),/cancel/.test(i)&&!u?zt.makeSpan(["mord","cancel-lap"],[r],e):zt.makeSpan(["mord"],[r],e)},dn=function(t,e){var n=0,r=new he.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[be(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===t.label){var o=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Gt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","text"]},handler:function(t,e,n){var r=t.parser,o=t.funcName,i=Ee(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:i,body:a}},htmlBuilder:pn,mathmlBuilder:dn}),Gt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,greediness:3,argTypes:["color","color","text"]},handler:function(t,e,n){var r=t.parser,o=t.funcName,i=Ee(e[0],"color-token").color,a=Ee(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:a,borderColor:i,body:c}},htmlBuilder:pn,mathmlBuilder:dn}),Gt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(t,e){return{type:"enclose",mode:t.parser.mode,label:"\\fbox",body:e[0]}}}),Gt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout"],props:{numArgs:1},handler:function(t,e,n){var r=t.parser,o=t.funcName,i=e[0];return{type:"enclose",mode:r.mode,label:o,body:i}},htmlBuilder:pn,mathmlBuilder:dn});var yn={};function mn(t){for(var e=t.type,n=t.names,r=t.props,o=t.handler,i=t.htmlBuilder,a=t.mathmlBuilder,c={type:e,numArgs:r.numArgs||0,greediness:1,allowedInText:!1,numOptionalArgs:0,handler:o},u=0;u<n.length;++u)yn[n[u]]=c;i&&(Wt[e]=i),a&&($t[e]=a)}function vn(t){var e=[];t.consumeSpaces();for(var n=t.fetch().text;"\\hline"===n||"\\hdashline"===n;)t.consume(),e.push("\\hdashline"===n),t.consumeSpaces(),n=t.fetch().text;return e}function bn(t,e,n){var r=e.hskipBeforeAndAfter,o=e.addJot,i=e.cols,c=e.arraystretch,u=e.colSeparationType;if(t.gullet.beginGroup(),t.gullet.macros.set("\\\\","\\cr"),!c){var s=t.gullet.expandMacroAsText("\\arraystretch");if(null==s)c=1;else if(!(c=parseFloat(s))||c<0)throw new a("Invalid \\arraystretch: "+s)}t.gullet.beginGroup();var l=[],f=[l],h=[],p=[];for(p.push(vn(t));;){var d=t.parseExpression(!1,"\\cr");t.gullet.endGroup(),t.gullet.beginGroup(),d={type:"ordgroup",mode:t.mode,body:d},n&&(d={type:"styling",mode:t.mode,style:n,body:[d]}),l.push(d);var y=t.fetch().text;if("&"===y)t.consume();else{if("\\end"===y){1===l.length&&"styling"===d.type&&0===d.body[0].body.length&&f.pop(),p.length<f.length+1&&p.push([]);break}if("\\cr"!==y)throw new a("Expected & or \\\\ or \\cr or \\end",t.nextToken);var m=Ee(t.parseFunction(),"cr");h.push(m.size),p.push(vn(t)),l=[],f.push(l)}}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:o,arraystretch:c,body:f,cols:i,rowGaps:h,hskipBeforeAndAfter:r,hLinesBeforeRow:p,colSeparationType:u}}function gn(t){return"d"===t.substr(0,1)?"display":"text"}var wn=function(t,e){var n,r,o=t.body.length,i=t.hLinesBeforeRow,c=0,u=new Array(o),s=[],l=Math.max(e.fontMetrics().arrayRuleWidth,e.minRuleThickness),h=1/e.fontMetrics().ptPerEm,p=5*h;t.colSeparationType&&"small"===t.colSeparationType&&(p=e.havingStyle(k.SCRIPT).sizeMultiplier/e.sizeMultiplier*.2778);var d=12*h,y=3*h,m=t.arraystretch*d,v=.7*m,b=.3*m,g=0;function w(t){for(var e=0;e<t.length;++e)e>0&&(g+=.25),s.push({pos:g,isDashed:t[e]})}for(w(i[0]),n=0;n<t.body.length;++n){var _=t.body[n],S=v,x=b;c<_.length&&(c=_.length);var O=new Array(_.length);for(r=0;r<_.length;++r){var A=ae(_[r],e);x<A.depth&&(x=A.depth),S<A.height&&(S=A.height),O[r]=A}var P=t.rowGaps[n],E=0;P&&(E=Pt(P,e))>0&&(x<(E+=b)&&(x=E),E=0),t.addJot&&(x+=y),O.height=S,O.depth=x,g+=S,O.pos=g,g+=x+E,u[n]=O,w(i[n+1])}var R,T,j=g/2+e.fontMetrics().axisHeight,C=t.cols||[],I=[];for(r=0,T=0;r<c||T<C.length;++r,++T){for(var M=C[T]||{},D=!0;"separator"===M.type;){if(D||((R=zt.makeSpan(["arraycolsep"],[])).style.width=e.fontMetrics().doubleRuleSep+"em",I.push(R)),"|"!==M.separator&&":"!==M.separator)throw new a("Invalid separator type: "+M.separator);var N="|"===M.separator?"solid":"dashed",B=zt.makeSpan(["vertical-separator"],[],e);B.style.height=g+"em",B.style.borderRightWidth=l+"em",B.style.borderRightStyle=N,B.style.margin="0 -"+l/2+"em",B.style.verticalAlign=-(g-j)+"em",I.push(B),M=C[++T]||{},D=!1}if(!(r>=c)){var z=void 0;(r>0||t.hskipBeforeAndAfter)&&0!==(z=f.deflt(M.pregap,p))&&((R=zt.makeSpan(["arraycolsep"],[])).style.width=z+"em",I.push(R));var L=[];for(n=0;n<o;++n){var F=u[n],V=F[r];if(V){var q=F.pos-j;V.depth=F.depth,V.height=F.height,L.push({type:"elem",elem:V,shift:q})}}L=zt.makeVList({positionType:"individualShift",children:L},e),L=zt.makeSpan(["col-align-"+(M.align||"c")],[L]),I.push(L),(r<c-1||t.hskipBeforeAndAfter)&&0!==(z=f.deflt(M.postgap,p))&&((R=zt.makeSpan(["arraycolsep"],[])).style.width=z+"em",I.push(R))}}if(u=zt.makeSpan(["mtable"],I),s.length>0){for(var U=zt.makeLineSpan("hline",e,l),H=zt.makeLineSpan("hdashline",e,l),W=[{type:"elem",elem:u,shift:0}];s.length>0;){var $=s.pop(),G=$.pos-j;$.isDashed?W.push({type:"elem",elem:H,shift:G}):W.push({type:"elem",elem:U,shift:G})}u=zt.makeVList({positionType:"individualShift",children:W},e)}return zt.makeSpan(["mord"],[u],e)},kn={c:"center ",l:"left ",r:"right "},_n=function(t,e){var n=new he.MathNode("mtable",t.body.map(function(t){return new he.MathNode("mtr",t.map(function(t){return new he.MathNode("mtd",[be(t,e)])}))})),r=.5===t.arraystretch?.1:.16+t.arraystretch-1+(t.addJot?.09:0);n.setAttribute("rowspacing",r+"em");var o="",i="";if(t.cols&&t.cols.length>0){var a=t.cols,c="",u=!1,s=0,l=a.length;"separator"===a[0].type&&(o+="top ",s=1),"separator"===a[a.length-1].type&&(o+="bottom ",l-=1);for(var f=s;f<l;f++)"align"===a[f].type?(i+=kn[a[f].align],u&&(c+="none "),u=!0):"separator"===a[f].type&&u&&(c+="|"===a[f].separator?"solid ":"dashed ",u=!1);n.setAttribute("columnalign",i.trim()),/[sd]/.test(c)&&n.setAttribute("columnlines",c.trim())}if("align"===t.colSeparationType){for(var h=t.cols||[],p="",d=1;d<h.length;d++)p+=d%2?"0em ":"1em ";n.setAttribute("columnspacing",p.trim())}else"alignat"===t.colSeparationType?n.setAttribute("columnspacing","0em"):"small"===t.colSeparationType?n.setAttribute("columnspacing","0.2778em"):n.setAttribute("columnspacing","1em");var y="",m=t.hLinesBeforeRow;o+=m[0].length>0?"left ":"",o+=m[m.length-1].length>0?"right ":"";for(var v=1;v<m.length-1;v++)y+=0===m[v].length?"none ":m[v][0]?"dashed ":"solid ";return/[sd]/.test(y)&&n.setAttribute("rowlines",y.trim()),""!==o&&(n=new he.MathNode("menclose",[n])).setAttribute("notation",o.trim()),t.arraystretch&&t.arraystretch<1&&(n=new he.MathNode("mstyle",[n])).setAttribute("scriptlevel","1"),n},Sn=function(t,e){var n,r=[],o=bn(t.parser,{cols:r,addJot:!0},"display"),i=0,c={type:"ordgroup",mode:t.mode,body:[]};if(e[0]&&"ordgroup"===e[0].type){for(var u="",s=0;s<e[0].body.length;s++)u+=Ee(e[0].body[s],"textord").text;n=Number(u),i=2*n}var l=!i;o.body.forEach(function(t){for(var e=1;e<t.length;e+=2){var r=Ee(t[e],"styling");Ee(r.body[0],"ordgroup").body.unshift(c)}if(l)i<t.length&&(i=t.length);else{var o=t.length/2;if(n<o)throw new a("Too many math in a row: expected "+n+", but got "+o,t[0])}});for(var f=0;f<i;++f){var h="r",p=0;f%2==1?h="l":f>0&&l&&(p=1),r[f]={type:"align",align:h,pregap:p,postgap:0}}return o.colSeparationType=l?"align":"alignat",o};mn({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(t,e){var n={cols:(Te(e[0])?[e[0]]:Ee(e[0],"ordgroup").body).map(function(t){var e=Re(t).text;if(-1!=="lcr".indexOf(e))return{type:"align",align:e};if("|"===e)return{type:"separator",separator:"|"};if(":"===e)return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+e,t)}),hskipBeforeAndAfter:!0};return bn(t.parser,n,gn(t.envName))},htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix"],props:{numArgs:0},handler:function(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName],n=bn(t.parser,{hskipBeforeAndAfter:!1},gn(t.envName));return e?{type:"leftright",mode:t.mode,body:[n],left:e[0],right:e[1],rightColor:void 0}:n},htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(t){var e=bn(t.parser,{arraystretch:.5},"script");return e.colSeparationType="small",e},htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["subarray"],props:{numArgs:1},handler:function(t,e){var n=(Te(e[0])?[e[0]]:Ee(e[0],"ordgroup").body).map(function(t){var e=Re(t).text;if(-1!=="lc".indexOf(e))return{type:"align",align:e};throw new a("Unknown column alignment: "+e,t)});if(n.length>1)throw new a("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=bn(t.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new a("{subarray} can contain only one column");return r},htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(t){var e=bn(t.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},gn(t.envName));return{type:"leftright",mode:t.mode,body:[e],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["aligned"],props:{numArgs:0},handler:Sn,htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["gathered"],props:{numArgs:0},handler:function(t){return bn(t.parser,{cols:[{type:"align",align:"c"}],addJot:!0},"display")},htmlBuilder:wn,mathmlBuilder:_n}),mn({type:"array",names:["alignedat"],props:{numArgs:1},handler:Sn,htmlBuilder:wn,mathmlBuilder:_n}),Gt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(t,e){throw new a(t.funcName+" valid only within array environment")}});var xn=yn;Gt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0];if("ordgroup"!==o.type)throw new a("Invalid environment name",o);for(var i="",c=0;c<o.body.length;++c)i+=Ee(o.body[c],"textord").text;if("\\begin"===r){if(!xn.hasOwnProperty(i))throw new a("No such environment: "+i,o);var u=xn[i],s=n.parseArguments("\\begin{"+i+"}",u),l=s.args,f=s.optArgs,h={mode:n.mode,envName:i,parser:n},p=u.handler(h,l,f);n.expect("\\end",!1);var d=n.nextToken,y=Ee(n.parseFunction(),"environment");if(y.name!==i)throw new a("Mismatch: \\begin{"+i+"} matched by \\end{"+y.name+"}",d);return p}return{type:"environment",mode:n.mode,name:i,nameGroup:o}}});var On=zt.makeSpan;function An(t,e){var n=ee(t.body,e,!0);return On([t.mclass],n,e)}function Pn(t,e){var n,r=me(t.body,e);return"minner"===t.mclass?he.newDocumentFragment(r):("mord"===t.mclass?t.isCharacterBox?(n=r[0]).type="mi":n=new he.MathNode("mi",r):(t.isCharacterBox?(n=r[0]).type="mo":n=new he.MathNode("mo",r),"mbin"===t.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===t.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"!==t.mclass&&"mclose"!==t.mclass||(n.attributes.lspace="0em",n.attributes.rspace="0em")),n)}Gt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.substr(5),body:Yt(o),isCharacterBox:f.isCharacterBox(o)}},htmlBuilder:An,mathmlBuilder:Pn});var En=function(t){var e="ordgroup"===t.type&&t.body.length?t.body[0]:t;return"atom"!==e.type||"bin"!==e.family&&"rel"!==e.family?"mord":"m"+e.family};Gt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(t,e){return{type:"mclass",mode:t.parser.mode,mclass:En(e[0]),body:[e[1]],isCharacterBox:f.isCharacterBox(e[1])}}}),Gt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(t,e){var n,r=t.parser,o=t.funcName,i=e[1],a=e[0];n="\\stackrel"!==o?En(i):"mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==o,body:Yt(i)},u={type:"supsub",mode:a.mode,base:c,sup:"\\underset"===o?null:a,sub:"\\underset"===o?a:null};return{type:"mclass",mode:r.mode,mclass:n,body:[u],isCharacterBox:f.isCharacterBox(u)}},htmlBuilder:An,mathmlBuilder:Pn});var Rn=function(t,e){var n=t.font,r=e.withFont(n);return ae(t.body,r)},Tn=function(t,e){var n=t.font,r=e.withFont(n);return be(t.body,r)},jn={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Gt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,greediness:2},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0],i=r;return i in jn&&(i=jn[i]),{type:"font",mode:n.mode,font:i.slice(1),body:o}},htmlBuilder:Rn,mathmlBuilder:Tn}),Gt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1,greediness:2},handler:function(t,e){var n=t.parser,r=e[0],o=f.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:En(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}}),Gt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(t,e){var n=t.parser,r=t.funcName,o=t.breakOnTokenText,i=n.mode,a=n.parseExpression(!0,o);return{type:"font",mode:i,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:Rn,mathmlBuilder:Tn});var Cn=function(t,e){var n=e;return"display"===t?n=n.id>=k.SCRIPT.id?n.text():k.DISPLAY:"text"===t&&n.size===k.DISPLAY.size?n=k.TEXT:"script"===t?n=k.SCRIPT:"scriptscript"===t&&(n=k.SCRIPTSCRIPT),n},In=function(t,e){var n,r=Cn(t.size,e.style),o=r.fracNum(),i=r.fracDen();n=e.havingStyle(o);var a=ae(t.numer,n,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;a.height=a.height<c?c:a.height,a.depth=a.depth<u?u:a.depth}n=e.havingStyle(i);var s,l,f,h,p,d,y,m,v,b,g=ae(t.denom,n,e);if(t.hasBarLine?(t.barSize?(l=Pt(t.barSize,e),s=zt.makeLineSpan("frac-line",e,l)):s=zt.makeLineSpan("frac-line",e),l=s.height,f=s.height):(s=null,l=0,f=e.fontMetrics().defaultRuleThickness),r.size===k.DISPLAY.size||"display"===t.size?(h=e.fontMetrics().num1,p=l>0?3*f:7*f,d=e.fontMetrics().denom1):(l>0?(h=e.fontMetrics().num2,p=f):(h=e.fontMetrics().num3,p=3*f),d=e.fontMetrics().denom2),s){var w=e.fontMetrics().axisHeight;h-a.depth-(w+.5*l)<p&&(h+=p-(h-a.depth-(w+.5*l))),w-.5*l-(g.height-d)<p&&(d+=p-(w-.5*l-(g.height-d)));var _=-(w-.5*l);y=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:g,shift:d},{type:"elem",elem:s,shift:_},{type:"elem",elem:a,shift:-h}]},e)}else{var S=h-a.depth-(g.height-d);S<p&&(h+=.5*(p-S),d+=.5*(p-S)),y=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:g,shift:d},{type:"elem",elem:a,shift:-h}]},e)}return n=e.havingStyle(r),y.height*=n.sizeMultiplier/e.sizeMultiplier,y.depth*=n.sizeMultiplier/e.sizeMultiplier,m=r.size===k.DISPLAY.size?e.fontMetrics().delim1:e.fontMetrics().delim2,v=null==t.leftDelim?ie(e,["mopen"]):cn(t.leftDelim,m,!0,e.havingStyle(r),t.mode,["mopen"]),b=t.continued?zt.makeSpan([]):null==t.rightDelim?ie(e,["mclose"]):cn(t.rightDelim,m,!0,e.havingStyle(r),t.mode,["mclose"]),zt.makeSpan(["mord"].concat(n.sizingClasses(e)),[v,zt.makeSpan(["mfrac"],[y]),b],e)},Mn=function(t,e){var n=new he.MathNode("mfrac",[be(t.numer,e),be(t.denom,e)]);if(t.hasBarLine){if(t.barSize){var r=Pt(t.barSize,e);n.setAttribute("linethickness",r+"em")}}else n.setAttribute("linethickness","0px");var o=Cn(t.size,e.style);if(o.size!==e.style.size){n=new he.MathNode("mstyle",[n]);var i=o.size===k.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",i),n.setAttribute("scriptlevel","0")}if(null!=t.leftDelim||null!=t.rightDelim){var a=[];if(null!=t.leftDelim){var c=new he.MathNode("mo",[new he.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),a.push(c)}if(a.push(n),null!=t.rightDelim){var u=new he.MathNode("mo",[new he.TextNode(t.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),a.push(u)}return de(a)}return n};Gt({type:"genfrac",names:["\\cfrac","\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,greediness:2},handler:function(t,e){var n,r=t.parser,o=t.funcName,i=e[0],a=e[1],c=null,u=null,s="auto";switch(o){case"\\cfrac":case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,c="(",u=")";break;case"\\\\bracefrac":n=!1,c="\\{",u="\\}";break;case"\\\\brackfrac":n=!1,c="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(o){case"\\cfrac":case"\\dfrac":case"\\dbinom":s="display";break;case"\\tfrac":case"\\tbinom":s="text"}return{type:"genfrac",mode:r.mode,continued:"\\cfrac"===o,numer:i,denom:a,hasBarLine:n,leftDelim:c,rightDelim:u,size:s,barSize:null}},htmlBuilder:In,mathmlBuilder:Mn}),Gt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(t){var e,n=t.parser,r=t.funcName,o=t.token;switch(r){case"\\over":e="\\frac";break;case"\\choose":e="\\binom";break;case"\\atop":e="\\\\atopfrac";break;case"\\brace":e="\\\\bracefrac";break;case"\\brack":e="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:e,token:o}}});var Dn=["display","text","script","scriptscript"],Nn=function(t){var e=null;return t.length>0&&(e="."===(e=t)?null:e),e};Gt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,greediness:6,argTypes:["math","math","size","text","math","math"]},handler:function(t,e){var n,r=t.parser,o=e[4],i=e[5],a="atom"===e[0].type&&"open"===e[0].family?Nn(e[0].text):null,c="atom"===e[1].type&&"close"===e[1].family?Nn(e[1].text):null,u=Ee(e[2],"size"),s=null;n=!!u.isBlank||(s=u.value).number>0;var l="auto",f=e[3];if("ordgroup"===f.type){if(f.body.length>0){var h=Ee(f.body[0],"textord");l=Dn[Number(h.text)]}}else f=Ee(f,"textord"),l=Dn[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:o,denom:i,continued:!1,hasBarLine:n,barSize:s,leftDelim:a,rightDelim:c,size:l}},htmlBuilder:In,mathmlBuilder:Mn}),Gt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(t,e){var n=t.parser,r=(t.funcName,t.token);return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ee(e[0],"size").value,token:r}}}),Gt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(t,e){var n=t.parser,r=(t.funcName,e[0]),o=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t}(Ee(e[1],"infix").size),i=e[2],a=o.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:a,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:In,mathmlBuilder:Mn});var Bn=function(t,e){var n,r,o=e.style;"supsub"===t.type?(n=t.sup?ae(t.sup,e.havingStyle(o.sup()),e):ae(t.sub,e.havingStyle(o.sub()),e),r=Ee(t.base,"horizBrace")):r=Ee(t,"horizBrace");var i,a=ae(r.base,e.havingBaseStyle(k.DISPLAY)),c=Pe(r,e);if(r.isOver?(i=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:c}]},e)).children[0].children[0].children[1].classes.push("svg-align"):(i=zt.makeVList({positionType:"bottom",positionData:a.depth+.1+c.height,children:[{type:"elem",elem:c},{type:"kern",size:.1},{type:"elem",elem:a}]},e)).children[0].children[0].children[0].classes.push("svg-align"),n){var u=zt.makeSpan(["mord",r.isOver?"mover":"munder"],[i],e);i=r.isOver?zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},e):zt.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return zt.makeSpan(["mord",r.isOver?"mover":"munder"],[i],e)};Gt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(t,e){var n=t.parser,r=t.funcName;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:Bn,mathmlBuilder:function(t,e){var n=Ae(t.label);return new he.MathNode(t.isOver?"mover":"munder",[be(t.base,e),n])}}),Gt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(t,e){var n=t.parser,r=e[1],o=Ee(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Yt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:function(t,e){var n=ee(t.body,e,!1);return zt.makeAnchor(t.href,[],n,e)},mathmlBuilder:function(t,e){var n=ve(t.body,e);return n instanceof le||(n=new le("mrow",[n])),n.setAttribute("href",t.href),n}}),Gt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(t,e){var n=t.parser,r=Ee(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],i=0;i<r.length;i++){var a=r[i];"~"===a&&(a="\\textasciitilde"),o.push({type:"textord",mode:"text",text:a})}var c={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:Yt(c)}}}),Gt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(t,e){var n,r=t.parser,o=t.funcName,i=(t.token,Ee(e[0],"raw").string),c=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u={};switch(o){case"\\htmlClass":u.class=i,n={command:"\\htmlClass",class:i};break;case"\\htmlId":u.id=i,n={command:"\\htmlId",id:i};break;case"\\htmlStyle":u.style=i,n={command:"\\htmlStyle",style:i};break;case"\\htmlData":for(var s=i.split(","),l=0;l<s.length;l++){var f=s[l].split("=");if(2!==f.length)throw new a("Error parsing key-value for \\htmlData");u["data-"+f[0].trim()]=f[1].trim()}n={command:"\\htmlData",attributes:u};break;default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(n)?{type:"html",mode:r.mode,attributes:u,body:Yt(c)}:r.formatUnsupportedCmd(o)},htmlBuilder:function(t,e){var n=ee(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push.apply(r,t.attributes.class.trim().split(/\s+/));var o=zt.makeSpan(r,n,e);for(var i in t.attributes)"class"!==i&&t.attributes.hasOwnProperty(i)&&o.setAttribute(i,t.attributes[i]);return o},mathmlBuilder:function(t,e){return ve(t.body,e)}}),Gt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(t,e){return{type:"htmlmathml",mode:t.parser.mode,html:Yt(e[0]),mathml:Yt(e[1])}},htmlBuilder:function(t,e){var n=ee(t.html,e,!1);return zt.makeFragment(n)},mathmlBuilder:function(t,e){return ve(t.mathml,e)}});var zn=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var e=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!e)throw new a("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(e[1]+e[2]),unit:e[3]};if(!At(n))throw new a("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Gt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(t,e,n){var r=t.parser,o={number:0,unit:"em"},i={number:.9,unit:"em"},c={number:0,unit:"em"},u="";if(n[0])for(var s=Ee(n[0],"raw").string.split(","),l=0;l<s.length;l++){var f=s[l].split("=");if(2===f.length){var h=f[1].trim();switch(f[0].trim()){case"alt":u=h;break;case"width":o=zn(h);break;case"height":i=zn(h);break;case"totalheight":c=zn(h);break;default:throw new a("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var p=Ee(e[0],"url").url;return""===u&&(u=(u=(u=p).replace(/^.*[\\/]/,"")).substring(0,u.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:r.mode,alt:u,width:o,height:i,totalheight:c,src:p}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(t,e){var n=Pt(t.height,e),r=0;t.totalheight.number>0&&(r=Pt(t.totalheight,e)-n,r=Number(r.toFixed(2)));var o=0;t.width.number>0&&(o=Pt(t.width,e));var i={height:n+r+"em"};o>0&&(i.width=o+"em"),r>0&&(i.verticalAlign=-r+"em");var a=new I(t.src,t.alt,i);return a.height=n,a.depth=r,a},mathmlBuilder:function(t,e){var n=new he.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Pt(t.height,e),o=0;if(t.totalheight.number>0&&(o=(o=Pt(t.totalheight,e)-r).toFixed(2),n.setAttribute("valign","-"+o+"em")),n.setAttribute("height",r+o+"em"),t.width.number>0){var i=Pt(t.width,e);n.setAttribute("width",i+"em")}return n.setAttribute("src",t.src),n}}),Gt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],allowedInText:!0},handler:function(t,e){var n=t.parser,r=t.funcName,o=Ee(e[0],"size");if(n.settings.strict){var i="m"===r[1],a="mu"===o.value.unit;i?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+o.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder:function(t,e){return zt.makeGlue(t.dimension,e)},mathmlBuilder:function(t,e){var n=Pt(t.dimension,e);return new he.SpaceNode(n)}}),Gt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:function(t,e){var n;"clap"===t.alignment?(n=zt.makeSpan([],[ae(t.body,e)]),n=zt.makeSpan(["inner"],[n],e)):n=zt.makeSpan(["inner"],[ae(t.body,e)]);var r=zt.makeSpan(["fix"],[]),o=zt.makeSpan([t.alignment],[n,r],e),i=zt.makeSpan(["strut"]);return i.style.height=o.height+o.depth+"em",i.style.verticalAlign=-o.depth+"em",o.children.unshift(i),o=zt.makeSpan(["thinbox"],[o],e),zt.makeSpan(["mord","vbox"],[o],e)},mathmlBuilder:function(t,e){var n=new he.MathNode("mpadded",[be(t.body,e)]);if("rlap"!==t.alignment){var r="llap"===t.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),Gt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(t,e){var n=t.funcName,r=t.parser,o=r.mode;r.switchMode("math");var i="\\("===n?"\\)":"$",a=r.parseExpression(!1,i);return r.expect(i),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:a}}}),Gt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(t,e){throw new a("Mismatched "+t.funcName)}});var Ln=function(t,e){switch(e.style.size){case k.DISPLAY.size:return t.display;case k.TEXT.size:return t.text;case k.SCRIPT.size:return t.script;case k.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Gt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4},handler:function(t,e){return{type:"mathchoice",mode:t.parser.mode,display:Yt(e[0]),text:Yt(e[1]),script:Yt(e[2]),scriptscript:Yt(e[3])}},htmlBuilder:function(t,e){var n=Ln(t,e),r=ee(n,e,!1);return zt.makeFragment(r)},mathmlBuilder:function(t,e){var n=Ln(t,e);return ve(n,e)}});var Fn=function(t,e,n,r,o,i,a){var c,u,s;if(t=zt.makeSpan([],[t]),e){var l=ae(e,r.havingStyle(o.sup()),r);u={elem:l,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-l.depth)}}if(n){var f=ae(n,r.havingStyle(o.sub()),r);c={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}if(u&&c){var h=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+a;s=zt.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:-i+"em"},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:i+"em"},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){var p=t.height-a;s=zt.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:-i+"em"},{type:"kern",size:c.kern},{type:"elem",elem:t}]},r)}else{if(!u)return t;var d=t.depth+a;s=zt.makeVList({positionType:"bottom",positionData:d,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:i+"em"},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}return zt.makeSpan(["mop","op-limits"],[s],r)},Vn=["\\smallint"],qn=function(t,e){var n,r,o,i=!1;"supsub"===t.type?(n=t.sup,r=t.sub,o=Ee(t.base,"op"),i=!0):o=Ee(t,"op");var a,c=e.style,u=!1;if(c.size===k.DISPLAY.size&&o.symbol&&!f.contains(Vn,o.name)&&(u=!0),o.symbol){var s=u?"Size2-Regular":"Size1-Regular",l="";if("\\oiint"!==o.name&&"\\oiiint"!==o.name||(l=o.name.substr(1),o.name="oiint"===l?"\\iint":"\\iiint"),a=zt.makeSymbol(o.name,s,"math",e,["mop","op-symbol",u?"large-op":"small-op"]),l.length>0){var h=a.italic,p=zt.staticSvg(l+"Size"+(u?"2":"1"),e);a=zt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:p,shift:u?.08:0}]},e),o.name="\\"+l,a.classes.unshift("mop"),a.italic=h}}else if(o.body){var d=ee(o.body,e,!0);1===d.length&&d[0]instanceof D?(a=d[0]).classes[0]="mop":a=zt.makeSpan(["mop"],zt.tryCombineChars(d),e)}else{for(var y=[],m=1;m<o.name.length;m++)y.push(zt.mathsym(o.name[m],o.mode,e));a=zt.makeSpan(["mop"],y,e)}var v=0,b=0;return(a instanceof D||"\\oiint"===o.name||"\\oiiint"===o.name)&&!o.suppressBaseShift&&(v=(a.height-a.depth)/2-e.fontMetrics().axisHeight,b=a.italic),i?Fn(a,n,r,e,c,b,v):(v&&(a.style.position="relative",a.style.top=v+"em"),a)},Un=function(t,e){var n;if(t.symbol)n=new le("mo",[pe(t.name,t.mode)]),f.contains(Vn,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new le("mo",me(t.body,e));else{n=new le("mi",[new fe(t.name.slice(1))]);var r=new le("mo",[pe("⁡","text")]);n=t.parentIsSupSub?new le("mo",[n,r]):se([n,r])}return n},Hn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Gt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(t,e){var n=t.parser,r=t.funcName;return 1===r.length&&(r=Hn[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:qn,mathmlBuilder:Un}),Gt({type:"op",names:["\\mathop"],props:{numArgs:1},handler:function(t,e){var n=t.parser,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Yt(r)}},htmlBuilder:qn,mathmlBuilder:Un});var Wn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Gt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(t){var e=t.parser,n=t.funcName;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:qn,mathmlBuilder:Un}),Gt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(t){var e=t.parser,n=t.funcName;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:qn,mathmlBuilder:Un}),Gt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(t){var e=t.parser,n=t.funcName;return 1===n.length&&(n=Wn[n]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:qn,mathmlBuilder:Un});var $n=function(t,e){var n,r,o,i,a=!1;if("supsub"===t.type?(n=t.sup,r=t.sub,o=Ee(t.base,"operatorname"),a=!0):o=Ee(t,"operatorname"),o.body.length>0){for(var c=o.body.map(function(t){var e=t.text;return"string"==typeof e?{type:"textord",mode:t.mode,text:e}:t}),u=ee(c,e.withFont("mathrm"),!0),s=0;s<u.length;s++){var l=u[s];l instanceof D&&(l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}i=zt.makeSpan(["mop"],u,e)}else i=zt.makeSpan(["mop"],[],e);return a?Fn(i,n,r,e,e.style,0,0):i};function Gn(t,e,n){for(var r=ee(t,e,!1),o=e.sizeMultiplier/n.sizeMultiplier,i=0;i<r.length;i++){var a=r[i].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[i].classes,e.sizingClasses(n)):r[i].classes[a+1]==="reset-size"+e.size&&(r[i].classes[a+1]="reset-size"+n.size),r[i].height*=o,r[i].depth*=o}return zt.makeFragment(r)}Gt({type:"operatorname",names:["\\operatorname","\\operatorname*"],props:{numArgs:1},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0];return{type:"operatorname",mode:n.mode,body:Yt(o),alwaysHandleSupSub:"\\operatorname*"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:$n,mathmlBuilder:function(t,e){for(var n=me(t.body,e.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var i=n[o];if(i instanceof he.SpaceNode);else if(i instanceof he.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=i.children[0];1===i.children.length&&a instanceof he.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var c=n.map(function(t){return t.toText()}).join("");n=[new he.TextNode(c)]}var u=new he.MathNode("mi",n);u.setAttribute("mathvariant","normal");var s=new he.MathNode("mo",[pe("⁡","text")]);return t.parentIsSupSub?new he.MathNode("mo",[u,s]):he.newDocumentFragment([u,s])}}),Kt({type:"ordgroup",htmlBuilder:function(t,e){return t.semisimple?zt.makeFragment(ee(t.body,e,!1)):zt.makeSpan(["mord"],ee(t.body,e,!0),e)},mathmlBuilder:function(t,e){return ve(t.body,e,!0)}}),Gt({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(t,e){var n=t.parser,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder:function(t,e){var n=ae(t.body,e.havingCrampedStyle()),r=zt.makeLineSpan("overline-line",e),o=e.fontMetrics().defaultRuleThickness,i=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},e);return zt.makeSpan(["mord","overline"],[i],e)},mathmlBuilder:function(t,e){var n=new he.MathNode("mo",[new he.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new he.MathNode("mover",[be(t.body,e),n]);return r.setAttribute("accent","true"),r}}),Gt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){var n=t.parser,r=e[0];return{type:"phantom",mode:n.mode,body:Yt(r)}},htmlBuilder:function(t,e){var n=ee(t.body,e.withPhantom(),!1);return zt.makeFragment(n)},mathmlBuilder:function(t,e){var n=me(t.body,e);return new he.MathNode("mphantom",n)}}),Gt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){var n=t.parser,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:function(t,e){var n=zt.makeSpan([],[ae(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),zt.makeSpan(["mord"],[n],e)},mathmlBuilder:function(t,e){var n=me(Yt(t.body),e),r=new he.MathNode("mphantom",n),o=new he.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}}),Gt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){var n=t.parser,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:function(t,e){var n=zt.makeSpan(["inner"],[ae(t.body,e.withPhantom())]),r=zt.makeSpan(["fix"],[]);return zt.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:function(t,e){var n=me(Yt(t.body),e),r=new he.MathNode("mphantom",n),o=new he.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}}),Gt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(t,e){var n=t.parser,r=Ee(e[0],"size").value,o=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder:function(t,e){var n=ae(t.body,e),r=Pt(t.dy,e);return zt.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder:function(t,e){var n=new he.MathNode("mpadded",[be(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}}),Gt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(t,e,n){var r=t.parser,o=n[0],i=Ee(e[0],"size"),a=Ee(e[1],"size");return{type:"rule",mode:r.mode,shift:o&&Ee(o,"size").value,width:i.value,height:a.value}},htmlBuilder:function(t,e){var n=zt.makeSpan(["mord","rule"],[],e),r=Pt(t.width,e),o=Pt(t.height,e),i=t.shift?Pt(t.shift,e):0;return n.style.borderRightWidth=r+"em",n.style.borderTopWidth=o+"em",n.style.bottom=i+"em",n.width=r,n.height=o+i,n.depth=-i,n.maxFontSize=1.125*o*e.sizeMultiplier,n},mathmlBuilder:function(t,e){var n=Pt(t.width,e),r=Pt(t.height,e),o=t.shift?Pt(t.shift,e):0,i=e.color&&e.getColor()||"black",a=new he.MathNode("mspace");a.setAttribute("mathbackground",i),a.setAttribute("width",n+"em"),a.setAttribute("height",r+"em");var c=new he.MathNode("mpadded",[a]);return o>=0?c.setAttribute("height","+"+o+"em"):(c.setAttribute("height",o+"em"),c.setAttribute("depth","+"+-o+"em")),c.setAttribute("voffset",o+"em"),c}});var Kn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Gt({type:"sizing",names:Kn,props:{numArgs:0,allowedInText:!0},handler:function(t,e){var n=t.breakOnTokenText,r=t.funcName,o=t.parser,i=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:Kn.indexOf(r)+1,body:i}},htmlBuilder:function(t,e){var n=e.havingSize(t.size);return Gn(t.body,n,e)},mathmlBuilder:function(t,e){var n=e.havingSize(t.size),r=me(t.body,n),o=new he.MathNode("mstyle",r);return o.setAttribute("mathsize",n.sizeMultiplier+"em"),o}}),Gt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(t,e,n){var r=t.parser,o=!1,i=!1,a=n[0]&&Ee(n[0],"ordgroup");if(a)for(var c="",u=0;u<a.body.length;++u)if("t"===(c=a.body[u].text))o=!0;else{if("b"!==c){o=!1,i=!1;break}i=!0}else o=!0,i=!0;var s=e[0];return{type:"smash",mode:r.mode,body:s,smashHeight:o,smashDepth:i}},htmlBuilder:function(t,e){var n=zt.makeSpan([],[ae(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var i=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return zt.makeSpan(["mord"],[i],e)},mathmlBuilder:function(t,e){var n=new he.MathNode("mpadded",[be(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}}),Gt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(t,e,n){var r=t.parser,o=n[0],i=e[0];return{type:"sqrt",mode:r.mode,body:i,index:o}},htmlBuilder:function(t,e){var n=ae(t.body,e.havingCrampedStyle());0===n.height&&(n.height=e.fontMetrics().xHeight),n=zt.wrapFragment(n,e);var r=e.fontMetrics().defaultRuleThickness,o=r;e.style.id<k.TEXT.id&&(o=e.fontMetrics().xHeight);var i=r+o/4,a=n.height+n.depth+i+r,c=on(a,e),u=c.span,s=c.ruleWidth,l=c.advanceWidth,f=u.height-s;f>n.height+n.depth+i&&(i=(i+f-n.height-n.depth)/2);var h=u.height-n.height-i-s;n.style.paddingLeft=l+"em";var p=zt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:u},{type:"kern",size:s}]},e);if(t.index){var d=e.havingStyle(k.SCRIPTSCRIPT),y=ae(t.index,d,e),m=.6*(p.height-p.depth),v=zt.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:y}]},e),b=zt.makeSpan(["root"],[v]);return zt.makeSpan(["mord","sqrt"],[b,p],e)}return zt.makeSpan(["mord","sqrt"],[p],e)},mathmlBuilder:function(t,e){var n=t.body,r=t.index;return r?new he.MathNode("mroot",[be(n,e),be(r,e)]):new he.MathNode("msqrt",[be(n,e)])}});var Yn={display:k.DISPLAY,text:k.TEXT,script:k.SCRIPT,scriptscript:k.SCRIPTSCRIPT};Gt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0},handler:function(t,e){var n=t.breakOnTokenText,r=t.funcName,o=t.parser,i=o.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:a,body:i}},htmlBuilder:function(t,e){var n=Yn[t.style],r=e.havingStyle(n).withFont("");return Gn(t.body,r,e)},mathmlBuilder:function(t,e){var n=Yn[t.style],r=e.havingStyle(n),o=me(t.body,r),i=new he.MathNode("mstyle",o),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[t.style];return i.setAttribute("scriptlevel",a[0]),i.setAttribute("displaystyle",a[1]),i}}),Kt({type:"supsub",htmlBuilder:function(t,e){var n=function(t,e){var n=t.base;return n?"op"===n.type?n.limits&&(e.style.size===k.DISPLAY.size||n.alwaysHandleSupSub)?qn:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(e.style.size===k.DISPLAY.size||n.limits)?$n:null:"accent"===n.type?f.isCharacterBox(n.base)?je:null:"horizBrace"===n.type&&!t.sub===n.isOver?Bn:null:null}(t,e);if(n)return n(t,e);var r,o,i,a=t.base,c=t.sup,u=t.sub,s=ae(a,e),l=e.fontMetrics(),h=0,p=0,d=a&&f.isCharacterBox(a);if(c){var y=e.havingStyle(e.style.sup());r=ae(c,y,e),d||(h=s.height-y.fontMetrics().supDrop*y.sizeMultiplier/e.sizeMultiplier)}if(u){var m=e.havingStyle(e.style.sub());o=ae(u,m,e),d||(p=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/e.sizeMultiplier)}i=e.style===k.DISPLAY?l.sup1:e.style.cramped?l.sup3:l.sup2;var v,b=e.sizeMultiplier,g=.5/l.ptPerEm/b+"em",w=null;if(o){var _=t.base&&"op"===t.base.type&&t.base.name&&("\\oiint"===t.base.name||"\\oiiint"===t.base.name);(s instanceof D||_)&&(w=-s.italic+"em")}if(r&&o){h=Math.max(h,i,r.depth+.25*l.xHeight),p=Math.max(p,l.sub2);var S=4*l.defaultRuleThickness;if(h-r.depth-(o.height-p)<S){p=S-(h-r.depth)+o.height;var x=.8*l.xHeight-(h-r.depth);x>0&&(h+=x,p-=x)}var O=[{type:"elem",elem:o,shift:p,marginRight:g,marginLeft:w},{type:"elem",elem:r,shift:-h,marginRight:g}];v=zt.makeVList({positionType:"individualShift",children:O},e)}else if(o){p=Math.max(p,l.sub1,o.height-.8*l.xHeight);var A=[{type:"elem",elem:o,marginLeft:w,marginRight:g}];v=zt.makeVList({positionType:"shift",positionData:p,children:A},e)}else{if(!r)throw new Error("supsub must have either sup or sub.");h=Math.max(h,i,r.depth+.25*l.xHeight),v=zt.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:r,marginRight:g}]},e)}var P=oe(s,"right")||"mord";return zt.makeSpan([P],[s,zt.makeSpan(["msupsub"],[v])],e)},mathmlBuilder:function(t,e){var n,r=!1;t.base&&"horizBrace"===t.base.type&&!!t.sup===t.base.isOver&&(r=!0,n=t.base.isOver),!t.base||"op"!==t.base.type&&"operatorname"!==t.base.type||(t.base.parentIsSupSub=!0);var o,i=[be(t.base,e)];if(t.sub&&i.push(be(t.sub,e)),t.sup&&i.push(be(t.sup,e)),r)o=n?"mover":"munder";else if(t.sub)if(t.sup){var a=t.base;o=a&&"op"===a.type&&a.limits&&e.style===k.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(e.style===k.DISPLAY||a.limits)?"munderover":"msubsup"}else{var c=t.base;o=c&&"op"===c.type&&c.limits&&(e.style===k.DISPLAY||c.alwaysHandleSupSub)||c&&"operatorname"===c.type&&c.alwaysHandleSupSub&&(c.limits||e.style===k.DISPLAY)?"munder":"msub"}else{var u=t.base;o=u&&"op"===u.type&&u.limits&&(e.style===k.DISPLAY||u.alwaysHandleSupSub)||u&&"operatorname"===u.type&&u.alwaysHandleSupSub&&(u.limits||e.style===k.DISPLAY)?"mover":"msup"}return new he.MathNode(o,i)}}),Kt({type:"atom",htmlBuilder:function(t,e){return zt.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder:function(t,e){var n=new he.MathNode("mo",[pe(t.text,t.mode)]);if("bin"===t.family){var r=ye(t,e);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===t.family?n.setAttribute("separator","true"):"open"!==t.family&&"close"!==t.family||n.setAttribute("stretchy","false");return n}});var Jn={mi:"italic",mn:"normal",mtext:"normal"};Kt({type:"mathord",htmlBuilder:function(t,e){return zt.makeOrd(t,e,"mathord")},mathmlBuilder:function(t,e){var n=new he.MathNode("mi",[pe(t.text,t.mode,e)]),r=ye(t,e)||"italic";return r!==Jn[n.type]&&n.setAttribute("mathvariant",r),n}}),Kt({type:"textord",htmlBuilder:function(t,e){return zt.makeOrd(t,e,"textord")},mathmlBuilder:function(t,e){var n,r=pe(t.text,t.mode,e),o=ye(t,e)||"normal";return n="text"===t.mode?new he.MathNode("mtext",[r]):/[0-9]/.test(t.text)?new he.MathNode("mn",[r]):"\\prime"===t.text?new he.MathNode("mo",[r]):new he.MathNode("mi",[r]),o!==Jn[n.type]&&n.setAttribute("mathvariant",o),n}});var Xn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Zn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Kt({type:"spacing",htmlBuilder:function(t,e){if(Zn.hasOwnProperty(t.text)){var n=Zn[t.text].className||"";if("text"===t.mode){var r=zt.makeOrd(t,e,"textord");return r.classes.push(n),r}return zt.makeSpan(["mspace",n],[zt.mathsym(t.text,t.mode,e)],e)}if(Xn.hasOwnProperty(t.text))return zt.makeSpan(["mspace",Xn[t.text]],[],e);throw new a('Unknown type of space "'+t.text+'"')},mathmlBuilder:function(t,e){if(!Zn.hasOwnProperty(t.text)){if(Xn.hasOwnProperty(t.text))return new he.MathNode("mspace");throw new a('Unknown type of space "'+t.text+'"')}return new he.MathNode("mtext",[new he.TextNode(" ")])}});var Qn=function(){var t=new he.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Kt({type:"tag",mathmlBuilder:function(t,e){var n=new he.MathNode("mtable",[new he.MathNode("mtr",[Qn(),new he.MathNode("mtd",[ve(t.body,e)]),Qn(),new he.MathNode("mtd",[ve(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var tr={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},er={"\\textbf":"textbf","\\textmd":"textmd"},nr={"\\textit":"textit","\\textup":"textup"},rr=function(t,e){var n=t.font;return n?tr[n]?e.withTextFontFamily(tr[n]):er[n]?e.withTextFontWeight(er[n]):e.withTextFontShape(nr[n]):e};Gt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],greediness:2,allowedInText:!0},handler:function(t,e){var n=t.parser,r=t.funcName,o=e[0];return{type:"text",mode:n.mode,body:Yt(o),font:r}},htmlBuilder:function(t,e){var n=rr(t,e),r=ee(t.body,n,!0);return zt.makeSpan(["mord","text"],zt.tryCombineChars(r),n)},mathmlBuilder:function(t,e){var n=rr(t,e);return ve(t.body,n)}}),Gt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(t,e){return{type:"underline",mode:t.parser.mode,body:e[0]}},htmlBuilder:function(t,e){var n=ae(t.body,e),r=zt.makeLineSpan("underline-line",e),o=e.fontMetrics().defaultRuleThickness,i=zt.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},e);return zt.makeSpan(["mord","underline"],[i],e)},mathmlBuilder:function(t,e){var n=new he.MathNode("mo",[new he.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new he.MathNode("munder",[be(t.body,e),n]);return r.setAttribute("accentunder","true"),r}}),Gt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(t,e,n){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(t,e){for(var n=or(t),r=[],o=e.havingStyle(e.style.text()),i=0;i<n.length;i++){var a=n[i];"~"===a&&(a="\\textasciitilde"),r.push(zt.makeSymbol(a,"Typewriter-Regular",t.mode,o,["mord","texttt"]))}return zt.makeSpan(["mord","text"].concat(o.sizingClasses(e)),zt.tryCombineChars(r),o)},mathmlBuilder:function(t,e){var n=new he.TextNode(or(t)),r=new he.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var or=function(t){return t.body.replace(/ /g,t.star?"␣":" ")},ir=Ht,ar=new RegExp("^(\\\\[a-zA-Z@]+)[ \r\n\t]*$"),cr=new RegExp("[̀-ͯ]+$"),ur=function(){function t(t,e){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=e,this.tokenRegex=new RegExp("([ \r\n\t]+)|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\3|\\\\verb([^*a-zA-Z]).*?\\4|\\\\operatorname\\*|\\\\[a-zA-Z@]+[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14}}var e=t.prototype;return e.setCatcode=function(t,e){this.catcodes[t]=e},e.lex=function(){var t=this.input,e=this.tokenRegex.lastIndex;if(e===t.length)return new o("EOF",new r(this,e,e));var n=this.tokenRegex.exec(t);if(null===n||n.index!==e)throw new a("Unexpected character: '"+t[e]+"'",new o(t[e],new r(this,e,e+1)));var i=n[2]||" ";if(14===this.catcodes[i]){var c=t.indexOf("\n",this.tokenRegex.lastIndex);return-1===c?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=c+1,this.lex()}var u=i.match(ar);return u&&(i=u[1]),new o(i,new r(this,e,this.tokenRegex.lastIndex))},t}(),sr=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=e,this.builtins=t,this.undefStack=[]}var e=t.prototype;return e.beginGroup=function(){this.undefStack.push({})},e.endGroup=function(){if(0===this.undefStack.length)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var e in t)t.hasOwnProperty(e)&&(void 0===t[e]?delete this.current[e]:this.current[e]=t[e])},e.has=function(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)},e.get=function(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]},e.set=function(t,e,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=e)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}this.current[t]=e},t}(),lr={},fr=lr;function hr(t,e){lr[t]=e}hr("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}}),hr("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}}),hr("\\@firstoftwo",function(t){return{tokens:t.consumeArgs(2)[0],numArgs:0}}),hr("\\@secondoftwo",function(t){return{tokens:t.consumeArgs(2)[1],numArgs:0}}),hr("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return 1===e[0].length&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}}),hr("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),hr("\\TextOrMath",function(t){var e=t.consumeArgs(2);return"text"===t.mode?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};hr("\\char",function(t){var e,n=t.popToken(),r="";if("'"===n.text)e=8,n=t.popToken();else if('"'===n.text)e=16,n=t.popToken();else if("`"===n.text)if("\\"===(n=t.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new a("\\char` missing argument");r=n.text.charCodeAt(0)}else e=10;if(e){if(null==(r=pr[n.text])||r>=e)throw new a("Invalid base-"+e+" digit "+n.text);for(var o;null!=(o=pr[t.future().text])&&o<e;)r*=e,r+=o,t.popToken()}return"\\@char{"+r+"}"});var dr=function(t,e,n){var r=t.consumeArgs(1)[0];if(1!==r.length)throw new a("\\newcommand's first argument must be a macro name");var o=r[0].text,i=t.isDefined(o);if(i&&!e)throw new a("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!i&&!n)throw new a("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var c=0;if(1===(r=t.consumeArgs(1)[0]).length&&"["===r[0].text){for(var u="",s=t.expandNextToken();"]"!==s.text&&"EOF"!==s.text;)u+=s.text,s=t.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+u);c=parseInt(u),r=t.consumeArgs(1)[0]}return t.macros.set(o,{tokens:r,numArgs:c}),""};hr("\\newcommand",function(t){return dr(t,!1,!0)}),hr("\\renewcommand",function(t){return dr(t,!0,!1)}),hr("\\providecommand",function(t){return dr(t,!0,!0)}),hr("\\message",function(t){var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(function(t){return t.text}).join("")),""}),hr("\\errmessage",function(t){var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(function(t){return t.text}).join("")),""}),hr("\\show",function(t){var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),ir[n],K.math[n],K.text[n]),""}),hr("\\bgroup","{"),hr("\\egroup","}"),hr("\\lq","`"),hr("\\rq","'"),hr("\\aa","\\r a"),hr("\\AA","\\r A"),hr("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),hr("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),hr("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),hr("ℬ","\\mathscr{B}"),hr("ℰ","\\mathscr{E}"),hr("ℱ","\\mathscr{F}"),hr("ℋ","\\mathscr{H}"),hr("ℐ","\\mathscr{I}"),hr("ℒ","\\mathscr{L}"),hr("ℳ","\\mathscr{M}"),hr("ℛ","\\mathscr{R}"),hr("ℭ","\\mathfrak{C}"),hr("ℌ","\\mathfrak{H}"),hr("ℨ","\\mathfrak{Z}"),hr("\\Bbbk","\\Bbb{k}"),hr("·","\\cdotp"),hr("\\llap","\\mathllap{\\textrm{#1}}"),hr("\\rlap","\\mathrlap{\\textrm{#1}}"),hr("\\clap","\\mathclap{\\textrm{#1}}"),hr("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),hr("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),hr("\\ne","\\neq"),hr("≠","\\neq"),hr("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),hr("∉","\\notin"),hr("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),hr("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),hr("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),hr("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),hr("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),hr("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),hr("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),hr("⟂","\\perp"),hr("‼","\\mathclose{!\\mkern-0.8mu!}"),hr("∌","\\notni"),hr("⌜","\\ulcorner"),hr("⌝","\\urcorner"),hr("⌞","\\llcorner"),hr("⌟","\\lrcorner"),hr("©","\\copyright"),hr("®","\\textregistered"),hr("️","\\textregistered"),hr("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),hr("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),hr("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),hr("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),hr("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),hr("⋮","\\vdots"),hr("\\varGamma","\\mathit{\\Gamma}"),hr("\\varDelta","\\mathit{\\Delta}"),hr("\\varTheta","\\mathit{\\Theta}"),hr("\\varLambda","\\mathit{\\Lambda}"),hr("\\varXi","\\mathit{\\Xi}"),hr("\\varPi","\\mathit{\\Pi}"),hr("\\varSigma","\\mathit{\\Sigma}"),hr("\\varUpsilon","\\mathit{\\Upsilon}"),hr("\\varPhi","\\mathit{\\Phi}"),hr("\\varPsi","\\mathit{\\Psi}"),hr("\\varOmega","\\mathit{\\Omega}"),hr("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),hr("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),hr("\\boxed","\\fbox{$\\displaystyle{#1}$}"),hr("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),hr("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),hr("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var yr={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};hr("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in yr?e=yr[n]:("\\not"===n.substr(0,4)||n in K.math&&f.contains(["bin","rel"],K.math[n].group))&&(e="\\dotsb"),e});var mr={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};hr("\\dotso",function(t){return t.future().text in mr?"\\ldots\\,":"\\ldots"}),hr("\\dotsc",function(t){var e=t.future().text;return e in mr&&","!==e?"\\ldots\\,":"\\ldots"}),hr("\\cdots",function(t){return t.future().text in mr?"\\@cdots\\,":"\\@cdots"}),hr("\\dotsb","\\cdots"),hr("\\dotsm","\\cdots"),hr("\\dotsi","\\!\\cdots"),hr("\\dotsx","\\ldots\\,"),hr("\\DOTSI","\\relax"),hr("\\DOTSB","\\relax"),hr("\\DOTSX","\\relax"),hr("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),hr("\\,","\\tmspace+{3mu}{.1667em}"),hr("\\thinspace","\\,"),hr("\\>","\\mskip{4mu}"),hr("\\:","\\tmspace+{4mu}{.2222em}"),hr("\\medspace","\\:"),hr("\\;","\\tmspace+{5mu}{.2777em}"),hr("\\thickspace","\\;"),hr("\\!","\\tmspace-{3mu}{.1667em}"),hr("\\negthinspace","\\!"),hr("\\negmedspace","\\tmspace-{4mu}{.2222em}"),hr("\\negthickspace","\\tmspace-{5mu}{.277em}"),hr("\\enspace","\\kern.5em "),hr("\\enskip","\\hskip.5em\\relax"),hr("\\quad","\\hskip1em\\relax"),hr("\\qquad","\\hskip2em\\relax"),hr("\\tag","\\@ifstar\\tag@literal\\tag@paren"),hr("\\tag@paren","\\tag@literal{({#1})}"),hr("\\tag@literal",function(t){if(t.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),hr("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),hr("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),hr("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),hr("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),hr("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),hr("\\\\","\\newline"),hr("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var vr=F["Main-Regular"]["T".charCodeAt(0)][1]-.7*F["Main-Regular"]["A".charCodeAt(0)][1]+"em";hr("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+vr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),hr("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+vr+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),hr("\\hspace","\\@ifstar\\@hspacer\\@hspace"),hr("\\@hspace","\\hskip #1\\relax"),hr("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),hr("\\ordinarycolon",":"),hr("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),hr("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),hr("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),hr("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),hr("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),hr("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),hr("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),hr("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),hr("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),hr("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),hr("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),hr("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),hr("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),hr("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),hr("∷","\\dblcolon"),hr("∹","\\eqcolon"),hr("≔","\\coloneqq"),hr("≕","\\eqqcolon"),hr("⩴","\\Coloneqq"),hr("\\ratio","\\vcentcolon"),hr("\\coloncolon","\\dblcolon"),hr("\\colonequals","\\coloneqq"),hr("\\coloncolonequals","\\Coloneqq"),hr("\\equalscolon","\\eqqcolon"),hr("\\equalscoloncolon","\\Eqqcolon"),hr("\\colonminus","\\coloneq"),hr("\\coloncolonminus","\\Coloneq"),hr("\\minuscolon","\\eqcolon"),hr("\\minuscoloncolon","\\Eqcolon"),hr("\\coloncolonapprox","\\Colonapprox"),hr("\\coloncolonsim","\\Colonsim"),hr("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),hr("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),hr("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),hr("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),hr("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),hr("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),hr("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),hr("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),hr("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),hr("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),hr("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),hr("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),hr("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),hr("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),hr("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),hr("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),hr("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),hr("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),hr("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),hr("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),hr("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),hr("\\imath","\\html@mathml{\\@imath}{ı}"),hr("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),hr("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),hr("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),hr("⟦","\\llbracket"),hr("⟧","\\rrbracket"),hr("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),hr("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),hr("⦃","\\lBrace"),hr("⦄","\\rBrace"),hr("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),hr("⦵","\\minuso"),hr("\\darr","\\downarrow"),hr("\\dArr","\\Downarrow"),hr("\\Darr","\\Downarrow"),hr("\\lang","\\langle"),hr("\\rang","\\rangle"),hr("\\uarr","\\uparrow"),hr("\\uArr","\\Uparrow"),hr("\\Uarr","\\Uparrow"),hr("\\N","\\mathbb{N}"),hr("\\R","\\mathbb{R}"),hr("\\Z","\\mathbb{Z}"),hr("\\alef","\\aleph"),hr("\\alefsym","\\aleph"),hr("\\Alpha","\\mathrm{A}"),hr("\\Beta","\\mathrm{B}"),hr("\\bull","\\bullet"),hr("\\Chi","\\mathrm{X}"),hr("\\clubs","\\clubsuit"),hr("\\cnums","\\mathbb{C}"),hr("\\Complex","\\mathbb{C}"),hr("\\Dagger","\\ddagger"),hr("\\diamonds","\\diamondsuit"),hr("\\empty","\\emptyset"),hr("\\Epsilon","\\mathrm{E}"),hr("\\Eta","\\mathrm{H}"),hr("\\exist","\\exists"),hr("\\harr","\\leftrightarrow"),hr("\\hArr","\\Leftrightarrow"),hr("\\Harr","\\Leftrightarrow"),hr("\\hearts","\\heartsuit"),hr("\\image","\\Im"),hr("\\infin","\\infty"),hr("\\Iota","\\mathrm{I}"),hr("\\isin","\\in"),hr("\\Kappa","\\mathrm{K}"),hr("\\larr","\\leftarrow"),hr("\\lArr","\\Leftarrow"),hr("\\Larr","\\Leftarrow"),hr("\\lrarr","\\leftrightarrow"),hr("\\lrArr","\\Leftrightarrow"),hr("\\Lrarr","\\Leftrightarrow"),hr("\\Mu","\\mathrm{M}"),hr("\\natnums","\\mathbb{N}"),hr("\\Nu","\\mathrm{N}"),hr("\\Omicron","\\mathrm{O}"),hr("\\plusmn","\\pm"),hr("\\rarr","\\rightarrow"),hr("\\rArr","\\Rightarrow"),hr("\\Rarr","\\Rightarrow"),hr("\\real","\\Re"),hr("\\reals","\\mathbb{R}"),hr("\\Reals","\\mathbb{R}"),hr("\\Rho","\\mathrm{P}"),hr("\\sdot","\\cdot"),hr("\\sect","\\S"),hr("\\spades","\\spadesuit"),hr("\\sub","\\subset"),hr("\\sube","\\subseteq"),hr("\\supe","\\supseteq"),hr("\\Tau","\\mathrm{T}"),hr("\\thetasym","\\vartheta"),hr("\\weierp","\\wp"),hr("\\Zeta","\\mathrm{Z}"),hr("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),hr("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),hr("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),hr("\\bra","\\mathinner{\\langle{#1}|}"),hr("\\ket","\\mathinner{|{#1}\\rangle}"),hr("\\braket","\\mathinner{\\langle{#1}\\rangle}"),hr("\\Bra","\\left\\langle#1\\right|"),hr("\\Ket","\\left|#1\\right\\rangle"),hr("\\blue","\\textcolor{##6495ed}{#1}"),hr("\\orange","\\textcolor{##ffa500}{#1}"),hr("\\pink","\\textcolor{##ff00af}{#1}"),hr("\\red","\\textcolor{##df0030}{#1}"),hr("\\green","\\textcolor{##28ae7b}{#1}"),hr("\\gray","\\textcolor{gray}{#1}"),hr("\\purple","\\textcolor{##9d38bd}{#1}"),hr("\\blueA","\\textcolor{##ccfaff}{#1}"),hr("\\blueB","\\textcolor{##80f6ff}{#1}"),hr("\\blueC","\\textcolor{##63d9ea}{#1}"),hr("\\blueD","\\textcolor{##11accd}{#1}"),hr("\\blueE","\\textcolor{##0c7f99}{#1}"),hr("\\tealA","\\textcolor{##94fff5}{#1}"),hr("\\tealB","\\textcolor{##26edd5}{#1}"),hr("\\tealC","\\textcolor{##01d1c1}{#1}"),hr("\\tealD","\\textcolor{##01a995}{#1}"),hr("\\tealE","\\textcolor{##208170}{#1}"),hr("\\greenA","\\textcolor{##b6ffb0}{#1}"),hr("\\greenB","\\textcolor{##8af281}{#1}"),hr("\\greenC","\\textcolor{##74cf70}{#1}"),hr("\\greenD","\\textcolor{##1fab54}{#1}"),hr("\\greenE","\\textcolor{##0d923f}{#1}"),hr("\\goldA","\\textcolor{##ffd0a9}{#1}"),hr("\\goldB","\\textcolor{##ffbb71}{#1}"),hr("\\goldC","\\textcolor{##ff9c39}{#1}"),hr("\\goldD","\\textcolor{##e07d10}{#1}"),hr("\\goldE","\\textcolor{##a75a05}{#1}"),hr("\\redA","\\textcolor{##fca9a9}{#1}"),hr("\\redB","\\textcolor{##ff8482}{#1}"),hr("\\redC","\\textcolor{##f9685d}{#1}"),hr("\\redD","\\textcolor{##e84d39}{#1}"),hr("\\redE","\\textcolor{##bc2612}{#1}"),hr("\\maroonA","\\textcolor{##ffbde0}{#1}"),hr("\\maroonB","\\textcolor{##ff92c6}{#1}"),hr("\\maroonC","\\textcolor{##ed5fa6}{#1}"),hr("\\maroonD","\\textcolor{##ca337c}{#1}"),hr("\\maroonE","\\textcolor{##9e034e}{#1}"),hr("\\purpleA","\\textcolor{##ddd7ff}{#1}"),hr("\\purpleB","\\textcolor{##c6b9fc}{#1}"),hr("\\purpleC","\\textcolor{##aa87ff}{#1}"),hr("\\purpleD","\\textcolor{##7854ab}{#1}"),hr("\\purpleE","\\textcolor{##543b78}{#1}"),hr("\\mintA","\\textcolor{##f5f9e8}{#1}"),hr("\\mintB","\\textcolor{##edf2df}{#1}"),hr("\\mintC","\\textcolor{##e0e5cc}{#1}"),hr("\\grayA","\\textcolor{##f6f7f7}{#1}"),hr("\\grayB","\\textcolor{##f0f1f2}{#1}"),hr("\\grayC","\\textcolor{##e3e5e6}{#1}"),hr("\\grayD","\\textcolor{##d6d8da}{#1}"),hr("\\grayE","\\textcolor{##babec2}{#1}"),hr("\\grayF","\\textcolor{##888d93}{#1}"),hr("\\grayG","\\textcolor{##626569}{#1}"),hr("\\grayH","\\textcolor{##3b3e40}{#1}"),hr("\\grayI","\\textcolor{##21242c}{#1}"),hr("\\kaBlue","\\textcolor{##314453}{#1}"),hr("\\kaGreen","\\textcolor{##71B307}{#1}");var br={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},gr=function(){function t(t,e,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=e,this.expansionCount=0,this.feed(t),this.macros=new sr(fr,e.macros),this.mode=n,this.stack=[]}var e=t.prototype;return e.feed=function(t){this.lexer=new ur(t,this.settings)},e.switchMode=function(t){this.mode=t},e.beginGroup=function(){this.macros.beginGroup()},e.endGroup=function(){this.macros.endGroup()},e.future=function(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},e.popToken=function(){return this.future(),this.stack.pop()},e.pushToken=function(t){this.stack.push(t)},e.pushTokens=function(t){var e;(e=this.stack).push.apply(e,t)},e.consumeSpaces=function(){for(;" "===this.future().text;)this.stack.pop()},e.consumeArgs=function(t){for(var e=[],n=0;n<t;++n){this.consumeSpaces();var r=this.popToken();if("{"===r.text){for(var o=[],i=1;0!==i;){var c=this.popToken();if(o.push(c),"{"===c.text)++i;else if("}"===c.text)--i;else if("EOF"===c.text)throw new a("End of input in macro argument",r)}o.pop(),o.reverse(),e[n]=o}else{if("EOF"===r.text)throw new a("End of input expecting macro argument");e[n]=[r]}}return e},e.expandOnce=function(t){var e=this.popToken(),n=e.text,r=e.noexpand?null:this._getExpansion(n);if(null==r||t&&r.unexpandable){if(t&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new a("Undefined control sequence: "+n);return this.pushToken(e),e}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting");var o=r.tokens;if(r.numArgs)for(var i=this.consumeArgs(r.numArgs),c=(o=o.slice()).length-1;c>=0;--c){var u=o[c];if("#"===u.text){if(0===c)throw new a("Incomplete placeholder at end of macro body",u);if("#"===(u=o[--c]).text)o.splice(c+1,1);else{if(!/^[1-9]$/.test(u.text))throw new a("Not a valid argument number",u);var s;(s=o).splice.apply(s,[c,2].concat(i[+u.text-1]))}}}return this.pushTokens(o),o},e.expandAfterFuture=function(){return this.expandOnce(),this.future()},e.expandNextToken=function(){for(;;){var t=this.expandOnce();if(t instanceof o){if("\\relax"!==t.text&&!t.treatAsRelax)return this.stack.pop();this.stack.pop()}}throw new Error},e.expandMacro=function(t){return this.macros.has(t)?this.expandTokens([new o(t)]):void 0},e.expandTokens=function(t){var e=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;){var r=this.expandOnce(!0);r instanceof o&&(r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),e.push(this.stack.pop()))}return e},e.expandMacroAsText=function(t){var e=this.expandMacro(t);return e?e.map(function(t){return t.text}).join(""):e},e._getExpansion=function(t){var e=this.macros.get(t);if(null==e)return e;var n="function"==typeof e?e(this):e;if("string"==typeof n){var r=0;if(-1!==n.indexOf("#"))for(var o=n.replace(/##/g,"");-1!==o.indexOf("#"+(r+1));)++r;for(var i=new ur(n,this.settings),a=[],c=i.lex();"EOF"!==c.text;)a.push(c),c=i.lex();return a.reverse(),{tokens:a,numArgs:r}}return n},e.isDefined=function(t){return this.macros.has(t)||ir.hasOwnProperty(t)||K.math.hasOwnProperty(t)||K.text.hasOwnProperty(t)||br.hasOwnProperty(t)},e.isExpandable=function(t){var e=this.macros.get(t);return null!=e?"string"==typeof e||"function"==typeof e||!e.unexpandable:ir.hasOwnProperty(t)},t}(),wr={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"}},kr={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","č":"č","ĉ":"ĉ","ċ":"ċ","ď":"ď","ḋ":"ḋ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ĺ":"ĺ","ľ":"ľ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ď":"Ď","Ḋ":"Ḋ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ĺ":"Ĺ","Ľ":"Ľ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ť":"Ť","Ṫ":"Ṫ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"},_r=function(){function t(t,e){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new gr(t,e,this.mode),this.settings=e,this.leftrightDepth=0}var e=t.prototype;return e.expect=function(t,e){if(void 0===e&&(e=!0),this.fetch().text!==t)throw new a("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());e&&this.consume()},e.consume=function(){this.nextToken=null},e.fetch=function(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},e.switchMode=function(t){this.mode=t,this.gullet.switchMode(t)},e.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t},e.parseExpression=function(e,n){for(var r=[];;){"math"===this.mode&&this.consumeSpaces();var o=this.fetch();if(-1!==t.endOfExpression.indexOf(o.text))break;if(n&&o.text===n)break;if(e&&ir[o.text]&&ir[o.text].infix)break;var i=this.parseAtom(n);if(!i)break;"internal"!==i.type&&r.push(i)}return"text"===this.mode&&this.formLigatures(r),this.handleInfixNodes(r)},e.handleInfixNodes=function(t){for(var e,n=-1,r=0;r<t.length;r++)if("infix"===t[r].type){if(-1!==n)throw new a("only one infix operator per group",t[r].token);n=r,e=t[r].replaceWith}if(-1!==n&&e){var o,i,c=t.slice(0,n),u=t.slice(n+1);return o=1===c.length&&"ordgroup"===c[0].type?c[0]:{type:"ordgroup",mode:this.mode,body:c},i=1===u.length&&"ordgroup"===u[0].type?u[0]:{type:"ordgroup",mode:this.mode,body:u},["\\\\abovefrac"===e?this.callFunction(e,[o,t[n],i],[]):this.callFunction(e,[o,i],[])]}return t},e.handleSupSubscript=function(e){var n=this.fetch(),r=n.text;this.consume();var o=this.parseGroup(e,!1,t.SUPSUB_GREEDINESS,void 0,void 0,!0);if(!o)throw new a("Expected group after '"+r+"'",n);return o},e.formatUnsupportedCmd=function(t){for(var e=[],n=0;n<t.length;n++)e.push({type:"textord",mode:"text",text:t[n]});var r={type:"text",mode:this.mode,body:e};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]}},e.parseAtom=function(t){var e,n,r=this.parseGroup("atom",!1,null,t);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(r&&"op"===r.type){var i="\\limits"===o.text;r.limits=i,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type||!r.alwaysHandleSupSub)throw new a("Limit controls must follow a math operator",o);var c="\\limits"===o.text;r.limits=c}this.consume()}else if("^"===o.text){if(e)throw new a("Double superscript",o);e=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new a("Double subscript",o);n=this.handleSupSubscript("subscript")}else{if("'"!==o.text)break;if(e)throw new a("Double superscript",o);var u={type:"textord",mode:this.mode,text:"\\prime"},s=[u];for(this.consume();"'"===this.fetch().text;)s.push(u),this.consume();"^"===this.fetch().text&&s.push(this.handleSupSubscript("superscript")),e={type:"ordgroup",mode:this.mode,body:s}}}return e||n?{type:"supsub",mode:this.mode,base:r,sup:e,sub:n}:r},e.parseFunction=function(t,e,n){var r=this.fetch(),o=r.text,i=ir[o];if(!i)return null;if(this.consume(),null!=n&&i.greediness<=n)throw new a("Got function '"+o+"' with no arguments"+(e?" as "+e:""),r);if("text"===this.mode&&!i.allowedInText)throw new a("Can't use function '"+o+"' in text mode",r);if("math"===this.mode&&!1===i.allowedInMath)throw new a("Can't use function '"+o+"' in math mode",r);var c=this.parseArguments(o,i),u=c.args,s=c.optArgs;return this.callFunction(o,u,s,r,t)},e.callFunction=function(t,e,n,r,o){var i={funcName:t,parser:this,token:r,breakOnTokenText:o},c=ir[t];if(c&&c.handler)return c.handler(i,e,n);throw new a("No function handler for "+t)},e.parseArguments=function(t,e){var n=e.numArgs+e.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=e.greediness,o=[],i=[],c=0;c<n;c++){var u=e.argTypes&&e.argTypes[c],s=c<e.numOptionalArgs,l=c>0&&!s||0===c&&!s&&"math"===this.mode,f=this.parseGroupOfType("argument to '"+t+"'",u,s,r,l);if(!f){if(s){i.push(null);continue}throw new a("Expected group after '"+t+"'",this.fetch())}(s?i:o).push(f)}return{args:o,optArgs:i}},e.parseGroupOfType=function(t,e,n,r,o){switch(e){case"color":return o&&this.consumeSpaces(),this.parseColorGroup(n);case"size":return o&&this.consumeSpaces(),this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n,o);case"math":case"text":return this.parseGroup(t,n,r,void 0,e,o);case"hbox":var i=this.parseGroup(t,n,r,void 0,"text",o);return i?{type:"styling",mode:i.mode,body:[i],style:"text"}:i;case"raw":if(o&&this.consumeSpaces(),n&&"{"===this.fetch().text)return null;var c=this.parseStringGroup("raw",n,!0);if(c)return{type:"raw",mode:"text",string:c.text};throw new a("Expected raw group",this.fetch());case"original":case null:case void 0:return this.parseGroup(t,n,r,void 0,void 0,o);default:throw new a("Unknown group type as "+t,this.fetch())}},e.consumeSpaces=function(){for(;" "===this.fetch().text;)this.consume()},e.parseStringGroup=function(t,e,n){var r=e?"[":"{",o=e?"]":"}",i=this.fetch();if(i.text!==r){if(e)return null;if(n&&"EOF"!==i.text&&/[^{}[\]]/.test(i.text))return this.consume(),i}var c=this.mode;this.mode="text",this.expect(r);for(var u,s="",l=this.fetch(),f=0,h=l;(u=this.fetch()).text!==o||n&&f>0;){switch(u.text){case"EOF":throw new a("Unexpected end of input in "+t,l.range(h,s));case r:f++;break;case o:f--}s+=(h=u).text,this.consume()}return this.expect(o),this.mode=c,l.range(h,s)},e.parseRegexGroup=function(t,e){var n=this.mode;this.mode="text";for(var r,o=this.fetch(),i=o,c="";"EOF"!==(r=this.fetch()).text&&t.test(c+r.text);)c+=(i=r).text,this.consume();if(""===c)throw new a("Invalid "+e+": '"+o.text+"'",o);return this.mode=n,o.range(i,c)},e.parseColorGroup=function(t){var e=this.parseStringGroup("color",t);if(!e)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(e.text);if(!n)throw new a("Invalid color: '"+e.text+"'",e);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}},e.parseSizeGroup=function(t){var e,n=!1;if(!(e=t||"{"===this.fetch().text?this.parseStringGroup("size",t):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;t||0!==e.text.length||(e.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e.text);if(!r)throw new a("Invalid size: '"+e.text+"'",e);var o={number:+(r[1]+r[2]),unit:r[3]};if(!At(o))throw new a("Invalid unit: '"+o.unit+"'",e);return{type:"size",mode:this.mode,value:o,isBlank:n}},e.parseUrlGroup=function(t,e){this.gullet.lexer.setCatcode("%",13);var n=this.parseStringGroup("url",t,!0);if(this.gullet.lexer.setCatcode("%",14),!n)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}},e.parseGroup=function(e,n,o,i,c,u){var s=this.mode;c&&this.switchMode(c),u&&this.consumeSpaces();var l,f=this.fetch(),h=f.text;if(n?"["===h:"{"===h||"\\begingroup"===h){this.consume();var p=t.endOfGroup[h];this.gullet.beginGroup();var d=this.parseExpression(!1,p),y=this.fetch();this.expect(p),this.gullet.endGroup(),l={type:"ordgroup",mode:this.mode,loc:r.range(f,y),body:d,semisimple:"\\begingroup"===h||void 0}}else if(n)l=null;else if(null==(l=this.parseFunction(i,e,o)||this.parseSymbol())&&"\\"===h[0]&&!br.hasOwnProperty(h)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+h,f);l=this.formatUnsupportedCmd(h),this.consume()}return c&&this.switchMode(s),l},e.formLigatures=function(t){for(var e=t.length-1,n=0;n<e;++n){var o=t[n],i=o.text;"-"===i&&"-"===t[n+1].text&&(n+1<e&&"-"===t[n+2].text?(t.splice(n,3,{type:"textord",mode:"text",loc:r.range(o,t[n+2]),text:"---"}),e-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:r.range(o,t[n+1]),text:"--"}),e-=1)),"'"!==i&&"`"!==i||t[n+1].text!==i||(t.splice(n,2,{type:"textord",mode:"text",loc:r.range(o,t[n+1]),text:i+i}),e-=1)}},e.parseSymbol=function(){var t=this.fetch(),e=t.text;if(/^\\verb[^a-zA-Z]/.test(e)){this.consume();var n=e.slice(5),o="*"===n.charAt(0);if(o&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new a("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:o}}kr.hasOwnProperty(e[0])&&!K[this.mode][e[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+e[0]+'" used in math mode',t),e=kr[e[0]]+e.substr(1));var i,c=cr.exec(e);if(c&&("i"===(e=e.substring(0,c.index))?e="ı":"j"===e&&(e="ȷ")),K[this.mode][e]){this.settings.strict&&"math"===this.mode&&"ÇÐÞçþ".indexOf(e)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+e[0]+'" used in math mode',t);var u,s=K[this.mode][e].group,l=r.range(t);if(W.hasOwnProperty(s)){var f=s;u={type:"atom",mode:this.mode,family:f,loc:l,text:e}}else u={type:s,mode:this.mode,loc:l,text:e};i=u}else{if(!(e.charCodeAt(0)>=128))return null;this.settings.strict&&(x(e.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+e[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+e[0]+'" ('+e.charCodeAt(0)+")",t)),i={type:"textord",mode:"text",loc:r.range(t),text:e}}if(this.consume(),c)for(var h=0;h<c[0].length;h++){var p=c[0][h];if(!wr[p])throw new a("Unknown accent ' "+p+"'",t);var d=wr[p][this.mode];if(!d)throw new a("Accent "+p+" unsupported in "+this.mode+" mode",t);i={type:"accent",mode:this.mode,loc:r.range(t),label:d,isStretchy:!1,isShifty:!0,base:i}}return i},t}();_r.endOfExpression=["}","\\endgroup","\\end","\\right","&"],_r.endOfGroup={"[":"]","{":"}","\\begingroup":"\\endgroup"},_r.SUPSUB_GREEDINESS=1;var Sr=function(t,e){if(!("string"==typeof t||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new _r(t,e);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(n.gullet.macros.get("\\df@tag")){if(!e.displayMode)throw new a("\\tag works only in display equations");n.gullet.feed("\\df@tag"),r=[{type:"tag",mode:"text",body:r,tag:n.parse()}]}return r},xr=function(t,e,n){e.textContent="";var r=Ar(t,n).toNode();e.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),xr=function(){throw new a("KaTeX doesn't work in quirks mode.")});var Or=function(t,e,n){if(n.throwOnError||!(t instanceof a))throw t;var r=zt.makeSpan(["katex-error"],[new D(e)]);return r.setAttribute("title",t.toString()),r.setAttribute("style","color:"+n.errorColor),r},Ar=function(t,e){var n=new h(e);try{var r=Sr(t,n);return _e(r,t,n)}catch(e){return Or(e,t,n)}},Pr={version:"0.12.0",render:xr,renderToString:function(t,e){return Ar(t,e).toMarkup()},ParseError:a,__parse:function(t,e){var n=new h(e);return Sr(t,n)},__renderToDomTree:Ar,__renderToHTMLTree:function(t,e){var n=new h(e);try{return function(t,e,n){var r=ue(t,we(n)),o=zt.makeSpan(["katex"],[r]);return ke(o,n)}(Sr(t,n),0,n)}catch(e){return Or(e,t,n)}},__setFontMetrics:function(t,e){F[t]=e},__defineSymbol:Y,__defineMacro:hr,__domTree:{Span:j,Anchor:C,SymbolNode:D,SvgNode:N,PathNode:B,LineNode:z}};e.default=Pr}]).default},"object"===a(e)&&"object"===a(t)?t.exports=i():(r=[],void 0===(o="function"==typeof(n=i)?n.apply(e,r):n)||(t.exports=o))}).call(this,n(118)(t))},function(t,e,n){var r=n(7),o=n(2),i=n(91);t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(3),o=n(93),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(14),o=n(96),i=n(17),a=n(12);t.exports=function(t,e){for(var n=o(e),c=a.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||c(t,l,u(e,l))}}},function(t,e,n){var r=n(3);t.exports=r},function(t,e,n){var r=n(14),o=n(22),i=n(60).indexOf,a=n(59);t.exports=function(t,e){var n,c=o(t),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;e.length>u;)r(c,n=e[u++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(99);t.exports=o&&!Symbol.sham&&"symbol"==r(Symbol.iterator)},function(t,e,n){var r=n(30);t.exports=r("document","documentElement")},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(22),i=n(47).f,a={}.toString,c="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return c&&"[object Window]"==a.call(t)?function(t){try{return i(t)}catch(t){return c.slice()}}(t):i(o(t))}},function(t,e,n){var r=n(9);e.f=r},function(t,e,n){"use strict";var r=n(13),o=n(41),i=n(11),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),c=i(n.length),u=o(t,c),s=o(e,c),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?c:o(l,c))-s,c-u),h=1;for(s<u&&u<s+f&&(h=-1,s+=f-1,u+=f-1);f-- >0;)s in n?n[u]=n[s]:delete n[u],u+=h,s+=h;return n}},function(t,e,n){"use strict";var r=n(48),o=n(11),i=n(42);t.exports=function t(e,n,a,c,u,s,l,f){for(var h,p=u,d=0,y=!!l&&i(l,f,3);d<c;){if(d in a){if(h=y?y(a[d],d,n):a[d],s>0&&r(h))p=t(e,n,h,o(h.length),p,s-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}d++}return p}},function(t,e,n){"use strict";var r=n(16).forEach,o=n(35),i=n(21),a=o("forEach"),c=i("forEach");t.exports=a&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){"use strict";var r=n(42),o=n(13),i=n(194),a=n(102),c=n(11),u=n(49),s=n(67);t.exports=function(t){var e,n,l,f,h,p,d=o(t),y="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,b=void 0!==v,g=s(d),w=0;if(b&&(v=r(v,m>2?arguments[2]:void 0,2)),null==g||y==Array&&a(g))for(n=new y(e=c(d.length));e>w;w++)p=b?v(d[w],w):d[w],u(n,w,p);else for(h=(f=g.call(d)).next,n=new y;!(l=h.call(f)).done;w++)p=b?i(f,v,[l.value,w],!0):l.value,u(n,w,p);return n.length=w,n}},function(t,e,n){var r=n(6);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e,n){"use strict";var r=n(137).IteratorPrototype,o=n(34),i=n(39),a=n(33),c=n(66),u=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),c[s]=u,t}},function(t,e,n){"use strict";var r,o,i,a=n(31),c=n(20),u=n(14),s=n(9),l=n(32),f=s("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):h=!0),null==r&&(r={}),l||u(r,f)||c(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(22),o=n(27),i=n(11),a=n(35),c=n(21),u=Math.min,s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),h=c("indexOf",{ACCESSORS:!0,1:0}),p=l||!f||!h;t.exports=p?function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=u(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:s},function(t,e,n){var r=n(27),o=n(11);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(28),o=n(5),i=[].slice,a={},c=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?c(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";var r=n(12).f,o=n(34),i=n(55),a=n(42),c=n(44),u=n(70),s=n(104),l=n(54),f=n(7),h=n(51).fastKey,p=n(23),d=p.set,y=p.getterFor;t.exports={getConstructor:function(t,e,n,s){var l=t(function(t,r){c(t,l,e),d(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&u(r,t[s],{that:t,AS_ENTRIES:n})}),p=y(e),m=function(t,e,n){var r,o,i=p(t),a=v(t,e);return a?a.value=n:(i.last=a={index:o=h(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},v=function(t,e){var n,r=p(t),o=h(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(l.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=p(this),n=v(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),i(l.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",o=y(e),i=y(r);s(t,e,function(t,e){d(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(e)}}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var r=n(5),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){var r=n(3),o=n(56).trim,i=n(81),a=r.parseFloat,c=1/a(i+"-0")!=-1/0;t.exports=c?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var r=n(3),o=n(56).trim,i=n(81),a=r.parseInt,c=/^[+-]?0[Xx]/,u=8!==a(i+"08")||22!==a(i+"0x16");t.exports=u?function(t,e){var n=o(String(t));return a(n,e>>>0||(c.test(n)?16:10))}:a},function(t,e,n){var r=n(40);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){"use strict";var r=n(7),o=n(2),i=n(62),a=n(98),c=n(71),u=n(13),s=n(57),l=Object.assign,f=Object.defineProperty;t.exports=!l||o(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=i(l({},e)).join("")})?function(t,e){for(var n=u(t),o=arguments.length,l=1,f=a.f,h=c.f;o>l;)for(var p,d=s(arguments[l++]),y=f?i(d).concat(f(d)):i(d),m=y.length,v=0;m>v;)p=y[v++],r&&!h.call(d,p)||(n[p]=d[p]);return n}:l},function(t,e,n){var r=n(7),o=n(62),i=n(22),a=n(71).f,c=function(t){return function(e){for(var n,c=i(e),u=o(c),s=u.length,l=0,f=[];s>l;)n=u[l++],r&&!a.call(c,n)||f.push(t?[n,c[n]]:c[n]);return f}};t.exports={entries:c(!0),values:c(!1)}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(3);t.exports=r.Promise},function(t,e,n){var r=n(73);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r,o,i,a,c,u,s,l,f=n(3),h=n(17).f,p=n(110).set,d=n(152),y=n(53),m=f.MutationObserver||f.WebKitMutationObserver,v=f.document,b=f.process,g=f.Promise,w=h(f,"queueMicrotask"),k=w&&w.value;k||(r=function(){var t,e;for(y&&(t=b.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},!d&&!y&&m&&v?(c=!0,u=v.createTextNode(""),new m(r).observe(u,{characterData:!0}),a=function(){u.data=c=!c}):g&&g.resolve?(s=g.resolve(void 0),l=s.then,a=function(){l.call(s,r)}):a=y?function(){b.nextTick(r)}:function(){p.call(f,r)}),t.exports=k||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(6),o=n(5),i=n(155);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(28),o=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(1),o=n(84);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){"use strict";var r=n(85).charAt,o=n(23),i=n(104),a=o.set,c=o.getterFor("String Iterator");i(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=c(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){var r=n(73);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){var r=n(340);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(13),o=n(11),i=n(67),a=n(102),c=n(42),u=n(10).aTypedArrayConstructor;t.exports=function(t){var e,n,s,l,f,h,p=r(t),d=arguments.length,y=d>1?arguments[1]:void 0,m=void 0!==y,v=i(p);if(null!=v&&!a(v))for(h=(f=v.call(p)).next,p=[];!(l=h.call(f)).done;)p.push(l.value);for(m&&d>2&&(y=c(y,arguments[2],2)),n=o(p.length),s=new(u(this))(n),e=0;n>e;e++)s[e]=m?y(p[e],e):p[e];return s}},function(t,e,n){"use strict";var r=n(55),o=n(51).getWeakData,i=n(6),a=n(5),c=n(44),u=n(70),s=n(16),l=n(14),f=n(23),h=f.set,p=f.getterFor,d=s.find,y=s.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new b)},b=function(){this.entries=[]},g=function(t,e){return d(t.entries,function(t){return t[0]===e})};b.prototype={get:function(t){var e=g(this,t);if(e)return e[1]},has:function(t){return!!g(this,t)},set:function(t,e){var n=g(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=y(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,s){var f=t(function(t,r){c(t,f,e),h(t,{type:e,id:m++,frozen:void 0}),null!=r&&u(r,t[s],{that:t,AS_ENTRIES:n})}),d=p(e),y=function(t,e,n){var r=d(t),a=o(i(e),!0);return!0===a?v(r).set(e,n):a[r.id]=n,t};return r(f.prototype,{delete:function(t){var e=d(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).delete(t):n&&l(n,e.id)&&delete n[e.id]},has:function(t){var e=d(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).has(t):n&&l(n,e.id)}}),r(f.prototype,n?{get:function(t){var e=d(this);if(a(t)){var n=o(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return y(this,t,e)}}:{add:function(t){return y(this,t,!0)}}),f}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(2),o=n(9),i=n(32),a=o("iterator");t.exports=!r(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach(function(t,r){e.delete("b"),n+=r+t}),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},function(t,e,n){"use strict";n(75);var r=n(1),o=n(30),i=n(163),a=n(18),c=n(55),u=n(33),s=n(136),l=n(23),f=n(44),h=n(14),p=n(42),d=n(68),y=n(6),m=n(5),v=n(34),b=n(39),g=n(383),w=n(67),k=n(9),_=o("fetch"),S=o("Headers"),x=k("iterator"),O=l.set,A=l.getterFor("URLSearchParams"),P=l.getterFor("URLSearchParamsIterator"),E=/\+/g,R=Array(4),T=function(t){return R[t-1]||(R[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},j=function(t){try{return decodeURIComponent(t)}catch(e){return t}},C=function(t){var e=t.replace(E," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(T(n--),j);return e}},I=/[!'()~]|%20/g,M={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(t){return M[t]},N=function(t){return encodeURIComponent(t).replace(I,D)},B=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:C(r.shift()),value:C(r.join("="))}))},z=function(t){this.entries.length=0,B(this.entries,t)},L=function(t,e){if(t<e)throw TypeError("Not enough arguments")},F=s(function(t,e){O(this,{type:"URLSearchParamsIterator",iterator:g(A(t).entries),kind:e})},"Iterator",function(){var t=P(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),V=function(){f(this,V,"URLSearchParams");var t,e,n,r,o,i,a,c,u,s=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(O(l,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:z}),void 0!==s)if(m(s))if("function"==typeof(t=w(s)))for(n=(e=t.call(s)).next;!(r=n.call(e)).done;){if((a=(i=(o=g(y(r.value))).next).call(o)).done||(c=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:c.value+""})}else for(u in s)h(s,u)&&p.push({key:u,value:s[u]+""});else B(p,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},q=V.prototype;c(q,{append:function(t,e){L(arguments.length,2);var n=A(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){L(arguments.length,1);for(var e=A(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){L(arguments.length,1);for(var e=A(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){L(arguments.length,1);for(var e=A(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){L(arguments.length,1);for(var e=A(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){L(arguments.length,1);for(var n,r=A(this),o=r.entries,i=!1,a=t+"",c=e+"",u=0;u<o.length;u++)(n=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,n.value=c));i||o.push({key:a,value:c}),r.updateURL()},sort:function(){var t,e,n,r=A(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=A(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new F(this,"keys")},values:function(){return new F(this,"values")},entries:function(){return new F(this,"entries")}},{enumerable:!0}),a(q,x,q.entries),a(q,"toString",function(){for(var t,e=A(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(N(t.key)+"="+N(t.value));return n.join("&")},{enumerable:!0}),u(V,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:V}),i||"function"!=typeof _||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(m(e=arguments[1])&&(n=e.body,"URLSearchParams"===d(n)&&((r=e.headers?new S(e.headers):new S).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:b(0,String(n)),headers:b(0,r)}))),o.push(e)),_.apply(this,o)}}),t.exports={URLSearchParams:V,getState:A}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(467),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(46))},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t;e.a=r}).call(this,n(46))},function(t,e,n){(function(t,n,r){var o,i,a,c;function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}c=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="swal-button";e.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:r,CONFIRM_BUTTON:r+"--confirm",CANCEL_BUTTON:r+"--cancel",DANGER_BUTTON:r+"--danger",BUTTON_LOADING:r+"--loading",BUTTON_LOADER:r+"__loader"},e.default=e.CLASS_NAMES},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=function(t){var e="."+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var n=e.nextSibling;e.parentNode.insertBefore(t,n)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw"SweetAlert: "+(t=t.replace(/ +(?= )/g,"")).trim()},e.isPlainObject=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(25));var o=n(26);e.overlayMarkup=o.default,r(n(27)),r(n(28)),r(n(29));var i=n(0),a=i.default.MODAL_TITLE,c=i.default.MODAL_TEXT,u=i.default.ICON,s=i.default.FOOTER;e.iconMarkup='\n  <div class="'+u+'"></div>',e.titleMarkup='\n  <div class="'+a+'"></div>\n',e.textMarkup='\n  <div class="'+c+'"></div>',e.footerMarkup='\n  <div class="'+s+'"></div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.CONFIRM_KEY="confirm",e.CANCEL_KEY="cancel";var o={visible:!0,text:null,value:null,className:"",closeModal:!0},i=Object.assign({},o,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},o,{text:"OK",value:!0});e.defaultButtonList={cancel:i,confirm:a};var c=function(t){switch(t){case e.CONFIRM_KEY:return a;case e.CANCEL_KEY:return i;default:var n=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},o,{text:n,value:t})}},u=function(t,e){var n=c(t);return!0===e?Object.assign({},n,{visible:!0}):"string"==typeof e?Object.assign({},n,{visible:!0,text:e}):r.isPlainObject(e)?Object.assign({visible:!0},n,e):Object.assign({},n,{visible:!1})},s=function(t){var n={};switch(t.length){case 1:n[e.CANCEL_KEY]=Object.assign({},i,{visible:!1});break;case 2:n[e.CANCEL_KEY]=u(e.CANCEL_KEY,t[0]),n[e.CONFIRM_KEY]=u(e.CONFIRM_KEY,t[1]);break;default:r.throwErr("Invalid number of 'buttons' in array ("+t.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};e.getButtonListOpts=function(t){var n=e.defaultButtonList;return"string"==typeof t?n[e.CONFIRM_KEY]=u(e.CONFIRM_KEY,t):Array.isArray(t)?n=s(t):r.isPlainObject(t)?n=function(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n],a=t[o],c=u(o,a);e[o]=c}return e.cancel||(e.cancel=i),e}(t):!0===t?n=s([!0,!0]):!1===t?n=s([!1,!1]):void 0===t&&(n=e.defaultButtonList),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2),i=n(0),a=i.default.MODAL,c=i.default.OVERLAY,u=n(30),s=n(31),l=n(32),f=n(33);e.injectElIntoModal=function(t){var e=r.getNode(a),n=r.stringToNode(t);return e.appendChild(n),n};var h=function(t,e){!function(t){t.className=a,t.textContent=""}(t);var n=e.className;n&&t.classList.add(n)};e.initModalContent=function(t){var e=r.getNode(a);h(e,t),u.default(t.icon),s.initTitle(t.title),s.initText(t.text),f.default(t.content),l.default(t.buttons,t.dangerMode)},e.default=function(){var t=r.getNode(c),e=r.stringToNode(o.modalMarkup);t.appendChild(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o={isOpen:!1,promise:null,actions:{},timer:null},i=Object.assign({},o);e.resetState=function(){i=Object.assign({},o)},e.setActionValue=function(t){if("string"==typeof t)return a(r.CONFIRM_KEY,t);for(var e in t)a(e,t[e])};var a=function(t,e){i.actions[t]||(i.actions[t]={}),Object.assign(i.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var n=(void 0===e?{}:e).closeModal,r=void 0===n||n;Object.assign(i.actions[t],{closeModal:r})},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(3),i=n(0),a=i.default.OVERLAY,c=i.default.SHOW_MODAL,u=i.default.BUTTON,s=i.default.BUTTON_LOADING,l=n(5);e.openModal=function(){r.getNode(a).classList.add(c),l.default.isOpen=!0},e.onAction=function(t){void 0===t&&(t=o.CANCEL_KEY);var e=l.default.actions[t],n=e.value;if(!1===e.closeModal){var i=u+"--"+t;r.getNode(i).classList.add(s)}else r.getNode(a).classList.remove(c),l.default.isOpen=!1;l.default.promise.resolve(n)},e.getState=function(){var t=Object.assign({},l.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll("."+u),e=0;e<t.length;e++)t[e].classList.remove(s)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==("undefined"==typeof window?"undefined":u(window))&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.sweetAlert=n(9)}).call(e,n(7))},function(t,e,n){(function(e){t.exports=e.swal=n(10)}).call(e,n(7))},function(t,e,n){"undefined"!=typeof window&&n(11),n(16);var r=n(23).default;t.exports=r},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]);var o={insertAt:"top",transform:void 0};n(14)(r,o),r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(13)(void 0)).push([t.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=y[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(f(r.parts[i],e))}else{var a=[];for(i=0;i<r.parts.length;i++)a.push(f(r.parts[i],e));y[r.id]={id:r.id,refs:1,parts:a}}}}function o(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],c={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(c):n.push(r[a]={id:a,parts:[c]})}return n}function i(t,e){var n=v(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=w[w.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function c(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),i(t,e),e}function s(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),i(t,e),e}function l(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function f(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var u=g++;n=b||(b=c(e)),r=h.bind(null,n,u,!1),o=h.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=d.bind(null,n,e),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=c(e),r=p.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function h(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function p(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function d(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=k(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),c=t.href;t.href=URL.createObjectURL(a),c&&URL.revokeObjectURL(c)}var y={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),v=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),b=null,g=0,w=[],k=n(15);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=("undefined"==typeof document?"undefined":u(document)))throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==u(e.attrs)?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=o(t,e);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var c=n[a];(u=y[c.id]).refs--,i.push(u)}for(t&&r(o(t,e),e),a=0;a<i.length;a++){var u;if(0===(u=i[a]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete y[u.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){var r=n(17);"undefined"==typeof window||window.Promise||(window.Promise=r),n(21),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var o=0|e,i=Math.max(o>=0?o:r-Math.abs(o),0);i<r;){if(function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(n[i],t))return!0;i++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},function(t,e,n){(function(e){!function(n){function r(){}function o(t){if("object"!=u(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function i(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}a(e.promise,r)}else(1===t._state?a:c)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==u(e)||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void f(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,s(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,s(t)}function s(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)i(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,c(e,t))})}catch(t){if(n)return;n=!0,c(e,t)}}var h=setTimeout;o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return i(this,new l(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(i,a){try{if(a&&("object"==u(a)||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(t){r(i,t)},n)}e[i]=a,0==--o&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},o.resolve=function(t){return t&&"object"==u(t)&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){h(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(18).setImmediate)},function(e,r,o){function i(t,e){this._id=t,this._clearFn=e}var a=Function.prototype.apply;r.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},o(19),r.setImmediate=t,r.clearImmediate=n},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete c[t]}function o(t){if(u)setTimeout(o,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{r(t),u=!1}}}}if(!t.setImmediate){var i,a=1,c={},u=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){o(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&o(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){o(t.data)},i=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;i=function(e){var n=s.createElement("script");n.onreadystatechange=function(){o(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():i=function(t){setTimeout(o,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[a]=r,i(a),a++},l.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(7),n(20))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(s===setTimeout)return setTimeout(t,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function i(){d&&h&&(d=!1,h.length?p=h.concat(p):y=-1,p.length&&a())}function a(){if(!d){var t=o(i);d=!0;for(var e=p.length;e;){for(h=p,p=[];++y<e;)h&&h[y].run();y=-1,e=p.length}h=null,d=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var s,l,f=t.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(t){s=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var h,p=[],d=!1,y=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new c(t,e)),1!==p.length||d||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";n(22).polyfill()},function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,c=i.length;a<c;a++){var u=i[a],s=Object.getOwnPropertyDescriptor(o,u);void 0!==s&&s.enumerable&&(n[u]=o[u])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),o=n(6),i=n(5),a=n(36),c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof window){var n=a.getOpts.apply(void 0,t);return new Promise(function(t,e){i.default.promise={resolve:t,reject:e},r.default(n),setTimeout(function(){o.openModal()})})}};c.close=o.onAction,c.getState=o.getState,c.setActionValue=i.setActionValue,c.stopLoading=o.stopLoading,c.setDefaults=a.setDefaults,e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(0).default.MODAL,i=n(4),a=n(34),c=n(35),u=n(1);e.init=function(t){r.getNode(o)||(document.body||u.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),a.default(),i.default()),i.initModalContent(t),c.default(t)},e.default=e.init},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0).default.MODAL;e.modalMarkup='\n  <div class="'+r+'" role="dialog" aria-modal="true"></div>',e.default=e.modalMarkup},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r='<div \n    class="'+n(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0).default.ICON;e.errorIconMarkup=function(){var t=r+"--error",e=t+"__line";return'\n    <div class="'+t+'__x-mark">\n      <span class="'+e+" "+e+'--left"></span>\n      <span class="'+e+" "+e+'--right"></span>\n    </div>\n  '},e.warningIconMarkup=function(){var t=r+"--warning";return'\n    <span class="'+t+'__body">\n      <span class="'+t+'__dot"></span>\n    </span>\n  '},e.successIconMarkup=function(){var t=r+"--success";return'\n    <span class="'+t+"__line "+t+'__line--long"></span>\n    <span class="'+t+"__line "+t+'__line--tip"></span>\n\n    <div class="'+t+'__ring"></div>\n    <div class="'+t+'__hide-corners"></div>\n  '}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0).default.CONTENT;e.contentMarkup='\n  <div class="'+r+'">\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=r.default.BUTTON_CONTAINER,i=r.default.BUTTON,a=r.default.BUTTON_LOADER;e.buttonMarkup='\n  <div class="'+o+'">\n\n    <button\n      class="'+i+'"\n    ></button>\n\n    <div class="'+a+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),o=n(2),i=n(0),a=i.default.ICON,c=i.default.ICON_CUSTOM,u=["error","warning","success","info"],s={error:o.errorIconMarkup(),warning:o.warningIconMarkup(),success:o.successIconMarkup()};e.default=function(t){if(t){var e=r.injectElIntoModal(o.iconMarkup);u.includes(t)?function(t,e){var n=a+"--"+t;e.classList.add(n);var r=s[t];r&&(e.innerHTML=r)}(t,e):function(t,e){e.classList.add(c);var n=document.createElement("img");n.src=t,e.appendChild(n)}(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=n(4),i=function(t){navigator.userAgent.includes("AppleWebKit")&&(t.style.display="none",t.offsetHeight,t.style.display="")};e.initTitle=function(t){if(t){var e=o.injectElIntoModal(r.titleMarkup);e.textContent=t,i(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split("\n").forEach(function(t,n,r){e.appendChild(document.createTextNode(t)),n<r.length-1&&e.appendChild(document.createElement("br"))});var n=o.injectElIntoModal(r.textMarkup);n.appendChild(e),i(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(4),i=n(0),a=i.default.BUTTON,c=i.default.DANGER_BUTTON,u=n(3),s=n(2),l=n(6),f=n(5),h=function(t,e,n){var o=e.text,i=e.value,h=e.className,p=e.closeModal,d=r.stringToNode(s.buttonMarkup),y=d.querySelector("."+a),m=a+"--"+t;y.classList.add(m),h&&(Array.isArray(h)?h:h.split(" ")).filter(function(t){return t.length>0}).forEach(function(t){y.classList.add(t)}),n&&t===u.CONFIRM_KEY&&y.classList.add(c),y.textContent=o;var v={};return v[t]=i,f.setActionValue(v),f.setActionOptionsFor(t,{closeModal:p}),y.addEventListener("click",function(){return l.onAction(t)}),d};e.default=function(t,e){var n=o.injectElIntoModal(s.footerMarkup);for(var r in t){var i=t[r],a=h(r,i,e);i.visible&&n.appendChild(a)}0===n.children.length&&n.remove()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(4),i=n(2),a=n(5),c=n(6),u=n(0).default.CONTENT,s=function(t){t.addEventListener("input",function(t){var e=t.target.value;a.setActionValue(e)}),t.addEventListener("keyup",function(t){if("Enter"===t.key)return c.onAction(r.CONFIRM_KEY)}),setTimeout(function(){t.focus(),a.setActionValue("")},0)};e.default=function(t){if(t){var e=o.injectElIntoModal(i.contentMarkup),n=t.element,r=t.attributes;"string"==typeof n?function(t,e,n){var r=document.createElement(e),o=u+"__"+e;for(var i in r.classList.add(o),n){var a=n[i];r[i]=a}"input"===e&&s(r),t.appendChild(r)}(e,n,r):e.appendChild(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(2);e.default=function(){var t=r.stringToNode(o.overlayMarkup);document.body.appendChild(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),o=n(6),i=n(1),a=n(3),c=n(0),u=c.default.MODAL,s=c.default.BUTTON,l=c.default.OVERLAY,f=function(t){if(r.default.isOpen)switch(t.key){case"Escape":return o.onAction(a.CANCEL_KEY)}},h=function(t){if(r.default.isOpen)switch(t.key){case"Tab":return function(t){t.preventDefault(),d()}(t)}},p=function(t){if(r.default.isOpen)return"Tab"===t.key&&t.shiftKey?function(t){t.preventDefault(),y()}(t):void 0},d=function(){var t=i.getNode(s);t&&(t.tabIndex=0,t.focus())},y=function(){var t=i.getNode(u).querySelectorAll("."+s),e=t[t.length-1];e&&e.focus()},m=function(){var t=i.getNode(u).querySelectorAll("."+s);t.length&&(function(t){t[t.length-1].addEventListener("keydown",h)}(t),function(t){t[0].addEventListener("keydown",p)}(t))},v=function(t){if(i.getNode(l)===t.target)return o.onAction(a.CANCEL_KEY)};e.default=function(t){t.closeOnEsc?document.addEventListener("keyup",f):document.removeEventListener("keyup",f),t.dangerMode?d():y(),m(),function(t){var e=i.getNode(l);e.removeEventListener("click",v),t&&e.addEventListener("click",v)}(t.closeOnClickOutside),function(t){r.default.timer&&clearTimeout(r.default.timer),t&&(r.default.timer=window.setTimeout(function(){return o.onAction(a.CANCEL_KEY)},t))}(t.timer)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(3),i=n(37),a=n(38),c={title:null,text:null,icon:null,buttons:o.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},s=Object.assign({},c);e.setDefaults=function(t){s=Object.assign({},c,t)};var l=function(t){var e=t&&t.button,n=t&&t.buttons;return void 0!==e&&void 0!==n&&r.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==e?{confirm:e}:n},f=function(t){return r.ordinalSuffixOf(t+1)},h=function(t,e){r.throwErr(f(e)+" argument ('"+t+"') is invalid")},p=function(t,e){var n=t+1,o=e[n];r.isPlainObject(o)||void 0===o||r.throwErr("Expected "+f(n)+" argument ('"+o+"') to be a plain object")},d=function(t,e,n,o){var i=u(e),a=e instanceof Element;if("string"===i){if(0===n)return{text:e};if(1===n)return{text:e,title:o[0]};if(2===n)return p(n,o),{icon:e};h(e,n)}else{if(a&&0===n)return p(n,o),{content:e};if(r.isPlainObject(e))return function(t,e){var n=t+1,o=e[n];void 0!==o&&r.throwErr("Unexpected "+f(n)+" argument ("+o+")")}(n,o),e;h(e,n)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};t.forEach(function(e,r){var o=d(0,e,r,t);Object.assign(n,o)});var r=l(n);n.buttons=o.getButtonListOpts(r),delete n.button,n.content=i.getContentOpts(n.content);var u=Object.assign({},c,s,n);return Object.keys(u).forEach(function(t){a.DEPRECATED_OPTS[t]&&a.logDeprecation(t)}),u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o={element:"input",attributes:{placeholder:""}};e.getContentOpts=function(t){return r.isPlainObject(t)?Object.assign({},t):t instanceof Element?{element:t}:"input"===t?o:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecation=function(t){var n=e.DEPRECATED_OPTS[t],r=n.onlyRename,o=n.replacement,i=n.subOption,a=n.link,c='SweetAlert warning: "'+t+'" option has been '+(r?"renamed":"deprecated")+".";o&&(c+=" Please use"+(i?' "'+i+'" in ':" ")+'"'+o+'" instead.');var u="https://sweetalert.js.org";c+=a?" More details: "+u+a:" More details: "+u+"/guides/#upgrading-from-1x",console.warn(c)},e.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])},"object"==u(e)&&"object"==u(r)?r.exports=c():(i=[],void 0===(a="function"==typeof(o=c)?o.apply(e,i):o)||(r.exports=a))}).call(this,n(165).setImmediate,n(165).clearImmediate,n(118)(t))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(1),i=n(3),a=n(30),c=n(32),u=n(7),s=n(99),l=n(127),f=n(2),h=n(14),p=n(48),d=n(5),y=n(6),m=n(13),v=n(22),b=n(29),g=n(39),w=n(34),k=n(62),_=n(47),S=n(129),x=n(98),O=n(17),A=n(12),P=n(71),E=n(20),R=n(18),T=n(95),j=n(72),C=n(59),I=n(58),M=n(9),D=n(130),N=n(24),B=n(33),z=n(23),L=n(16).forEach,F=j("hidden"),V=M("toPrimitive"),q=z.set,U=z.getterFor("Symbol"),H=Object.prototype,W=i.Symbol,$=a("JSON","stringify"),G=O.f,K=A.f,Y=S.f,J=P.f,X=T("symbols"),Z=T("op-symbols"),Q=T("string-to-symbol-registry"),tt=T("symbol-to-string-registry"),et=T("wks"),nt=i.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,ot=u&&f(function(){return 7!=w(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=G(H,e);r&&delete H[e],K(t,e,n),r&&t!==H&&K(H,e,r)}:K,it=function(t,e){var n=X[t]=w(W.prototype);return q(n,{type:"Symbol",tag:t,description:e}),u||(n.description=e),n},at=l?function(t){return"symbol"==r(t)}:function(t){return Object(t)instanceof W},ct=function(t,e,n){t===H&&ct(Z,e,n),y(t);var r=b(e,!0);return y(n),h(X,r)?(n.enumerable?(h(t,F)&&t[F][r]&&(t[F][r]=!1),n=w(n,{enumerable:g(0,!1)})):(h(t,F)||K(t,F,g(1,{})),t[F][r]=!0),ot(t,r,n)):K(t,r,n)},ut=function(t,e){y(t);var n=v(e),r=k(n).concat(ht(n));return L(r,function(e){u&&!st.call(n,e)||ct(t,e,n[e])}),t},st=function(t){var e=b(t,!0),n=J.call(this,e);return!(this===H&&h(X,e)&&!h(Z,e))&&(!(n||!h(this,e)||!h(X,e)||h(this,F)&&this[F][e])||n)},lt=function(t,e){var n=v(t),r=b(e,!0);if(n!==H||!h(X,r)||h(Z,r)){var o=G(n,r);return!o||!h(X,r)||h(n,F)&&n[F][r]||(o.enumerable=!0),o}},ft=function(t){var e=Y(v(t)),n=[];return L(e,function(t){h(X,t)||h(C,t)||n.push(t)}),n},ht=function(t){var e=t===H,n=Y(e?Z:v(t)),r=[];return L(n,function(t){!h(X,t)||e&&!h(H,t)||r.push(X[t])}),r};(s||(R((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),n=function t(n){this===H&&t.call(Z,n),h(this,F)&&h(this[F],e)&&(this[F][e]=!1),ot(this,e,g(1,n))};return u&&rt&&ot(H,e,{configurable:!0,set:n}),it(e,t)}).prototype,"toString",function(){return U(this).tag}),R(W,"withoutSetter",function(t){return it(I(t),t)}),P.f=st,A.f=ct,O.f=lt,_.f=S.f=ft,x.f=ht,D.f=function(t){return it(M(t),t)},u&&(K(W.prototype,"description",{configurable:!0,get:function(){return U(this).description}}),c||R(H,"propertyIsEnumerable",st,{unsafe:!0}))),o({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),L(k(et),function(t){N(t)}),o({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(h(Q,e))return Q[e];var n=W(e);return Q[e]=n,tt[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(h(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),o({target:"Object",stat:!0,forced:!s,sham:!u},{create:function(t,e){return void 0===e?w(t):ut(w(t),e)},defineProperty:ct,defineProperties:ut,getOwnPropertyDescriptor:lt}),o({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ft,getOwnPropertySymbols:ht}),o({target:"Object",stat:!0,forced:f(function(){x.f(1)})},{getOwnPropertySymbols:function(t){return x.f(m(t))}}),$)&&o({target:"JSON",stat:!0,forced:!s||f(function(){var t=W();return"[null]"!=$([t])||"{}"!=$({a:t})||"{}"!=$(Object(t))})},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(d(e)||void 0!==t)&&!at(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),o[1]=e,$.apply(null,o)}});W.prototype[V]||E(W.prototype,V,W.prototype.valueOf),B(W,"Symbol"),C[F]=!0},function(t,e,n){"use strict";var r=n(1),o=n(7),i=n(3),a=n(14),c=n(5),u=n(12).f,s=n(124),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};s(h,l);var p=h.prototype=l.prototype;p.constructor=h;var d=p.toString,y="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=d.call(t);if(a(f,t))return"";var n=y?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},function(t,e,n){n(24)("asyncIterator")},function(t,e,n){n(24)("hasInstance")},function(t,e,n){n(24)("isConcatSpreadable")},function(t,e,n){n(24)("iterator")},function(t,e,n){n(24)("match")},function(t,e,n){n(24)("replace")},function(t,e,n){n(24)("search")},function(t,e,n){n(24)("species")},function(t,e,n){n(24)("split")},function(t,e,n){n(24)("toPrimitive")},function(t,e,n){n(24)("toStringTag")},function(t,e,n){n(24)("unscopables")},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(48),a=n(5),c=n(13),u=n(11),s=n(49),l=n(63),f=n(64),h=n(9),p=n(65),d=h("isConcatSpreadable"),y=p>=51||!o(function(){var t=[];return t[d]=!1,t.concat()[0]!==t}),m=f("concat"),v=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!y||!m},{concat:function(t){var e,n,r,o,i,a=c(this),f=l(a,0),h=0;for(e=-1,r=arguments.length;e<r;e++)if(v(i=-1===e?a:arguments[e])){if(h+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,h++)n in i&&s(f,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,h++,i)}return f.length=h,f}})},function(t,e,n){var r=n(1),o=n(131),i=n(43);r({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},function(t,e,n){"use strict";var r=n(1),o=n(16).every,i=n(35),a=n(21),c=i("every"),u=a("every");r({target:"Array",proto:!0,forced:!c||!u},{every:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1),o=n(101),i=n(43);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){"use strict";var r=n(1),o=n(16).filter,i=n(64),a=n(21),c=i("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!c||!u},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(16).find,i=n(43),a=n(21),c=!0,u=a("find");"find"in[]&&Array(1).find(function(){c=!1}),r({target:"Array",proto:!0,forced:c||!u},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var r=n(1),o=n(16).findIndex,i=n(43),a=n(21),c=!0,u=a("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){c=!1}),r({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){"use strict";var r=n(1),o=n(132),i=n(13),a=n(11),c=n(27),u=n(63);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=a(e.length),r=u(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:c(t)),r}})},function(t,e,n){"use strict";var r=n(1),o=n(132),i=n(13),a=n(11),c=n(28),u=n(63);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=i(this),r=a(n.length);return c(t),(e=u(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(1),o=n(133);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){var r=n(1),o=n(134);r({target:"Array",stat:!0,forced:!n(74)(function(t){Array.from(t)})},{from:o})},function(t,e,n){var r=n(6),o=n(135);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){throw o(t),e}}},function(t,e,n){"use strict";var r=n(1),o=n(60).includes,i=n(43);r({target:"Array",proto:!0,forced:!n(21)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(1),o=n(60).indexOf,i=n(35),a=n(21),c=[].indexOf,u=!!c&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!s||!l},{indexOf:function(t){return u?c.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(1)({target:"Array",stat:!0},{isArray:n(48)})},function(t,e,n){"use strict";var r=n(1),o=n(57),i=n(22),a=n(35),c=[].join,u=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:u||!s},{join:function(t){return c.call(i(this),void 0===t?",":t)}})},function(t,e,n){var r=n(1),o=n(139);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},function(t,e,n){"use strict";var r=n(1),o=n(16).map,i=n(64),a=n(21),c=i("map"),u=a("map");r({target:"Array",proto:!0,forced:!c||!u},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(49);r({target:"Array",stat:!0,forced:o(function(){function t(){}return!(Array.of.call(t)instanceof t)})},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(1),o=n(76).left,i=n(35),a=n(21),c=n(65),u=n(53),s=i("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l||!u&&c>79&&c<83},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(76).right,i=n(35),a=n(21),c=n(65),u=n(53),s=i("reduceRight"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l||!u&&c>79&&c<83},{reduceRight:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(48),i=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),i.call(this)}})},function(t,e,n){"use strict";var r=n(1),o=n(5),i=n(48),a=n(41),c=n(11),u=n(22),s=n(49),l=n(9),f=n(64),h=n(21),p=f("slice"),d=h("slice",{ACCESSORS:!0,0:0,1:2}),y=l("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!p||!d},{slice:function(t,e){var n,r,l,f=u(this),h=c(f.length),p=a(t,h),d=a(void 0===e?h:e,h);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[y])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(f,p,d);for(r=new(void 0===n?Array:n)(v(d-p,0)),l=0;p<d;p++,l++)p in f&&s(r,l,f[p]);return r.length=l,r}})},function(t,e,n){"use strict";var r=n(1),o=n(16).some,i=n(35),a=n(21),c=i("some"),u=a("some");r({target:"Array",proto:!0,forced:!c||!u},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(28),i=n(13),a=n(2),c=n(35),u=[],s=u.sort,l=a(function(){u.sort(void 0)}),f=a(function(){u.sort(null)}),h=c("sort");r({target:"Array",proto:!0,forced:l||!f||!h},{sort:function(t){return void 0===t?s.call(i(this)):s.call(i(this),o(t))}})},function(t,e,n){n(54)("Array")},function(t,e,n){"use strict";var r=n(1),o=n(41),i=n(27),a=n(11),c=n(13),u=n(63),s=n(49),l=n(64),f=n(21),h=l("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var n,r,l,f,h,p,m=c(this),v=a(m.length),b=o(t,v),g=arguments.length;if(0===g?n=r=0:1===g?(n=0,r=v-b):(n=g-2,r=y(d(i(e),0),v-b)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(m,r),f=0;f<r;f++)(h=b+f)in m&&s(l,f,m[h]);if(l.length=r,n<r){for(f=b;f<v-r;f++)p=f+n,(h=f+r)in m?m[p]=m[h]:delete m[p];for(f=v;f>v-r+n;f--)delete m[f-1]}else if(n>r)for(f=v-r;f>b;f--)p=f+n-1,(h=f+r-1)in m?m[p]=m[h]:delete m[p];for(f=0;f<n;f++)m[f+b]=arguments[f+2];return m.length=v-r+n,l}})},function(t,e,n){n(43)("flat")},function(t,e,n){n(43)("flatMap")},function(t,e,n){"use strict";var r=n(1),o=n(3),i=n(77),a=n(54),c=i.ArrayBuffer;r({global:!0,forced:o.ArrayBuffer!==c},{ArrayBuffer:c}),a("ArrayBuffer")},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;t.exports={pack:function(t,e,c){var u,s,l,f=new Array(c),h=8*c-e-1,p=(1<<h)-1,d=p>>1,y=23===e?r(2,-24)-r(2,-77):0,m=t<0||0===t&&1/t<0?1:0,v=0;for((t=n(t))!=t||t===1/0?(s=t!=t?1:0,u=p):(u=o(i(t)/a),t*(l=r(2,-u))<1&&(u--,l*=2),(t+=u+d>=1?y/l:y*r(2,1-d))*l>=2&&(u++,l/=2),u+d>=p?(s=0,u=p):u+d>=1?(s=(t*l-1)*r(2,e),u+=d):(s=t*r(2,d-1)*r(2,e),u=0));e>=8;f[v++]=255&s,s/=256,e-=8);for(u=u<<e|s,h+=e;h>0;f[v++]=255&u,u/=256,h-=8);return f[--v]|=128*m,f},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,c=a>>1,u=i-7,s=o-1,l=t[s--],f=127&l;for(l>>=7;u>0;f=256*f+t[s],s--,u-=8);for(n=f&(1<<-u)-1,f>>=-u,u+=e;u>0;n=256*n+t[s],s--,u-=8);if(0===f)f=1-c;else{if(f===a)return n?NaN:l?-1/0:1/0;n+=r(2,e),f-=c}return(l?-1:1)*n*r(2,f-e)}}},function(t,e,n){var r=n(1),o=n(10);r({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView})},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(77),a=n(6),c=n(41),u=n(11),s=n(45),l=i.ArrayBuffer,f=i.DataView,h=l.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o(function(){return!new l(2).slice(1,void 0).byteLength})},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var n=a(this).byteLength,r=c(t,n),o=c(void 0===e?n:e,n),i=new(s(this,l))(u(o-r)),p=new f(this),d=new f(i),y=0;r<o;)d.setUint8(y++,p.getUint8(r++));return i}})},function(t,e,n){var r=n(1),o=n(77);r({global:!0,forced:!n(106)},{DataView:o.DataView})},function(t,e,n){n(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){var r=n(1),o=n(219);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},function(t,e,n){"use strict";var r=n(2),o=n(107).start,i=Math.abs,a=Date.prototype,c=a.getTime,u=a.toISOString;t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))})||!r(function(){u.call(new Date(NaN))})?function(){if(!isFinite(c.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+o(i(t),n?6:4,0)+"-"+o(this.getUTCMonth()+1,2,0)+"-"+o(this.getUTCDate(),2,0)+"T"+o(this.getUTCHours(),2,0)+":"+o(this.getUTCMinutes(),2,0)+":"+o(this.getUTCSeconds(),2,0)+"."+o(e,3,0)+"Z"}:u},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(13),a=n(29);r({target:"Date",proto:!0,forced:o(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=i(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(20),o=n(222),i=n(9)("toPrimitive"),a=Date.prototype;i in a||r(a,i,o)},function(t,e,n){"use strict";var r=n(6),o=n(29);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!==t)}},function(t,e,n){var r=n(18),o=Date.prototype,i=o.toString,a=o.getTime;new Date(NaN)+""!="Invalid Date"&&r(o,"toString",function(){var t=a.call(this);return t==t?i.call(this):"Invalid Date"})},function(t,e,n){n(1)({target:"Function",proto:!0},{bind:n(141)})},function(t,e,n){"use strict";var r=n(5),o=n(12),i=n(31),a=n(9)("hasInstance"),c=Function.prototype;a in c||o.f(c,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(7),o=n(12).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(t){return""}}})},function(t,e,n){var r=n(3);n(33)(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(78),o=n(142);t.exports=r("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},function(t,e,n){var r=n(1),o=n(143),i=Math.acosh,a=Math.log,c=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:o(t-1+c(t-1)*c(t+1))}})},function(t,e,n){var r=n(1),o=Math.asinh,i=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):i(e+a(e*e+1)):e}})},function(t,e,n){var r=n(1),o=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),o=n(109),i=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return o(t=+t)*a(i(t),1/3)}})},function(t,e,n){var r=n(1),o=Math.floor,i=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-o(i(t+.5)*a):32}})},function(t,e,n){var r=n(1),o=n(80),i=Math.cosh,a=Math.abs,c=Math.E;r({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(t){var e=o(a(t)-1)+1;return(e+1/(e*c*c))*(c/2)}})},function(t,e,n){var r=n(1),o=n(80);r({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o})},function(t,e,n){n(1)({target:"Math",stat:!0},{fround:n(237)})},function(t,e,n){var r=n(109),o=Math.abs,i=Math.pow,a=i(2,-52),c=i(2,-23),u=i(2,127)*(2-c),s=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=o(t),l=r(t);return i<s?l*(i/s/c+1/a-1/a)*s*c:(n=(e=(1+c/a)*i)-(e-i))>u||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(1),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,c=0,u=arguments.length,s=0;c<u;)s<(n=i(arguments[c++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(t,e,n){var r=n(1),o=n(2),i=Math.imul;r({target:"Math",stat:!0,forced:o(function(){return-5!=i(4294967295,5)||2!=i.length})},{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1),o=Math.log,i=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return o(t)*i}})},function(t,e,n){n(1)({target:"Math",stat:!0},{log1p:n(143)})},function(t,e,n){var r=n(1),o=Math.log,i=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/i}})},function(t,e,n){n(1)({target:"Math",stat:!0},{sign:n(109)})},function(t,e,n){var r=n(1),o=n(2),i=n(80),a=Math.abs,c=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:o(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(t){return a(t=+t)<1?(i(t)-i(-t))/2:(c(t-1)-c(-t-1))*(u/2)}})},function(t,e,n){var r=n(1),o=n(80),i=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){n(33)(Math,"Math",!0)},function(t,e,n){var r=n(1),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},function(t,e,n){"use strict";var r=n(7),o=n(3),i=n(61),a=n(18),c=n(14),u=n(40),s=n(79),l=n(29),f=n(2),h=n(34),p=n(47).f,d=n(17).f,y=n(12).f,m=n(56).trim,v=o.Number,b=v.prototype,g="Number"==u(h(b)),w=function(t){var e,n,r,o,i,a,c,u,s=l(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=m(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,_=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof _&&(g?f(function(){b.valueOf.call(n)}):"Number"!=u(n))?s(new v(w(e)),n,_):w(e)},S=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;S.length>x;x++)c(v,k=S[x])&&!c(_,k)&&y(_,k,d(v,k));_.prototype=b,b.constructor=_,a(o,"Number",_)}},function(t,e,n){n(1)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(1)({target:"Number",stat:!0},{isFinite:n(251)})},function(t,e,n){var r=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(1)({target:"Number",stat:!0},{isInteger:n(144)})},function(t,e,n){n(1)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),o=n(144),i=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){n(1)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(1)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1),o=n(145);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(1),o=n(146);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},function(t,e,n){"use strict";var r=n(1),o=n(27),i=n(147),a=n(108),c=n(2),u=1..toFixed,s=Math.floor,l=function t(e,n,r){return 0===n?r:n%2==1?t(e,n-1,r*e):t(e*e,n/2,r)};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c(function(){u.call({})})},{toFixed:function(t){var e,n,r,c,u=i(this),f=o(t),h=[0,0,0,0,0,0],p="",d="0",y=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*h[n],h[n]=r%1e7,r=s(r/1e7)},m=function(t){for(var e=6,n=0;--e>=0;)n+=h[e],h[e]=s(n/t),n=n%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var n=String(h[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(p="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*l(2,69,1))-69)<0?u*l(2,-e,1):u/l(2,e,1),n*=4503599627370496,(e=52-e)>0){for(y(0,n),r=f;r>=7;)y(1e7,0),r-=7;for(y(l(10,r,1),0),r=e-1;r>=23;)m(1<<23),r-=23;m(1<<r),y(1,1),m(2),d=v()}else y(0,n),y(1<<-e,0),d=v()+a.call("0",f);return d=f>0?p+((c=d.length)<=f?"0."+a.call("0",f-c)+d:d.slice(0,c-f)+"."+d.slice(c-f)):p+d}})},function(t,e,n){"use strict";var r=n(1),o=n(2),i=n(147),a=1..toPrecision;r({target:"Number",proto:!0,forced:o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})},{toPrecision:function(t){return void 0===t?a.call(i(this)):a.call(i(this),t)}})},function(t,e,n){var r=n(1),o=n(148);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){n(1)({target:"Object",stat:!0,sham:!n(7)},{create:n(34)})},function(t,e,n){"use strict";var r=n(1),o=n(7),i=n(82),a=n(13),c=n(28),u=n(12);o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){u.f(a(this),t,{get:c(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(1),o=n(7);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:n(100)})},function(t,e,n){var r=n(1),o=n(7);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(12).f})},function(t,e,n){"use strict";var r=n(1),o=n(7),i=n(82),a=n(13),c=n(28),u=n(12);o&&r({target:"Object",proto:!0,forced:i},{__defineSetter__:function(t,e){u.f(a(this),t,{set:c(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(1),o=n(149).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(1),o=n(69),i=n(2),a=n(5),c=n(51).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:i(function(){u(1)}),sham:!o},{freeze:function(t){return u&&a(t)?u(c(t)):t}})},function(t,e,n){var r=n(1),o=n(70),i=n(49);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,function(t,n){i(e,t,n)},{AS_ENTRIES:!0}),e}})},function(t,e,n){var r=n(1),o=n(2),i=n(22),a=n(17).f,c=n(7),u=o(function(){a(1)});r({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(1),o=n(7),i=n(96),a=n(22),c=n(17),u=n(49);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=c.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,e=s[f++]))&&u(l,e,n);return l}})},function(t,e,n){var r=n(1),o=n(2),i=n(129).f;r({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:i})},function(t,e,n){var r=n(1),o=n(2),i=n(13),a=n(31),c=n(105);r({target:"Object",stat:!0,forced:o(function(){a(1)}),sham:!c},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){n(1)({target:"Object",stat:!0},{is:n(150)})},function(t,e,n){var r=n(1),o=n(2),i=n(5),a=Object.isExtensible;r({target:"Object",stat:!0,forced:o(function(){a(1)})},{isExtensible:function(t){return!!i(t)&&(!a||a(t))}})},function(t,e,n){var r=n(1),o=n(2),i=n(5),a=Object.isFrozen;r({target:"Object",stat:!0,forced:o(function(){a(1)})},{isFrozen:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(1),o=n(2),i=n(5),a=Object.isSealed;r({target:"Object",stat:!0,forced:o(function(){a(1)})},{isSealed:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(1),o=n(13),i=n(62);r({target:"Object",stat:!0,forced:n(2)(function(){i(1)})},{keys:function(t){return i(o(t))}})},function(t,e,n){"use strict";var r=n(1),o=n(7),i=n(82),a=n(13),c=n(29),u=n(31),s=n(17).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupGetter__:function(t){var e,n=a(this),r=c(t,!0);do{if(e=s(n,r))return e.get}while(n=u(n))}})},function(t,e,n){"use strict";var r=n(1),o=n(7),i=n(82),a=n(13),c=n(29),u=n(31),s=n(17).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupSetter__:function(t){var e,n=a(this),r=c(t,!0);do{if(e=s(n,r))return e.set}while(n=u(n))}})},function(t,e,n){var r=n(1),o=n(5),i=n(51).onFreeze,a=n(69),c=n(2),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:c(function(){u(1)}),sham:!a},{preventExtensions:function(t){return u&&o(t)?u(i(t)):t}})},function(t,e,n){var r=n(1),o=n(5),i=n(51).onFreeze,a=n(69),c=n(2),u=Object.seal;r({target:"Object",stat:!0,forced:c(function(){u(1)}),sham:!a},{seal:function(t){return u&&o(t)?u(i(t)):t}})},function(t,e,n){n(1)({target:"Object",stat:!0},{setPrototypeOf:n(50)})},function(t,e,n){var r=n(103),o=n(18),i=n(285);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(103),o=n(68);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(1),o=n(149).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){var r=n(1),o=n(145);r({global:!0,forced:parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(1),o=n(146);r({global:!0,forced:parseInt!=o},{parseInt:o})},function(t,e,n){"use strict";var r,o,i,a,c=n(1),u=n(32),s=n(3),l=n(30),f=n(151),h=n(18),p=n(55),d=n(33),y=n(54),m=n(5),v=n(28),b=n(44),g=n(93),w=n(70),k=n(74),_=n(45),S=n(110).set,x=n(153),O=n(154),A=n(290),P=n(155),E=n(291),R=n(23),T=n(61),j=n(9),C=n(53),I=n(65),M=j("species"),D="Promise",N=R.get,B=R.set,z=R.getterFor(D),L=f,F=s.TypeError,V=s.document,q=s.process,U=l("fetch"),H=P.f,W=H,$=!!(V&&V.createEvent&&s.dispatchEvent),G="function"==typeof PromiseRejectionEvent,K=T(D,function(){if(!(g(L)!==String(L))){if(66===I)return!0;if(!C&&!G)return!0}if(u&&!L.prototype.finally)return!0;if(I>=51&&/native code/.test(L))return!1;var t=L.resolve(1),e=function(t){t(function(){},function(){})};return(t.constructor={})[M]=e,!(t.then(function(){})instanceof e)}),Y=K||!k(function(t){L.all(t).catch(function(){})}),J=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},X=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;x(function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,c,u,s=n[i++],l=o?s.ok:s.fail,f=s.resolve,h=s.reject,p=s.domain;try{l?(o||(2===t.rejection&&et(t),t.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),u=!0)),a===s.promise?h(F("Promise-chain cycle")):(c=J(a))?c.call(a,f,h):f(a)):h(r)}catch(t){p&&!u&&p.exit(),h(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Q(t)})}},Z=function(t,e,n){var r,o;$?((r=V.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},!G&&(o=s["on"+t])?o(r):"unhandledrejection"===t&&A("Unhandled promise rejection",n)},Q=function(t){S.call(s,function(){var e,n=t.facade,r=t.value;if(tt(t)&&(e=E(function(){C?q.emit("unhandledRejection",r,n):Z("unhandledrejection",n,r)}),t.rejection=C||tt(t)?2:1,e.error))throw e.value})},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t){S.call(s,function(){var e=t.facade;C?q.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)})},nt=function(t,e,n){return function(r){t(e,r,n)}},rt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,X(t,!0))},ot=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw F("Promise can't be resolved itself");var o=J(n);o?x(function(){var r={done:!1};try{o.call(n,nt(t,r,e),nt(rt,r,e))}catch(t){rt(r,t,e)}}):(e.value=n,e.state=1,X(e,!1))}catch(t){rt({done:!1},t,e)}}};K&&(L=function(t){b(this,L,D),v(t),r.call(this);var e=N(this);try{t(nt(ot,e),nt(rt,e))}catch(t){rt(e,t)}},(r=function(t){B(this,{type:D,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(L.prototype,{then:function(t,e){var n=z(this),r=H(_(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=C?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=N(t);this.promise=t,this.resolve=nt(ot,e),this.reject=nt(rt,e)},P.f=H=function(t){return t===L||t===i?new o(t):W(t)},u||"function"!=typeof f||(a=f.prototype.then,h(f.prototype,"then",function(t,e){var n=this;return new L(function(t,e){a.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof U&&c({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return O(L,U.apply(s,arguments))}}))),c({global:!0,wrap:!0,forced:K},{Promise:L}),d(L,D,!1,!0),y(D),i=l(D),c({target:D,stat:!0,forced:K},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),c({target:D,stat:!0,forced:u||K},{resolve:function(t){return O(u&&this===i?L:this,t)}}),c({target:D,stat:!0,forced:Y},{all:function(t){var e=this,n=H(e),r=n.resolve,o=n.reject,i=E(function(){var n=v(e.resolve),i=[],a=0,c=1;w(t,function(t){var u=a++,s=!1;i.push(void 0),c++,n.call(e,t).then(function(t){s||(s=!0,i[u]=t,--c||r(i))},o)}),--c||r(i)});return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=H(e),r=n.reject,o=E(function(){var o=v(e.resolve);w(t,function(t){o.call(e,t).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(1),o=n(32),i=n(151),a=n(2),c=n(30),u=n(45),s=n(154),l=n(18);r({target:"Promise",proto:!0,real:!0,forced:!!i&&a(function(){i.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=u(this,c("Promise")),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}}),o||"function"!=typeof i||i.prototype.finally||l(i.prototype,"finally",c("Promise").prototype.finally)},function(t,e,n){var r=n(1),o=n(30),i=n(28),a=n(6),c=n(2),u=o("Reflect","apply"),s=Function.apply;r({target:"Reflect",stat:!0,forced:!c(function(){u(function(){})})},{apply:function(t,e,n){return i(t),a(n),u?u(t,e,n):s.call(t,e,n)}})},function(t,e,n){var r=n(1),o=n(30),i=n(28),a=n(6),c=n(5),u=n(34),s=n(141),l=n(2),f=o("Reflect","construct"),h=l(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),p=!l(function(){f(function(){})}),d=h||p;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!h)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var o=n.prototype,l=u(c(o)?o:Object.prototype),d=Function.apply.call(t,l,e);return c(d)?d:l}})},function(t,e,n){var r=n(1),o=n(7),i=n(6),a=n(29),c=n(12);r({target:"Reflect",stat:!0,forced:n(2)(function(){Reflect.defineProperty(c.f({},1,{value:1}),1,{value:2})}),sham:!o},{defineProperty:function(t,e,n){i(t);var r=a(e,!0);i(n);try{return c.f(t,r,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),o=n(6),i=n(17).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(1),o=n(5),i=n(6),a=n(14),c=n(17),u=n(31);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,s,l=arguments.length<3?e:arguments[2];return i(e)===l?e[n]:(r=c.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):o(s=u(e))?t(s,n,l):void 0}})},function(t,e,n){var r=n(1),o=n(7),i=n(6),a=n(17);r({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a.f(i(t),e)}})},function(t,e,n){var r=n(1),o=n(6),i=n(31);r({target:"Reflect",stat:!0,sham:!n(105)},{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){n(1)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),o=n(6),i=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){n(1)({target:"Reflect",stat:!0},{ownKeys:n(96)})},function(t,e,n){var r=n(1),o=n(30),i=n(6);r({target:"Reflect",stat:!0,sham:!n(69)},{preventExtensions:function(t){i(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),o=n(6),i=n(5),a=n(14),c=n(2),u=n(12),s=n(17),l=n(31),f=n(39);r({target:"Reflect",stat:!0,forced:c(function(){var t=function(){},e=u.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)})},{set:function t(e,n,r){var c,h,p=arguments.length<4?e:arguments[3],d=s.f(o(e),n);if(!d){if(i(h=l(e)))return t(h,n,r,p);d=f(0)}if(a(d,"value")){if(!1===d.writable||!i(p))return!1;if(c=s.f(p,n)){if(c.get||c.set||!1===c.writable)return!1;c.value=r,u.f(p,n,c)}else u.f(p,n,f(0,r));return!0}return void 0!==d.set&&(d.set.call(p,r),!0)}})},function(t,e,n){var r=n(1),o=n(6),i=n(138),a=n(50);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){o(t),i(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(7),o=n(3),i=n(61),a=n(79),c=n(12).f,u=n(47).f,s=n(111),l=n(83),f=n(112),h=n(18),p=n(2),d=n(23).set,y=n(54),m=n(9)("match"),v=o.RegExp,b=v.prototype,g=/a/g,w=/a/g,k=new v(g)!==g,_=f.UNSUPPORTED_Y;if(r&&i("RegExp",!k||_||p(function(){return w[m]=!1,v(g)!=g||v(w)==w||"/a/i"!=v(g,"i")}))){for(var S=function(t,e){var n,r=this instanceof S,o=s(t),i=void 0===e;if(!r&&o&&t.constructor===S&&i)return t;k?o&&!i&&(t=t.source):t instanceof S&&(i&&(e=l.call(t)),t=t.source),_&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var c=a(k?new v(t,e):v(t,e),r?this:b,S);return _&&n&&d(c,{sticky:n}),c},x=function(t){t in S||c(S,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},O=u(v),A=0;O.length>A;)x(O[A++]);b.constructor=S,S.prototype=b,h(o,"RegExp",S)}y("RegExp")},function(t,e,n){var r=n(7),o=n(12),i=n(83),a=n(112).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(t,e,n){"use strict";var r=n(18),o=n(6),i=n(2),a=n(83),c=RegExp.prototype,u=c.toString,s=i(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),l="toString"!=u.name;(s||l)&&r(RegExp.prototype,"toString",function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in c)?a.call(t):n)},{unsafe:!0})},function(t,e,n){"use strict";var r=n(78),o=n(142);t.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},o)},function(t,e,n){"use strict";var r=n(1),o=n(85).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r,o=n(1),i=n(17).f,a=n(11),c=n(113),u=n(19),s=n(114),l=n(32),f="".endsWith,h=Math.min,p=s("endsWith");o({target:"String",proto:!0,forced:!!(l||p||(r=i(String.prototype,"endsWith"),!r||r.writable))&&!p},{endsWith:function(t){var e=String(u(this));c(t);var n=arguments.length>1?arguments[1]:void 0,r=a(e.length),o=void 0===n?r:h(a(n),r),i=String(t);return f?f.call(e,i,o):e.slice(o-i.length,o)===i}})},function(t,e,n){var r=n(1),o=n(41),i=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(1),o=n(113),i=n(19);r({target:"String",proto:!0,forced:!n(114)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(86),o=n(6),i=n(11),a=n(19),c=n(115),u=n(87);r("match",1,function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),s=String(this);if(!a.global)return u(a,s);var l=a.unicode;a.lastIndex=0;for(var f,h=[],p=0;null!==(f=u(a,s));){var d=String(f[0]);h[p]=d,""===d&&(a.lastIndex=c(s,i(a.lastIndex),l)),p++}return 0===p?null:h}]})},function(t,e,n){"use strict";var r=n(1),o=n(107).end;r({target:"String",proto:!0,forced:n(158)},{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),o=n(107).start;r({target:"String",proto:!0,forced:n(158)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(1),o=n(22),i=n(11);r({target:"String",stat:!0},{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],c=0;n>c;)a.push(String(e[c++])),c<r&&a.push(String(arguments[c]));return a.join("")}})},function(t,e,n){n(1)({target:"String",proto:!0},{repeat:n(108)})},function(t,e,n){"use strict";var r=n(86),o=n(6),i=n(13),a=n(11),c=n(27),u=n(19),s=n(115),l=n(87),f=Math.max,h=Math.min,p=Math.floor,d=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;r("replace",2,function(t,e,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,b=m?"$":"$0";return[function(n,r){var o=u(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!m&&v||"string"==typeof r&&-1===r.indexOf(b)){var i=n(e,t,this,r);if(i.done)return i.value}var u=o(t),p=String(this),d="function"==typeof r;d||(r=String(r));var y=u.global;if(y){var w=u.unicode;u.lastIndex=0}for(var k=[];;){var _=l(u,p);if(null===_)break;if(k.push(_),!y)break;""===String(_[0])&&(u.lastIndex=s(p,a(u.lastIndex),w))}for(var S,x="",O=0,A=0;A<k.length;A++){_=k[A];for(var P=String(_[0]),E=f(h(c(_.index),p.length),0),R=[],T=1;T<_.length;T++)R.push(void 0===(S=_[T])?S:String(S));var j=_.groups;if(d){var C=[P].concat(R,E,p);void 0!==j&&C.push(j);var I=String(r.apply(void 0,C))}else I=g(P,p,E,R,j,r);E>=O&&(x+=p.slice(O,E)+I,O=E+P.length)}return x+p.slice(O)}];function g(t,n,r,o,a,c){var u=r+t.length,s=o.length,l=y;return void 0!==a&&(a=i(a),l=d),e.call(c,l,function(e,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":c=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>s){var f=p(l/10);return 0===f?e:f<=s?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):e}c=o[l-1]}return void 0===c?"":c})}})},function(t,e,n){"use strict";var r=n(86),o=n(6),i=n(19),a=n(150),c=n(87);r("search",1,function(t,e,n){return[function(e){var n=i(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),u=String(this),s=i.lastIndex;a(s,0)||(i.lastIndex=0);var l=c(i,u);return a(i.lastIndex,s)||(i.lastIndex=s),null===l?-1:l.index}]})},function(t,e,n){"use strict";var r=n(86),o=n(111),i=n(6),a=n(19),c=n(45),u=n(115),s=n(11),l=n(87),f=n(84),h=n(2),p=[].push,d=Math.min,y=!h(function(){return!RegExp(4294967295,"y")});r("split",2,function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var c,u,s,l=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,y=new RegExp(t.source,h+"g");(c=f.call(y,r))&&!((u=y.lastIndex)>d&&(l.push(r.slice(d,c.index)),c.length>1&&c.index<r.length&&p.apply(l,c.slice(1)),s=c[0].length,d=u,l.length>=i));)y.lastIndex===c.index&&y.lastIndex++;return d===r.length?!s&&y.test("")||l.push(""):l.push(r.slice(d)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var f=i(t),h=String(this),p=c(f,RegExp),m=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),b=new p(y?f:"^(?:"+f.source+")",v),g=void 0===o?4294967295:o>>>0;if(0===g)return[];if(0===h.length)return null===l(b,h)?[h]:[];for(var w=0,k=0,_=[];k<h.length;){b.lastIndex=y?k:0;var S,x=l(b,y?h:h.slice(k));if(null===x||(S=d(s(b.lastIndex+(y?0:k)),h.length))===w)k=u(h,k,m);else{if(_.push(h.slice(w,k)),_.length===g)return _;for(var O=1;O<=x.length-1;O++)if(_.push(x[O]),_.length===g)return _;k=w=S}}return _.push(h.slice(w)),_}]},!y)},function(t,e,n){"use strict";var r,o=n(1),i=n(17).f,a=n(11),c=n(113),u=n(19),s=n(114),l=n(32),f="".startsWith,h=Math.min,p=s("startsWith");o({target:"String",proto:!0,forced:!!(l||p||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!p},{startsWith:function(t){var e=String(u(this));c(t);var n=a(h(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return f?f.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(1),o=n(56).trim;r({target:"String",proto:!0,forced:n(116)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=n(1),o=n(56).end,i=n(116)("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(t,e,n){"use strict";var r=n(1),o=n(56).start,i=n(116)("trimStart"),a=i?function(){return o(this)}:"".trimStart;r({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("big")},{big:function(){return o(this,"big","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("blink")},{blink:function(){return o(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("bold")},{bold:function(){return o(this,"b","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("fixed")},{fixed:function(){return o(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("italics")},{italics:function(){return o(this,"i","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("small")},{small:function(){return o(this,"small","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("strike")},{strike:function(){return o(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("sub")},{sub:function(){return o(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(1),o=n(25);r({target:"String",proto:!0,forced:n(26)("sup")},{sup:function(){return o(this,"sup","","")}})},function(t,e,n){n(36)("Float32",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){var r=n(27);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){n(36)("Float64",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Int8",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Int16",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Int32",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint8",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint8",function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(36)("Uint16",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(36)("Uint32",function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";var r=n(10),o=n(131),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=n(16).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=n(101),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",function(t){return o.apply(i(this),arguments)})},function(t,e,n){"use strict";var r=n(10),o=n(16).filter,i=n(45),a=r.aTypedArray,c=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",function(t){for(var e=o(a(this),t,arguments.length>1?arguments[1]:void 0),n=i(this,this.constructor),r=0,u=e.length,s=new(c(n))(u);u>r;)s[r]=e[r++];return s})},function(t,e,n){"use strict";var r=n(10),o=n(16).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=n(16).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=n(16).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(117);(0,n(10).exportTypedArrayStaticMethod)("from",n(160),r)},function(t,e,n){"use strict";var r=n(10),o=n(60).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=n(60).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(3),o=n(10),i=n(75),a=n(9)("iterator"),c=r.Uint8Array,u=i.values,s=i.keys,l=i.entries,f=o.aTypedArray,h=o.exportTypedArrayMethod,p=c&&c.prototype[a],d=!!p&&("values"==p.name||null==p.name),y=function(){return u.call(f(this))};h("entries",function(){return l.call(f(this))}),h("keys",function(){return s.call(f(this))}),h("values",y,!d),h(a,y,!d)},function(t,e,n){"use strict";var r=n(10),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",function(t){return a.apply(o(this),arguments)})},function(t,e,n){"use strict";var r=n(10),o=n(139),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",function(t){return o.apply(i(this),arguments)})},function(t,e,n){"use strict";var r=n(10),o=n(16).map,i=n(45),a=r.aTypedArray,c=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(c(i(t,t.constructor)))(e)})})},function(t,e,n){"use strict";var r=n(10),o=n(117),i=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",function(){for(var t=0,e=arguments.length,n=new(i(this))(e);e>t;)n[t]=arguments[t++];return n},o)},function(t,e,n){"use strict";var r=n(10),o=n(76).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=n(76).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",function(){for(var t,e=o(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this})},function(t,e,n){"use strict";var r=n(10),o=n(11),i=n(159),a=n(13),c=n(2),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",function(t){u(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),c=o(r.length),s=0;if(c+e>n)throw RangeError("Wrong length");for(;s<c;)this[e+s]=r[s++]},c(function(){new Int8Array(1).set({})}))},function(t,e,n){"use strict";var r=n(10),o=n(45),i=n(2),a=r.aTypedArray,c=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,s=[].slice;u("slice",function(t,e){for(var n=s.call(a(this),t,e),r=o(this,this.constructor),i=0,u=n.length,l=new(c(r))(u);u>i;)l[i]=n[i++];return l},i(function(){new Int8Array(1).slice()}))},function(t,e,n){"use strict";var r=n(10),o=n(16).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(10),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].sort;i("sort",function(t){return a.call(o(this),t)})},function(t,e,n){"use strict";var r=n(10),o=n(11),i=n(41),a=n(45),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",function(t,e){var n=c(this),r=n.length,u=i(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-u))})},function(t,e,n){"use strict";var r=n(3),o=n(10),i=n(2),a=r.Int8Array,c=o.aTypedArray,u=o.exportTypedArrayMethod,s=[].toLocaleString,l=[].slice,f=!!a&&i(function(){s.call(new a(1))});u("toLocaleString",function(){return s.apply(f?l.call(c(this)):c(this),arguments)},i(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!i(function(){a.prototype.toLocaleString.call([1,2])}))},function(t,e,n){"use strict";var r=n(10).exportTypedArrayMethod,o=n(2),i=n(3).Uint8Array,a=i&&i.prototype||{},c=[].toString,u=[].join;o(function(){c.call({})})&&(c=function(){return u.call(this)});var s=a.toString!=c;r("toString",c,s)},function(t,e,n){"use strict";var r,o=n(3),i=n(55),a=n(51),c=n(78),u=n(161),s=n(5),l=n(23).enforce,f=n(123),h=!o.ActiveXObject&&"ActiveXObject"in o,p=Object.isExtensible,d=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},y=t.exports=c("WeakMap",d,u);if(f&&h){r=u.getConstructor(d,"WeakMap",!0),a.REQUIRED=!0;var m=y.prototype,v=m.delete,b=m.has,g=m.get,w=m.set;i(m,{delete:function(t){if(s(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(s(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new r),b.call(this,t)||e.frozen.has(t)}return b.call(this,t)},get:function(t){if(s(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new r),b.call(this,t)?g.call(this,t):e.frozen.get(t)}return g.call(this,t)},set:function(t,e){if(s(t)&&!p(t)){var n=l(this);n.frozen||(n.frozen=new r),b.call(this,t)?w.call(this,t,e):n.frozen.set(t,e)}else w.call(this,t,e);return this}})}},function(t,e,n){"use strict";n(78)("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},n(161))},function(t,e,n){var r=n(3),o=n(162),i=n(133),a=n(20);for(var c in o){var u=r[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(t){s.forEach=i}}},function(t,e,n){var r=n(3),o=n(162),i=n(75),a=n(20),c=n(9),u=c("iterator"),s=c("toStringTag"),l=i.values;for(var f in o){var h=r[f],p=h&&h.prototype;if(p){if(p[u]!==l)try{a(p,u,l)}catch(t){p[u]=l}if(p[s]||a(p,s,f),o[f])for(var d in i)if(p[d]!==i[d])try{a(p,d,i[d])}catch(t){p[d]=i[d]}}}},function(t,e,n){var r=n(1),o=n(3),i=n(110);r({global:!0,bind:!0,enumerable:!0,forced:!o.setImmediate||!o.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(1),o=n(3),i=n(153),a=n(53),c=o.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=a&&c.domain;i(e?e.bind(t):t)}})},function(t,e,n){var r=n(1),o=n(3),i=n(73),a=[].slice,c=function(t){return function(e,n){var r=arguments.length>2,o=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(i)},{setTimeout:c(o.setTimeout),setInterval:c(o.setInterval)})},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(157);var o,i=n(1),a=n(7),c=n(163),u=n(3),s=n(100),l=n(18),f=n(44),h=n(14),p=n(148),d=n(134),y=n(85).codeAt,m=n(382),v=n(33),b=n(164),g=n(23),w=u.URL,k=b.URLSearchParams,_=b.getState,S=g.set,x=g.getterFor("URL"),O=Math.floor,A=Math.pow,P=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,R=/\d/,T=/^(0x|0X)/,j=/^[0-7]+$/,C=/^\d+$/,I=/^[\dA-Fa-f]+$/,M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,N=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,z=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=F(e.slice(1,-1))))return"Invalid host";t.host=n}else if(K(t)){if(e=m(e),M.test(e))return"Invalid host";if(null===(n=L(e)))return"Invalid host";t.host=n}else{if(D.test(e))return"Invalid host";for(n="",r=d(e),o=0;o<r.length;o++)n+=$(r[o],q);t.host=n}},L=function(t){var e,n,r,o,i,a,c,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=u[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=T.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?C:8==i?j:I).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=A(256,5-e))return null}else if(a>255)return null;for(c=n.pop(),r=0;r<n.length;r++)c+=n[r]*A(256,3-r);return c},F=function(t){var e,n,r,o,i,a,c,u=[0,0,0,0,0,0,0,0],s=0,l=null,f=0,h=function(){return t.charAt(f)};if(":"==h()){if(":"!=t.charAt(1))return;f+=2,l=++s}for(;h();){if(8==s)return;if(":"!=h()){for(e=n=0;n<4&&I.test(h());)e=16*e+parseInt(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,s>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;f++}if(!R.test(h()))return;for(;R.test(h());){if(i=parseInt(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}u[s]=256*u[s]+o,2!=++r&&4!=r||s++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;u[s++]=e}else{if(null!==l)return;f++,l=++s}}if(null!==l)for(a=s-l,s=7;0!=s&&a>0;)c=u[s],u[s--]=u[l+a-1],u[l+--a]=c;else if(8!=s)return;return u},V=function(t){var e,n,o,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=O(t/256);return e.join(".")}if("object"==r(t)){for(e="",o=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),o===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},q={},U=p({},q,{" ":1,'"':1,"<":1,">":1,"`":1}),H=p({},U,{"#":1,"?":1,"{":1,"}":1}),W=p({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),$=function(t,e){var n=y(t,0);return n>32&&n<127&&!h(e,t)?t:encodeURIComponent(t)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return h(G,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},J=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},X=function(t,e){var n;return 2==t.length&&P.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Z=function(t){var e;return t.length>1&&X(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Q=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&X(e[0],!0)||e.pop()},tt=function(t){return"."===t||"%2e"===t.toLowerCase()},et={},nt={},rt={},ot={},it={},at={},ct={},ut={},st={},lt={},ft={},ht={},pt={},dt={},yt={},mt={},vt={},bt={},gt={},wt={},kt={},_t=function(t,e,n,r){var i,a,c,u,s,l=n||et,f=0,p="",y=!1,m=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(N,"")),e=e.replace(B,""),i=d(e);f<=i.length;){switch(a=i[f],l){case et:if(!a||!P.test(a)){if(n)return"Invalid scheme";l=rt;continue}p+=a.toLowerCase(),l=nt;break;case nt:if(a&&(E.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",l=rt,f=0;continue}if(n&&(K(t)!=h(G,p)||"file"==p&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(K(t)&&G[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?l=dt:K(t)&&r&&r.scheme==t.scheme?l=ot:K(t)?l=ut:"/"==i[f+1]?(l=it,f++):(t.cannotBeABaseURL=!0,t.path.push(""),l=gt)}break;case rt:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=kt;break}l="file"==r.scheme?dt:at;continue;case ot:if("/"!=a||"/"!=i[f+1]){l=at;continue}l=st,f++;break;case it:if("/"==a){l=lt;break}l=bt;continue;case at:if(t.scheme=r.scheme,a==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&K(t))l=ct;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=wt;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=bt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=kt}break;case ct:if(!K(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=bt;continue}l=lt}else l=st;break;case ut:if(l=st,"/"!=a||"/"!=p.charAt(f+1))continue;f++;break;case st:if("/"!=a&&"\\"!=a){l=lt;continue}break;case lt:if("@"==a){y&&(p="%40"+p),y=!0,c=d(p);for(var b=0;b<c.length;b++){var g=c[b];if(":"!=g||v){var w=$(g,W);v?t.password+=w:t.username+=w}else v=!0}p=""}else if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&K(t)){if(y&&""==p)return"Invalid authority";f-=d(p).length+1,p="",l=ft}else p+=a;break;case ft:case ht:if(n&&"file"==t.scheme){l=mt;continue}if(":"!=a||m){if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&K(t)){if(K(t)&&""==p)return"Invalid host";if(n&&""==p&&(Y(t)||null!==t.port))return;if(u=z(t,p))return u;if(p="",l=vt,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(u=z(t,p))return u;if(p="",l=pt,n==ht)return}break;case pt:if(!R.test(a)){if(a==o||"/"==a||"?"==a||"#"==a||"\\"==a&&K(t)||n){if(""!=p){var k=parseInt(p,10);if(k>65535)return"Invalid port";t.port=K(t)&&k===G[t.scheme]?null:k,p=""}if(n)return;l=vt;continue}return"Invalid port"}p+=a;break;case dt:if(t.scheme="file","/"==a||"\\"==a)l=yt;else{if(!r||"file"!=r.scheme){l=bt;continue}if(a==o)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",l=wt;else{if("#"!=a){Z(i.slice(f).join(""))||(t.host=r.host,t.path=r.path.slice(),Q(t)),l=bt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=kt}}break;case yt:if("/"==a||"\\"==a){l=mt;break}r&&"file"==r.scheme&&!Z(i.slice(f).join(""))&&(X(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=bt;continue;case mt:if(a==o||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&X(p))l=bt;else if(""==p){if(t.host="",n)return;l=vt}else{if(u=z(t,p))return u;if("localhost"==t.host&&(t.host=""),n)return;p="",l=vt}continue}p+=a;break;case vt:if(K(t)){if(l=bt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=o&&(l=bt,"/"!=a))continue}else t.fragment="",l=kt;else t.query="",l=wt;break;case bt:if(a==o||"/"==a||"\\"==a&&K(t)||!n&&("?"==a||"#"==a)){if(".."===(s=(s=p).toLowerCase())||"%2e."===s||".%2e"===s||"%2e%2e"===s?(Q(t),"/"==a||"\\"==a&&K(t)||t.path.push("")):tt(p)?"/"==a||"\\"==a&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&X(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==o||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=wt):"#"==a&&(t.fragment="",l=kt)}else p+=$(a,H);break;case gt:"?"==a?(t.query="",l=wt):"#"==a?(t.fragment="",l=kt):a!=o&&(t.path[0]+=$(a,q));break;case wt:n||"#"!=a?a!=o&&("'"==a&&K(t)?t.query+="%27":t.query+="#"==a?"%23":$(a,q)):(t.fragment="",l=kt);break;case kt:a!=o&&(t.fragment+=$(a,U))}f++}},St=function(t){var e,n,r=f(this,St,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(t),c=S(r,{type:"URL"});if(void 0!==o)if(o instanceof St)e=x(o);else if(n=_t(e={},String(o)))throw TypeError(n);if(n=_t(c,i,null,e))throw TypeError(n);var u=c.searchParams=new k,s=_(u);s.updateSearchParams(c.query),s.updateURL=function(){c.query=String(u)||null},a||(r.href=Ot.call(r),r.origin=At.call(r),r.protocol=Pt.call(r),r.username=Et.call(r),r.password=Rt.call(r),r.host=Tt.call(r),r.hostname=jt.call(r),r.port=Ct.call(r),r.pathname=It.call(r),r.search=Mt.call(r),r.searchParams=Dt.call(r),r.hash=Nt.call(r))},xt=St.prototype,Ot=function(){var t=x(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,c=t.query,u=t.fragment,s=e+":";return null!==o?(s+="//",Y(t)&&(s+=n+(r?":"+r:"")+"@"),s+=V(o),null!==i&&(s+=":"+i)):"file"==e&&(s+="//"),s+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==c&&(s+="?"+c),null!==u&&(s+="#"+u),s},At=function(){var t=x(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&K(t)?e+"://"+V(t.host)+(null!==n?":"+n:""):"null"},Pt=function(){return x(this).scheme+":"},Et=function(){return x(this).username},Rt=function(){return x(this).password},Tt=function(){var t=x(this),e=t.host,n=t.port;return null===e?"":null===n?V(e):V(e)+":"+n},jt=function(){var t=x(this).host;return null===t?"":V(t)},Ct=function(){var t=x(this).port;return null===t?"":String(t)},It=function(){var t=x(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Mt=function(){var t=x(this).query;return t?"?"+t:""},Dt=function(){return x(this).searchParams},Nt=function(){var t=x(this).fragment;return t?"#"+t:""},Bt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&s(xt,{href:Bt(Ot,function(t){var e=x(this),n=String(t),r=_t(e,n);if(r)throw TypeError(r);_(e.searchParams).updateSearchParams(e.query)}),origin:Bt(At),protocol:Bt(Pt,function(t){var e=x(this);_t(e,String(t)+":",et)}),username:Bt(Et,function(t){var e=x(this),n=d(String(t));if(!J(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=$(n[r],W)}}),password:Bt(Rt,function(t){var e=x(this),n=d(String(t));if(!J(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=$(n[r],W)}}),host:Bt(Tt,function(t){var e=x(this);e.cannotBeABaseURL||_t(e,String(t),ft)}),hostname:Bt(jt,function(t){var e=x(this);e.cannotBeABaseURL||_t(e,String(t),ht)}),port:Bt(Ct,function(t){var e=x(this);J(e)||(""==(t=String(t))?e.port=null:_t(e,t,pt))}),pathname:Bt(It,function(t){var e=x(this);e.cannotBeABaseURL||(e.path=[],_t(e,t+"",vt))}),search:Bt(Mt,function(t){var e=x(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",_t(e,t,wt)),_(e.searchParams).updateSearchParams(e.query)}),searchParams:Bt(Dt),hash:Bt(Nt,function(t){var e=x(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",_t(e,t,kt)):e.fragment=null})}),l(xt,"toJSON",function(){return Ot.call(this)},{enumerable:!0}),l(xt,"toString",function(){return Ot.call(this)},{enumerable:!0}),w){var zt=w.createObjectURL,Lt=w.revokeObjectURL;zt&&l(St,"createObjectURL",function(t){return zt.apply(w,arguments)}),Lt&&l(St,"revokeObjectURL",function(t){return Lt.apply(w,arguments)})}v(St,"URL"),i({global:!0,forced:!c,sham:!a},{URL:St})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,c=String.fromCharCode,u=function(t){return t+22+75*(t<26)},s=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},l=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,l=128,f=0,h=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(c(n));var p=r.length,d=p;for(p&&r.push("-");d<o;){var y=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<y&&(y=n);var m=d+1;if(y-l>a((2147483647-f)/m))throw RangeError(i);for(f+=(y-l)*m,l=y,e=0;e<t.length;e++){if((n=t[e])<l&&++f>2147483647)throw RangeError(i);if(n==l){for(var v=f,b=36;;b+=36){var g=b<=h?1:b>=h+26?26:b-h;if(v<g)break;var w=v-g,k=36-g;r.push(c(u(g+w%k))),v=a(w/k)}r.push(c(u(v))),h=s(f,m,d==p),f=0,++d}}++f,++l}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(t,e,n){var r=n(6),o=n(67);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";n(1)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function p(){}function d(){}var y={};y[i]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(O([])));v&&v!==n&&r.call(v,i)&&(y=v);var b=d.prototype=h.prototype=Object.create(y);function g(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function w(t,n){var o;this._invoke=function(i,a){function c(){return new n(function(o,c){!function o(i,a,c,u){var s=l(t[i],t,a);if("throw"!==s.type){var f=s.arg,h=f.value;return h&&"object"===e(h)&&r.call(h,"__await")?n.resolve(h.__await).then(function(t){o("next",t,c,u)},function(t){o("throw",t,c,u)}):n.resolve(h).then(function(t){f.value=t,c(f)},function(t){return o("throw",t,c,u)})}u(s.arg)}(i,a,o,c)})}return o=o?o.then(c,c):c()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=b.constructor=d,d.constructor=p,p.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(w.prototype),w.prototype[a]=function(){return this},t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},g(b),u(b,c,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=O,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:O(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(118)(t))},function(t,e,n){var r=n(4),o=n(387);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,n){var r=n(4),o=n(389);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,n){var r=n(4),o=n(391);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size) + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(-2*var(--ck-tooltip-arrow-size))}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(-2*var(--ck-tooltip-arrow-size))}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(-1*var(--ck-tooltip-arrow-size));top:calc(50% - 1*var(--ck-tooltip-arrow-size));border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - 1*var(--ck-tooltip-arrow-size));border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}'},function(t,e,n){var r=n(4),o=n(393);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var r=n(4),o=n(395);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(t,e,n){var r=n(4),o=n(397);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(t,e,n){var r=n(4),o=n(399);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:"";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}'},function(t,e,n){var r=n(4),o=n(401);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(t,e,n){var r=n(4),o=n(403);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(t,e,n){var r=n(4),o=n(405);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var r=n(4),o=n(407);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var r=n(4),o=n(409);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var r=n(4),o=n(411);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var r=n(4),o=n(413);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var r=n(4),o=n(415);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(t,e,n){var r=n(4),o=n(417);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var r=n(4),o=n(419);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(0.5*var(--ck-font-size-tiny));line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(0.6*var(--ck-font-size-base))) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(-1*var(--ck-spacing-medium)),calc(0.6*var(--ck-font-size-base))) scale(1)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}"},function(t,e,n){var r=n(4),o=n(421);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,n){var r=n(4),o=n(423);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(t,e,n){var r=n(4),o=n(425);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(t,e,n){var r=n(4),o=n(427);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var r=n(4),o=n(429);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}"},function(t,e,n){var r=n(4),o=n(431);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,n){var r=n(4),o=n(433);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(t,e,n){var r=n(4),o=n(435);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck-content pre{padding:1em;color:#353535;background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;text-align:left;direction:ltr;tab-size:4;white-space:pre-wrap;font-style:normal;min-width:200px}.ck-content pre code{background:unset;padding:0;border-radius:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{top:-1px;right:10px;background:var(--ck-color-code-block-label-background);font-size:10px;font-family:var(--ck-font-face);line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);color:#fff;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-y:auto;overflow-x:hidden}"},function(t,e,n){var r=n(4),o=n(437);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(-1*var(--ck-widget-outline-thickness));right:calc(-1*var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(-1*var(--ck-widget-outline-thickness) - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(t,e,n){var r=n(4),o=n(439);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height)*-1);left:50%;transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(t,e,n){var r=n(4),o=n(441);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(-0.5*var(--ck-clipboard-drop-target-dot-height));top:calc(-0.5*var(--ck-clipboard-drop-target-dot-height));border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(0.5*var(--ck-clipboard-drop-target-dot-width)) solid transparent;border-bottom:0 solid transparent;border-right:calc(0.5*var(--ck-clipboard-drop-target-dot-width)) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}'},function(t,e,n){var r=n(4),o=n(443);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}"},function(t,e,n){var r=n(4),o=n(445);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}"},function(t,e,n){var r=n(4),o=n(447);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}'},function(t,e){t.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}"},function(t,e,n){var r=n(4),o=n(450);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:hsl(52deg 100% 50%)}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}"},function(t,e,n){var r=n(4),o=n(452);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}"},function(t,e,n){var r=n(4),o=n(454);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var r=n(4),o=n(456);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px*var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var r=n(4),o=n(458);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e,n){var r=n(4),o=n(460);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var r=n(4),o=n(462);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(t,e,n){var r=n(4),o=n(464);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(t,e,n){var r=n(4),o=n(466);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};r(o,i);t.exports=o.locals||{}},function(t,e){t.exports=".ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}"},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,c,u=1,s={},l=!1,f=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){i.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",c=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",c,!1):t.attachEvent("onmessage",c),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return s[u]=o,r(u),u++},h.clearImmediate=p}function p(t){delete s[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=s[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(46),n(468))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,s=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&p())}function p(){if(!l){var t=c(h);l=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new d(t,e)),1!==s.length||l||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(195),n(196),n(197),n(75),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(156),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(157),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(384),n(164),n(385);var r=function(){return function t(){t.called=!0}};var o=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.source=e,this.name=n,this.path=[],this.stop=r(),this.off=r()},i=new Array(256).fill().map(function(t,e){return("0"+e.toString(16)).slice(-2)});function a(){var t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+i[t>>0&255]+i[t>>8&255]+i[t>>16&255]+i[t>>24&255]+i[e>>0&255]+i[e>>8&255]+i[e>>16&255]+i[e>>24&255]+i[n>>0&255]+i[n>>8&255]+i[n>>16&255]+i[n>>24&255]+i[r>>0&255]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]}var c={get:function(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},u=(n(52),n(0));function s(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function h(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=Symbol("listeningTo"),y=Symbol("emitterId"),m={on:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,t,e,n)},once:function(t,e,n){var r=!1;this.listenTo(this,t,function(t){if(!r){r=!0,t.off();for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.call.apply(e,[this,t].concat(o))}},n)},off:function(t,e){this.stopListening(this,t,e)},listenTo:function(t,e,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[d]||(this[d]={});var a=this[d];b(t)||v(t);var c=b(t);(r=a[c])||(r=a[c]={emitter:t,callbacks:{}}),(o=r.callbacks[e])||(o=r.callbacks[e]=[]),o.push(n),S(this,t,e,n,i)},stopListening:function(t,e,n){var r=this[d],o=t&&b(t),i=r&&o&&r[o],a=i&&e&&i.callbacks[e];if(!(!r||t&&!i||e&&!a))if(n)x(this,t,e,n),-1!==a.indexOf(n)&&(1===a.length?delete i.callbacks[e]:x(this,t,e,n));else if(a){for(;n=a.pop();)x(this,t,e,n);delete i.callbacks[e]}else if(i){for(e in i.callbacks)this.stopListening(t,e);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[d]}},fire:function(t){try{var e=t instanceof o?t:new o(this,t),n=e.name,r=k(this,n);e.path.push(this);for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];if(r){var s=[e].concat(a);r=Array.from(r);for(var l=0;l<r.length&&(r[l].callback.apply(this,s),e.off.called&&(delete e.off.called,this._removeEventListener(n,r[l].callback)),!e.stop.called);l++);}if(this._delegations){var f=this._delegations.get(n),h=this._delegations.get("*");f&&_(f,e,a),h&&_(h,e,a)}return e.return}catch(t){u.a.rethrowUnexpectedError(t,this)}},delegate:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return{to:function(e,r){t._delegations||(t._delegations=new Map),n.forEach(function(n){var o=t._delegations.get(n);o?o.set(e,r):t._delegations.set(n,new Map([[e,r]]))})}}},stopDelegating:function(t,e){if(this._delegations)if(t)if(e){var n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()},_addEventListener:function(t,e,n){!function(t,e){var n=g(t);if(n[e])return;var r=e,o=null,i=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){var a,c=f(i);try{for(c.s();!(a=c.n()).done;){a.value.callbacks=n[r].callbacks.slice()}}catch(t){c.e(t)}finally{c.f()}n[r].childEvents.push(o)}}(this,t);var r,o=w(this,t),i=c.get(n.priority),a={callback:e,priority:i},u=f(o);try{for(u.s();!(r=u.n()).done;){for(var s=r.value,l=!1,h=0;h<s.length;h++)if(s[h].priority<i){s.splice(h,0,a),l=!0;break}l||s.push(a)}}catch(t){u.e(t)}finally{u.f()}},_removeEventListener:function(t,e){var n,r=f(w(this,t));try{for(r.s();!(n=r.n()).done;)for(var o=n.value,i=0;i<o.length;i++)o[i].callback==e&&(o.splice(i,1),i--)}catch(t){r.e(t)}finally{r.f()}}};function v(t,e){t[y]||(t[y]=e||a())}function b(t){return t[y]}function g(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function w(t,e){var n=g(t)[e];if(!n)return[];for(var r=[n.callbacks],o=0;o<n.childEvents.length;o++){var i=w(t,n.childEvents[o]);r=r.concat(i)}return r}function k(t,e){var n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?k(t,e.substr(0,e.lastIndexOf(":"))):null}function _(t,e,n){var r,i=f(t);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),c=a[0],u=a[1];u?"function"==typeof u&&(u=u(e.name)):u=e.name;var h=new o(e.source,u);h.path=s(e.path),c.fire.apply(c,[h].concat(s(n)))}}catch(t){i.e(t)}finally{i.f()}}function S(t,e,n,r,o){e._addEventListener?e._addEventListener(n,r,o):t._addEventListener.call(e,n,r,o)}function x(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var A=function(t){var e=O(t);return null!=t&&("object"==e||"function"==e)},P=n(15),E=P.a.Symbol,R=Object.prototype,T=R.hasOwnProperty,j=R.toString,C=E?E.toStringTag:void 0;var I=function(t){var e=T.call(t,C),n=t[C];try{t[C]=void 0;var r=!0}catch(t){}var o=j.call(t);return r&&(e?t[C]=n:delete t[C]),o},M=Object.prototype.toString;var D=function(t){return M.call(t)},N=E?E.toStringTag:void 0;var B=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":N&&N in Object(t)?I(t):D(t)};var z,L=function(t){if(!A(t))return!1;var e=B(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},F=P.a["__core-js_shared__"],V=(z=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var q=function(t){return!!V&&V in t},U=Function.prototype.toString;var H=function(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""},W=/^\[object .+?Constructor\]$/,$=Function.prototype,G=Object.prototype,K=$.toString,Y=G.hasOwnProperty,J=RegExp("^"+K.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var X=function(t){return!(!A(t)||q(t))&&(L(t)?J:W).test(H(t))};var Z=function(t,e){return null==t?void 0:t[e]};var Q=function(t,e){var n=Z(t,e);return X(n)?n:void 0},tt=function(){try{var t=Q(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var et=function(t,e,n){"__proto__"==e&&tt?tt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var nt=function(t,e){return t===e||t!=t&&e!=e},rt=Object.prototype.hasOwnProperty;var ot=function(t,e,n){var r=t[e];rt.call(t,e)&&nt(r,n)&&(void 0!==n||e in t)||et(t,e,n)};var it=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=r?r(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),o?et(n,c,u):ot(n,c,u)}return n};var at=function(t){return t};var ct=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},ut=Math.max;var st=function(t,e,n){return e=ut(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=ut(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(a),ct(t,this,c)}};var lt=function(t){return function(){return t}},ft=tt?function(t,e){return tt(t,"toString",{configurable:!0,enumerable:!1,value:lt(e),writable:!0})}:at,ht=Date.now;var pt=function(t){var e=0,n=0;return function(){var r=ht(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ft);var dt=function(t,e){return pt(st(t,e,at),t+"")};var yt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var mt=function(t){return null!=t&&yt(t.length)&&!L(t)};function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bt=/^(?:0|[1-9]\d*)$/;var gt=function(t,e){var n=vt(t);return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&bt.test(t))&&t>-1&&t%1==0&&t<e};function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var kt=function(t,e,n){if(!A(n))return!1;var r=wt(e);return!!("number"==r?mt(n)&&gt(e,n.length):"string"==r&&e in n)&&nt(n[e],t)};var _t=function(t){return dt(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&kt(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var c=n[r];c&&t(e,c,r,i)}return e})};var St=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ot=function(t){return null!=t&&"object"==xt(t)};var At=function(t){return Ot(t)&&"[object Arguments]"==B(t)},Pt=Object.prototype,Et=Pt.hasOwnProperty,Rt=Pt.propertyIsEnumerable,Tt=At(function(){return arguments}())?At:function(t){return Ot(t)&&Et.call(t,"callee")&&!Rt.call(t,"callee")},jt=Array.isArray,Ct=n(37),It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;var Mt=function(t){return Ot(t)&&yt(t.length)&&!!It[B(t)]};var Dt=function(t){return function(e){return t(e)}},Nt=n(38),Bt=Nt.a&&Nt.a.isTypedArray,zt=Bt?Dt(Bt):Mt,Lt=Object.prototype.hasOwnProperty;var Ft=function(t,e){var n=jt(t),r=!n&&Tt(t),o=!n&&!r&&Object(Ct.a)(t),i=!n&&!r&&!o&&zt(t),a=n||r||o||i,c=a?St(t.length,String):[],u=c.length;for(var s in t)!e&&!Lt.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||gt(s,u))||c.push(s);return c},Vt=Object.prototype;var qt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Vt)};var Ut=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ht=Object.prototype.hasOwnProperty;var Wt=function(t){if(!A(t))return Ut(t);var e=qt(t),n=[];for(var r in t)("constructor"!=r||!e&&Ht.call(t,r))&&n.push(r);return n};var $t=function(t){return mt(t)?Ft(t,!0):Wt(t)},Gt=_t(function(t,e){it(e,$t(e),t)});function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yt(t){return function(t){if(Array.isArray(t))return Xt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Jt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(t,e){if(t){if("string"==typeof t)return Xt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xt(t,e):void 0}}function Xt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zt=Symbol("observableProperties"),Qt=Symbol("boundObservables"),te=Symbol("boundProperties"),ee=Symbol("decoratedMethods"),ne=Symbol("decoratedOriginal"),re={set:function(t,e){var n=this;if(A(t))Object.keys(t).forEach(function(e){n.set(e,t[e])},this);else{ie(this);var r=this[Zt];if(t in this&&!r.has(t))throw new u.a("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:function(){return r.get(t)},set:function(e){var n=r.get(t),o=this.fire("set:"+t,t,e,n);void 0===o&&(o=e),n===o&&r.has(t)||(r.set(t,o),this.fire("change:"+t,t,o,n))}}),this[t]=e}},bind:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!ue(n))throw new u.a("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new u.a("observable-bind-duplicate-properties",this);ie(this);var o=this[te];n.forEach(function(e){if(o.has(e))throw new u.a("observable-bind-rebind",t)});var i=new Map;return n.forEach(function(t){var e={property:t,to:[]};o.set(t,e),i.set(t,e)}),{to:ae,toMany:ce,_observable:this,_bindProperties:n,_to:[],_bindings:i}},unbind:function(){var t=this;if(this[Zt]){for(var e=this[te],n=this[Qt],r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];if(o.length){if(!ue(o))throw new u.a("observable-unbind-wrong-properties",this);o.forEach(function(r){var o,i,a,c,u=e.get(r);u&&(u.to.forEach(function(e){o=e[0],i=e[1],a=n.get(o),(c=a[i]).delete(u),c.size||delete a[i],Object.keys(a).length||(n.delete(o),t.stopListening(o,"change"))}),e.delete(r))})}else n.forEach(function(e,n){t.stopListening(n,"change")}),n.clear(),e.clear()}},decorate:function(t){var e=this,n=this[t];if(!n)throw new u.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,function(t,r){t.return=n.apply(e,r)}),this[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.fire(t,n)},this[t][ne]=n,this[ee]||(this[ee]=[]),this[ee].push(t)}};Gt(re,m),re.stopListening=function(t,e,n){if(!t&&this[ee]){var r,o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(this[ee]);try{for(o.s();!(r=o.n()).done;){var i=r.value;this[i]=this[i][ne]}}catch(t){o.e(t)}finally{o.f()}delete this[ee]}m.stopListening.call(this,t,e,n)};var oe=re;function ie(t){t[Zt]||(Object.defineProperty(t,Zt,{value:new Map}),Object.defineProperty(t,Qt,{value:new Map}),Object.defineProperty(t,te,{value:new Map}))}function ae(){var t=this,e=se.apply(void 0,arguments),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new u.a("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new u.a("observable-bind-to-extra-callback",this);e.to.forEach(function(e){if(e.properties.length&&e.properties.length!==r)throw new u.a("observable-bind-to-properties-length",t);e.properties.length||(e.properties=t._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),he(this._observable,this._to),le(this),this._bindProperties.forEach(function(e){fe(t._observable,e)})}function ce(t,e,n){if(this._bindings.size>1)throw new u.a("observable-bind-to-many-not-one-binding",this);this.to.apply(this,Yt(function(t,e){var n=t.map(function(t){return[t,e]});return Array.prototype.concat.apply([],n)}(t,e)).concat([n]))}function ue(t){return t.every(function(t){return"string"==typeof t})}function se(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)throw new u.a("observable-bind-to-parse-error",null);var r,o={to:[]};return"function"==typeof e[e.length-1]&&(o.callback=e.pop()),e.forEach(function(t){if("string"==typeof t)r.properties.push(t);else{if("object"!=Kt(t))throw new u.a("observable-bind-to-parse-error",null);r={observable:t,properties:[]},o.to.push(r)}}),o}function le(t){var e;t._bindings.forEach(function(n,r){t._to.forEach(function(o){e=o.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([o.observable,e]),function(t,e,n,r){var o=t[Qt],i=o.get(n),a=i||{};a[r]||(a[r]=new Set),a[r].add(e),i||o.set(n,a)}(t._observable,n,o.observable,e)})})}function fe(t,e){var n,r=t[te].get(e);n=r.callback?r.callback.apply(t,r.to.map(function(t){return t[0][t[1]]})):(n=r.to[0])[0][n[1]],Object.prototype.hasOwnProperty.call(t,e)?t[e]=n:t.set(e,n)}function he(t,e){e.forEach(function(e){var n,r=t[Qt];r.get(e.observable)||t.listenTo(e.observable,"change",function(o,i){(n=r.get(e.observable)[i])&&n.forEach(function(e){fe(t,e.property)})})})}function pe(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach(function(e){Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(function(n){if(!(n in t.prototype)){var r=Object.getOwnPropertyDescriptor(e,n);r.enumerable=!1,Object.defineProperty(t.prototype,n,r)}})})}function de(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ye=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}var e,n,r;return e=t,r=[{key:"isContextPlugin",get:function(){return!1}}],(n=[{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",me,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",me),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}])&&de(e.prototype,n),r&&de(e,r),t}();function me(t){t.return=!1,t.stop()}function ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(ye,oe);var be=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){n.refresh()}),this.on("execute",function(t){n.isEnabled||t.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",function(t,e,r){r?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")})}var e,n,r;return e=t,(n=[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",ge,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",ge),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}])&&ve(e.prototype,n),r&&ve(e,r),t}();function ge(t){t.return=!1,t.stop()}function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Oe(t);if(e){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(t,e){return!e||"object"!==we(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(be,oe);var Ae=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,n,r,o=Se(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._childCommands=[],e}return e=i,(n=[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var t=this._getFirstEnabledCommand(),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null!=t&&t.execute(n)}},{key:"registerChildCommand",value:function(t){var e=this;this._childCommands.push(t),t.on("change:isEnabled",function(){return e._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find(function(t){return t.isEnabled})}}])&&ke(e.prototype,n),r&&ke(e,r),i}(be);var Pe=function(t,e){return function(n){return t(e(n))}},Ee=Pe(Object.getPrototypeOf,Object),Re=Function.prototype,Te=Object.prototype,je=Re.toString,Ce=Te.hasOwnProperty,Ie=je.call(Object);var Me=function(t){if(!Ot(t)||"[object Object]"!=B(t))return!1;var e=Ee(t);if(null===e)return!0;var n=Ce.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&je.call(n)==Ie};var De=function(){this.__data__=[],this.size=0};var Ne=function(t,e){for(var n=t.length;n--;)if(nt(t[n][0],e))return n;return-1},Be=Array.prototype.splice;var ze=function(t){var e=this.__data__,n=Ne(e,t);return!(n<0)&&(n==e.length-1?e.pop():Be.call(e,n,1),--this.size,!0)};var Le=function(t){var e=this.__data__,n=Ne(e,t);return n<0?void 0:e[n][1]};var Fe=function(t){return Ne(this.__data__,t)>-1};var Ve=function(t,e){var n=this.__data__,r=Ne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function qe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}qe.prototype.clear=De,qe.prototype.delete=ze,qe.prototype.get=Le,qe.prototype.has=Fe,qe.prototype.set=Ve;var Ue=qe;var He=function(){this.__data__=new Ue,this.size=0};var We=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var $e=function(t){return this.__data__.get(t)};var Ge=function(t){return this.__data__.has(t)},Ke=Q(P.a,"Map"),Ye=Q(Object,"create");var Je=function(){this.__data__=Ye?Ye(null):{},this.size=0};var Xe=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ze=Object.prototype.hasOwnProperty;var Qe=function(t){var e=this.__data__;if(Ye){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ze.call(e,t)?e[t]:void 0},tn=Object.prototype.hasOwnProperty;var en=function(t){var e=this.__data__;return Ye?void 0!==e[t]:tn.call(e,t)};var nn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ye&&void 0===e?"__lodash_hash_undefined__":e,this};function rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rn.prototype.clear=Je,rn.prototype.delete=Xe,rn.prototype.get=Qe,rn.prototype.has=en,rn.prototype.set=nn;var on=rn;var an=function(){this.size=0,this.__data__={hash:new on,map:new(Ke||Ue),string:new on}};function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var un=function(t){var e=cn(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var sn=function(t,e){var n=t.__data__;return un(e)?n["string"==typeof e?"string":"hash"]:n.map};var ln=function(t){var e=sn(this,t).delete(t);return this.size-=e?1:0,e};var fn=function(t){return sn(this,t).get(t)};var hn=function(t){return sn(this,t).has(t)};var pn=function(t,e){var n=sn(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}dn.prototype.clear=an,dn.prototype.delete=ln,dn.prototype.get=fn,dn.prototype.has=hn,dn.prototype.set=pn;var yn=dn;var mn=function(t,e){var n=this.__data__;if(n instanceof Ue){var r=n.__data__;if(!Ke||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yn(r)}return n.set(t,e),this.size=n.size,this};function vn(t){var e=this.__data__=new Ue(t);this.size=e.size}vn.prototype.clear=He,vn.prototype.delete=We,vn.prototype.get=$e,vn.prototype.has=Ge,vn.prototype.set=mn;var bn=vn;var gn=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},wn=Pe(Object.keys,Object),kn=Object.prototype.hasOwnProperty;var _n=function(t){if(!qt(t))return wn(t);var e=[];for(var n in Object(t))kn.call(t,n)&&"constructor"!=n&&e.push(n);return e};var Sn=function(t){return mt(t)?Ft(t):_n(t)};var xn=function(t,e){return t&&it(e,Sn(e),t)};var On=function(t,e){return t&&it(e,$t(e),t)},An=n(89);var Pn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var En=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i};var Rn=function(){return[]},Tn=Object.prototype.propertyIsEnumerable,jn=Object.getOwnPropertySymbols,Cn=jn?function(t){return null==t?[]:(t=Object(t),En(jn(t),function(e){return Tn.call(t,e)}))}:Rn;var In=function(t,e){return it(t,Cn(t),e)};var Mn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},Dn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Mn(e,Cn(t)),t=Ee(t);return e}:Rn;var Nn=function(t,e){return it(t,Dn(t),e)};var Bn=function(t,e,n){var r=e(t);return jt(t)?r:Mn(r,n(t))};var zn=function(t){return Bn(t,Sn,Cn)};var Ln=function(t){return Bn(t,$t,Dn)},Fn=Q(P.a,"DataView"),Vn=Q(P.a,"Promise"),qn=Q(P.a,"Set"),Un=Q(P.a,"WeakMap"),Hn=H(Fn),Wn=H(Ke),$n=H(Vn),Gn=H(qn),Kn=H(Un),Yn=B;(Fn&&"[object DataView]"!=Yn(new Fn(new ArrayBuffer(1)))||Ke&&"[object Map]"!=Yn(new Ke)||Vn&&"[object Promise]"!=Yn(Vn.resolve())||qn&&"[object Set]"!=Yn(new qn)||Un&&"[object WeakMap]"!=Yn(new Un))&&(Yn=function(t){var e=B(t),n="[object Object]"==e?t.constructor:void 0,r=n?H(n):"";if(r)switch(r){case Hn:return"[object DataView]";case Wn:return"[object Map]";case $n:return"[object Promise]";case Gn:return"[object Set]";case Kn:return"[object WeakMap]"}return e});var Jn=Yn,Xn=Object.prototype.hasOwnProperty;var Zn=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Xn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Qn=P.a.Uint8Array;var tr=function(t){var e=new t.constructor(t.byteLength);return new Qn(e).set(new Qn(t)),e};var er=function(t,e){var n=e?tr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},nr=/\w*$/;var rr=function(t){var e=new t.constructor(t.source,nr.exec(t));return e.lastIndex=t.lastIndex,e},or=E?E.prototype:void 0,ir=or?or.valueOf:void 0;var ar=function(t){return ir?Object(ir.call(t)):{}};var cr=function(t,e){var n=e?tr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var ur=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return tr(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return er(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cr(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return rr(t);case"[object Set]":return new r;case"[object Symbol]":return ar(t)}},sr=Object.create,lr=function(){function t(){}return function(e){if(!A(e))return{};if(sr)return sr(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var fr=function(t){return"function"!=typeof t.constructor||qt(t)?{}:lr(Ee(t))};var hr=function(t){return Ot(t)&&"[object Map]"==Jn(t)},pr=Nt.a&&Nt.a.isMap,dr=pr?Dt(pr):hr;var yr=function(t){return Ot(t)&&"[object Set]"==Jn(t)},mr=Nt.a&&Nt.a.isSet,vr=mr?Dt(mr):yr,br={};br["[object Arguments]"]=br["[object Array]"]=br["[object ArrayBuffer]"]=br["[object DataView]"]=br["[object Boolean]"]=br["[object Date]"]=br["[object Float32Array]"]=br["[object Float64Array]"]=br["[object Int8Array]"]=br["[object Int16Array]"]=br["[object Int32Array]"]=br["[object Map]"]=br["[object Number]"]=br["[object Object]"]=br["[object RegExp]"]=br["[object Set]"]=br["[object String]"]=br["[object Symbol]"]=br["[object Uint8Array]"]=br["[object Uint8ClampedArray]"]=br["[object Uint16Array]"]=br["[object Uint32Array]"]=!0,br["[object Error]"]=br["[object Function]"]=br["[object WeakMap]"]=!1;var gr=function t(e,n,r,o,i,a){var c,u=1&n,s=2&n,l=4&n;if(r&&(c=i?r(e,o,i,a):r(e)),void 0!==c)return c;if(!A(e))return e;var f=jt(e);if(f){if(c=Zn(e),!u)return Pn(e,c)}else{var h=Jn(e),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Ct.a)(e))return Object(An.a)(e,u);if("[object Object]"==h||"[object Arguments]"==h||p&&!i){if(c=s||p?{}:fr(e),!u)return s?Nn(e,On(c,e)):In(e,xn(c,e))}else{if(!br[h])return i?e:{};c=ur(e,h,u)}}a||(a=new bn);var d=a.get(e);if(d)return d;a.set(e,c),vr(e)?e.forEach(function(o){c.add(t(o,n,r,o,e,a))}):dr(e)&&e.forEach(function(o,i){c.set(i,t(o,n,r,i,e,a))});var y=l?s?Ln:zn:s?keysIn:Sn,m=f?void 0:y(e);return gn(m||e,function(o,i){m&&(o=e[i=o]),ot(c,i,t(o,n,r,i,e,a))}),c};var wr=function(t,e){return gr(t,5,e="function"==typeof e?e:void 0)};var kr=function(t){return Ot(t)&&1===t.nodeType&&!Me(t)};function _r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Sr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sr(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Or=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config={},n&&this.define(Ar(n)),e&&this._setObjectToTarget(this._config,e)}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e){this._setToTarget(this._config,t,e)}},{key:"define",value:function(t,e){this._setToTarget(this._config,t,e,!0)}},{key:"get",value:function(t){return this._getFromSource(this._config,t)}},{key:"names",value:regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,n=Object.keys(this._config);case 1:if(!(e<n.length)){t.next=8;break}return r=n[e],t.next=5,r;case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)})},{key:"_setToTarget",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Me(e))this._setObjectToTarget(t,e,r);else{var o=e.split(".");e=o.pop();var i,a=_r(o);try{for(a.s();!(i=a.n()).done;){var c=i.value;Me(t[c])||(t[c]={}),t=t[c]}}catch(t){a.e(t)}finally{a.f()}if(Me(n))return Me(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,r);r&&void 0!==t[e]||(t[e]=n)}}},{key:"_getFromSource",value:function(t,e){var n=e.split(".");e=n.pop();var r,o=_r(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!Me(t[i])){t=null;break}t=t[i]}}catch(t){o.e(t)}finally{o.f()}return t?Ar(t[e]):void 0}},{key:"_setObjectToTarget",value:function(t,e,n){var r=this;Object.keys(e).forEach(function(o){r._setToTarget(t,o,e[o],n)})}}])&&xr(e.prototype,n),r&&xr(e,r),t}();function Ar(t){return wr(t,Pr)}function Pr(t){return kr(t)?t:void 0}function Er(t){return!(!t||!t[Symbol.iterator])}function Rr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||jr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=jr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function jr(t,e){if(t){if("string"==typeof t)return Cr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(t,e):void 0}}function Cr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ir(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ir(this,t);var r=Er(e);if(r||(n=e),this._items=[],this._itemMap=new Map,this._idProperty=n.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r){var o,i=Tr(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._items.push(a),this._itemMap.set(this._getItemIdBeforeAdding(a),a)}}catch(t){i.e(t)}finally{i.f()}}}var e,n,r;return e=t,(n=[{key:"add",value:function(t,e){return this.addMany([t],e)}},{key:"addMany",value:function(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new u.a("collection-add-item-invalid-index",this);for(var n=0;n<t.length;n++){var r=t[n],o=this._getItemIdBeforeAdding(r),i=e+n;this._items.splice(i,0,r),this._itemMap.set(o,r),this.fire("add",r,i)}return this.fire("change",{added:t,removed:[],index:e}),this}},{key:"get",value:function(t){var e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new u.a("collection-get-invalid-arg",this);e=this._items[t]}return e||null}},{key:"has",value:function(t){if("string"==typeof t)return this._itemMap.has(t);var e=t[this._idProperty];return this._itemMap.has(e)}},{key:"getIndex",value:function(t){var e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}},{key:"remove",value:function(t){var e=Rr(this._remove(t),2),n=e[0],r=e[1];return this.fire("change",{added:[],removed:[n],index:r}),n}},{key:"map",value:function(t,e){return this._items.map(t,e)}},{key:"find",value:function(t,e){return this._items.find(t,e)}},{key:"filter",value:function(t,e){return this._items.filter(t,e)}},{key:"clear",value:function(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);for(var t=Array.from(this._items);this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}},{key:"bindTo",value:function(t){var e=this;if(this._bindToCollection)throw new u.a("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:function(t){e._setUpBindToBinding(function(e){return new t(e)})},using:function(t){"function"==typeof t?e._setUpBindToBinding(function(e){return t(e)}):e._setUpBindToBinding(function(e){return e[t]})}}}},{key:"_setUpBindToBinding",value:function(t){var e,n=this,r=this._bindToCollection,o=function(e,o,i){var a=r._bindToCollection==n,c=r._bindToInternalToExternalMap.get(o);if(a&&c)n._bindToExternalToInternalMap.set(o,c),n._bindToInternalToExternalMap.set(c,o);else{var u=t(o);if(!u)return void n._skippedIndexesFromExternal.push(i);var s,l=i,f=Tr(n._skippedIndexesFromExternal);try{for(f.s();!(s=f.n()).done;)i>s.value&&l--}catch(t){f.e(t)}finally{f.f()}var h,p=Tr(r._skippedIndexesFromExternal);try{for(p.s();!(h=p.n()).done;)l>=h.value&&l++}catch(t){p.e(t)}finally{p.f()}n._bindToExternalToInternalMap.set(o,u),n._bindToInternalToExternalMap.set(u,o),n.add(u,l);for(var d=0;d<r._skippedIndexesFromExternal.length;d++)l<=r._skippedIndexesFromExternal[d]&&r._skippedIndexesFromExternal[d]++}},i=Tr(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;o(0,a,r.getIndex(a))}}catch(t){i.e(t)}finally{i.f()}this.listenTo(r,"add",o),this.listenTo(r,"remove",function(t,e,r){var o=n._bindToExternalToInternalMap.get(e);o&&n.remove(o),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce(function(t,e){return r<e&&t.push(e-1),r>e&&t.push(e),t},[])})}},{key:"_getItemIdBeforeAdding",value:function(t){var e,n=this._idProperty;if(n in t){if("string"!=typeof(e=t[n]))throw new u.a("collection-add-invalid-id",this);if(this.get(e))throw new u.a("collection-add-item-already-exists",this)}else t[n]=e=a();return e}},{key:"_remove",value:function(t){var e,n,r,o=!1,i=this._idProperty;if("string"==typeof t?(n=t,o=!(r=this._itemMap.get(n)),r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,o=!(r=this._items[e]),r&&(n=r[i])):(n=(r=t)[i],o=-1==(e=this._items.indexOf(r))||!this._itemMap.get(n)),o)throw new u.a("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);var a=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(a),this.fire("remove",r,e),[r,e]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}])&&Mr(e.prototype,n),r&&Mr(e,r),t}();function Nr(t){return function(t){if(Array.isArray(t))return Fr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Lr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Lr(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Lr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Lr(t,e){if(t){if("string"==typeof t)return Fr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fr(t,e):void 0}}function Fr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Dr,m);var Ur=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Vr(this,t),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;var o,i=zr(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.pluginName&&this._availablePlugins.set(a.pluginName,a)}}catch(t){i.e(t)}finally{i.f()}this._contextPlugins=new Map;var c,u=zr(r);try{for(u.s();!(c=u.n()).done;){var s=Br(c.value,2),l=s[0],f=s[1];this._contextPlugins.set(l,f),this._contextPlugins.set(f,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}}catch(t){u.e(t)}finally{u.f()}}var e,n,r;return e=t,(n=[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=zr(this._plugins),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=10;break}if("function"!=typeof(r=n.value)[0]){t.next=8;break}return t.next=8,r;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[1,12,15,18]])})},{key:"get",value:function(t){var e=this._plugins.get(t);if(!e){var n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new u.a("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}},{key:"has",value:function(t){return this._plugins.has(t)}},{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this,o=this._context;p(t),y(t);var i=t.filter(function(t){return!f(t,e)}),a=Nr(d(i));k(a,n);var c=g(a);return w(c,"init").then(function(){return w(c,"afterInit")}).then(function(){return c});function s(t){return"function"==typeof t}function l(t){return s(t)&&t.isContextPlugin}function f(t,e){return e.some(function(e){return e===t||h(t)===e||h(e)===t})}function h(t){return s(t)?t.pluginName||t.name:t}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;t.forEach(function(t){s(t)&&(e.has(t)||(e.add(t),t.pluginName&&!r._availablePlugins.has(t.pluginName)&&r._availablePlugins.set(t.pluginName,t),t.requires&&p(t.requires,e)))})}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.map(function(t){return s(t)?t:r._availablePlugins.get(t)}).reduce(function(t,n){return e.has(n)?t:(e.add(n),n.requires&&(y(n.requires,n),d(n.requires,e).forEach(function(e){return t.add(e)})),t.add(n))},new Set)}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.map(function(t){return s(t)?t:r._availablePlugins.get(t)||t}).forEach(function(t){m(t,e),v(t,e),b(t,e)})}function m(t,e){if(!s(t)){if(e)throw new u.a("plugincollection-soft-required",o,{missingPlugin:t,requiredBy:h(e)});throw new u.a("plugincollection-plugin-not-found",o,{plugin:t})}}function v(t,e){if(l(e)&&!l(t))throw new u.a("plugincollection-context-required",o,{plugin:h(t),requiredBy:h(e)})}function b(t,n){if(n&&f(t,e))throw new u.a("plugincollection-required",o,{plugin:h(t),requiredBy:h(n)})}function g(t){return t.map(function(t){var e=r._contextPlugins.get(t)||new t(o);return r._add(t,e),e})}function w(t,e){return t.reduce(function(t,n){return n[e]?r._contextPlugins.has(n)?t:t.then(n[e].bind(n)):t},Promise.resolve())}function k(t,e){var n,o=zr(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("function"!=typeof i)throw new u.a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:i});var a=i.pluginName;if(!a)throw new u.a("plugincollection-replace-plugin-missing-name",null,{pluginItem:i});if(i.requires&&i.requires.length)throw new u.a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:a});var c=r._availablePlugins.get(a);if(!c)throw new u.a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:a});var s=t.indexOf(c);if(-1===s){if(r._contextPlugins.has(c))return;throw new u.a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:a})}if(c.requires&&c.requires.length)throw new u.a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:a});t.splice(s,1,i),r._availablePlugins.set(a,i)}}catch(t){o.e(t)}finally{o.f()}}}},{key:"destroy",value:function(){var t,e=[],n=zr(this);try{for(n.s();!(t=n.n()).done;){var r=Br(t.value,2)[1];"function"!=typeof r.destroy||this._contextPlugins.has(r)||e.push(r.destroy())}}catch(t){n.e(t)}finally{n.f()}return Promise.all(e)}},{key:"_add",value:function(t,e){this._plugins.set(t,e);var n=t.pluginName;if(n){if(this._plugins.has(n))throw new u.a("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}])&&qr(e.prototype,n),r&&qr(e,r),t}();function Hr(t){return Array.isArray(t)?t:[t]}function Wr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof n)throw new u.a("translation-service-quantity-not-a-number",null,{quantity:n});var r=Gr();1===r&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var o=e.id||e.string;if(0===r||!$r(t,o))return 1!==n?e.plural:e.string;var i=window.CKEDITOR_TRANSLATIONS[t].dictionary,a=window.CKEDITOR_TRANSLATIONS[t].getPluralForm||function(t){return 1===t?0:1};if("string"==typeof i[o])return i[o];var c=Number(a(n));return i[o][c]}function $r(t,e){return!!window.CKEDITOR_TRANSLATIONS[t]&&!!window.CKEDITOR_TRANSLATIONS[t].dictionary[e]}function Gr(){return Object.keys(window.CKEDITOR_TRANSLATIONS).length}pe(Ur,m),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var Kr=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function Yr(t){return Kr.includes(t)?"rtl":"ltr"}function Jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Zr=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jr(this,t),this.uiLanguage=n.uiLanguage||"en",this.contentLanguage=n.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Yr(this.uiLanguage),this.contentLanguageDirection=Yr(this.contentLanguage),this.t=function(t,n){return e._t(t,n)}}var e,n,r;return e=t,(n=[{key:"_t",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=Hr(e),"string"==typeof t&&(t={string:t});var n=!!t.plural,r=n?e[0]:1,o=Wr(this.uiLanguage,t,r);return Qr(o,e)}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}])&&Xr(e.prototype,n),r&&Xr(e,r),t}();function Qr(t,e){return t.replace(/%(\d+)/g,function(t,n){return n<e.length?e[n]:t})}function to(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return eo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function no(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ro=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=new Or(e,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new Ur(this,n);var r=this.config.get("language")||{};this.locale=new Zr({uiLanguage:"string"==typeof r?r:r.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Dr,this._contextOwner=null}var e,n,r;return e=t,r=[{key:"create",value:function(t){var e=this;return new Promise(function(n){var r=new e(t);n(r.initPlugins().then(function(){return r}))})}}],(n=[{key:"initPlugins",value:function(){var t,e=this.config.get("plugins")||[],n=this.config.get("substitutePlugins")||[],r=to(e.concat(n));try{for(r.s();!(t=r.n()).done;){var o=t.value;if("function"!=typeof o)throw new u.a("context-initplugins-constructor-only",null,{Plugin:o});if(!0!==o.isContextPlugin)throw new u.a("context-initplugins-invalid-plugin",null,{Plugin:o})}}catch(t){r.e(t)}finally{r.f()}return this.plugins.init(e,[],n)}},{key:"destroy",value:function(){var t=this;return Promise.all(Array.from(this.editors,function(t){return t.destroy()})).then(function(){return t.plugins.destroy()})}},{key:"_addEditor",value:function(t,e){if(this._contextOwner)throw new u.a("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}},{key:"_removeEditor",value:function(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var t,e={},n=to(this.config.names());try{for(n.s();!(t=n.n()).done;){var r=t.value;["plugins","removePlugins","extraPlugins"].includes(r)||(e[r]=this.config.get(r))}}catch(t){n.e(t)}finally{n.f()}return e}}])&&no(e.prototype,n),r&&no(e,r),t}();function oo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var io=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e}var e,n,r;return e=t,r=[{key:"isContextPlugin",get:function(){return!0}}],(n=[{key:"destroy",value:function(){this.stopListening()}}])&&oo(e.prototype,n),r&&oo(e,r),t}();function ao(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++)if(t[r]!=e[r])return r;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}pe(io,oe);var co=function(t){return gr(t,4)};function uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var so=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e,this.parent=null}var e,n,r;return e=t,(n=[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var t=[],e=this;e.parent;)t.unshift(e.index),e=e.parent;return t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),r=t.getAncestors(e),o=0;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),r=ao(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}},{key:"isAfter",value:function(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}},{key:"toJSON",value:function(){var t=co(this);return delete t.parent,t}},{key:"is",value:function(t){return"node"===t||"view:node"===t}},{key:"index",get:function(){var t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new u.a("view-node-not-found-in-parent",this);return t}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}}])&&uo(e.prototype,n),r&&uo(e,r),t}();function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ho(t,e){return(ho=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=mo(t);if(e){var o=mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yo(this,n)}}function yo(t,e){return!e||"object"!==lo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mo(t){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(so,m);var vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ho(t,e)}(i,t);var e,n,r,o=po(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t))._textData=e,n}return e=i,(n=[{key:"is",value:function(t){return"$text"===t||"view:$text"===t||"text"===t||"view:text"===t||"node"===t||"view:node"===t}},{key:"isSimilar",value:function(t){return t instanceof i&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new i(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}}])&&fo(e.prototype,n),r&&fo(e,r),i}(so);function bo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var go=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textNode=e,n<0||n>e.data.length)throw new u.a("view-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.data.length)throw new u.a("view-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}var e,n,r;return e=t,(n=[{key:"is",value:function(t){return"$textProxy"===t||"view:$textProxy"===t||"textProxy"===t||"view:textProxy"===t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this.textNode:this.parent;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}])&&bo(e.prototype,n),r&&bo(e,r),t}();function wo(t){return Er(t)?new Map(t):function(t){var e=new Map;for(var n in t)e.set(n,t[n]);return e}(t)}function ko(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||So(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=So(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function So(t,e){if(t){if("string"==typeof t)return xo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(t,e):void 0}}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Po=function(){function t(){Oo(this,t),this._patterns=[],this.add.apply(this,arguments)}var e,n,r;return e=t,(n=[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];("string"==typeof i||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}}},{key:"match",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i,a=o[r],c=_o(this._patterns);try{for(c.s();!(i=c.n()).done;){var u=i.value,s=Eo(a,u);if(s)return{element:a,pattern:u,match:s}}}catch(t){c.e(t)}finally{c.f()}}return null}},{key:"matchAll",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a,c=i[o],u=_o(this._patterns);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=Eo(c,s);l&&t.push({element:c,pattern:s,match:l})}}catch(t){u.e(t)}finally{u.f()}}return t.length>0?t:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}])&&Ao(e.prototype,n),r&&Ao(e,r),t}();function Eo(t,e){if("function"==typeof e)return e(t);var n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return t.test(e);return t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){var n=new Set(e.getAttributeKeys());Me(t)?(void 0!==t.style&&Object(u.b)("matcher-pattern-deprecated-attributes-style-key",t),void 0!==t.class&&Object(u.b)("matcher-pattern-deprecated-attributes-class-key",t)):(n.delete("style"),n.delete("class"));return Ro(t,n,function(t){return e.getAttribute(t)})}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){return Ro(t,e.getClassNames())}(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=function(t,e){return Ro(t,e.getStyleNames(!0),function(t){return e.getStyle(t)})}(e.styles,t),!n.styles))&&n)}function Ro(t,e,n){var r=function(t){if(Array.isArray(t))return t.map(function(t){return Me(t)?(void 0!==t.key&&void 0!==t.value||Object(u.b)("matcher-pattern-missing-key-or-value",t),[t.key,t.value]):[t,!0]});if(Me(t))return Object.entries(t);return[[t,!0]]}(t),o=Array.from(e),i=[];return r.forEach(function(t){var e=ko(t,2),r=e[0],a=e[1];o.forEach(function(t){(function(t,e){return!0===t||t===e||t instanceof RegExp&&t.test(e)})(r,t)&&function(t,e,n){if(!0===t)return!0;var r=n(e);return t===r||t instanceof RegExp&&t.test(r)}(a,t,n)&&i.push(t)})}),!r.length||i.length<r.length?null:i}function To(t){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var jo=function(t){return"symbol"==To(t)||Ot(t)&&"[object Symbol]"==B(t)};function Co(t){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Io=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mo=/^\w*$/;var Do=function(t,e){if(jt(t))return!1;var n=Co(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!jo(t))||(Mo.test(t)||!Io.test(t)||null!=e&&t in Object(e))};function No(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(No.Cache||yn),n}No.Cache=yn;var Bo=No;var zo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lo=/\\(\\)?/g,Fo=function(t){var e=Bo(t,function(t){return 500===n.size&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(zo,function(t,n,r,o){e.push(r?o.replace(Lo,"$1"):n||t)}),e});var Vo=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o},qo=E?E.prototype:void 0,Uo=qo?qo.toString:void 0;var Ho=function t(e){if("string"==typeof e)return e;if(jt(e))return Vo(e,t)+"";if(jo(e))return Uo?Uo.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n};var Wo=function(t){return null==t?"":Ho(t)};var $o=function(t,e){return jt(t)?t:Do(t,e)?[t]:Fo(Wo(t))};var Go=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};var Ko=function(t){if("string"==typeof t||jo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Yo=function(t,e){for(var n=0,r=(e=$o(e,t)).length;null!=t&&n<r;)t=t[Ko(e[n++])];return n&&n==r?t:void 0};var Jo=function(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i};var Xo=function(t,e){return e.length<2?t:Yo(t,Jo(e,0,-1))};var Zo=function(t,e){return e=$o(e,t),null==(t=Xo(t,e))||delete t[Ko(Go(e))]};var Qo=function(t,e){return null==t||Zo(t,e)};var ti=function(t,e,n){var r=null==t?void 0:Yo(t,e);return void 0===r?n:r};var ei=function(t,e,n){(void 0!==n&&!nt(t[e],n)||void 0===n&&!(e in t))&&et(t,e,n)};var ni=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),c=a.length;c--;){var u=a[t?c:++o];if(!1===n(i[u],u,i))break}return e}}();var ri=function(t){return Ot(t)&&mt(t)};var oi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var ii=function(t){return it(t,$t(t))};var ai=function(t,e,n,r,o,i,a){var c=oi(t,n),u=oi(e,n),s=a.get(u);if(s)ei(t,n,s);else{var l=i?i(c,u,n+"",t,e,a):void 0,f=void 0===l;if(f){var h=jt(u),p=!h&&Object(Ct.a)(u),d=!h&&!p&&zt(u);l=u,h||p||d?jt(c)?l=c:ri(c)?l=Pn(c):p?(f=!1,l=Object(An.a)(u,!0)):d?(f=!1,l=cr(u,!0)):l=[]:Me(u)||Tt(u)?(l=c,Tt(c)?l=ii(c):A(c)&&!L(c)||(l=fr(u))):f=!1}f&&(a.set(u,l),o(l,u,r,i,a),a.delete(u)),ei(t,n,l)}};var ci=function t(e,n,r,o,i){e!==n&&ni(n,function(a,c){if(i||(i=new bn),A(a))ai(e,n,c,r,t,o,i);else{var u=o?o(oi(e,c),a,c+"",e,n,i):void 0;void 0===u&&(u=a),ei(e,c,u)}},$t)},ui=_t(function(t,e,n){ci(t,e,n)});var si=function(t,e,n,r){if(!A(t))return t;for(var o=-1,i=(e=$o(e,t)).length,a=i-1,c=t;null!=c&&++o<i;){var u=Ko(e[o]),s=n;if(o!=a){var l=c[u];void 0===(s=r?r(l,u,c):void 0)&&(s=A(l)?l:gt(e[o+1])?[]:{})}ot(c,u,s),c=c[u]}return t};var li=function(t,e,n){return null==t?t:si(t,e,n)};function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hi(t){return function(t){if(Array.isArray(t))return yi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||di(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||di(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(t,e){if(t){if("string"==typeof t)return yi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yi(t,e):void 0}}function yi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bi(t,e,n){return e&&vi(t.prototype,e),n&&vi(t,n),t}var gi=function(){function t(e){mi(this,t),this._styles={},this._styleProcessor=e}return bi(t,[{key:"setTo",value:function(t){this.clear();for(var e=0,n=Array.from(function(t){var e=null,n=0,r=0,o=null,i=new Map;if(""===t)return i;";"!=t.charAt(t.length-1)&&(t+=";");for(var a=0;a<t.length;a++){var c=t.charAt(a);if(null===e)switch(c){case":":o||(o=t.substr(n,a-n),r=a+1);break;case'"':case"'":e=c;break;case";":var u=t.substr(r,a-r);o&&i.set(o.trim(),u.trim()),o=null,n=a+1}else c===e&&(e=null)}return i}(t).entries());e<n.length;e++){var r=pi(n[e],2),o=r[0],i=r[1];this._styleProcessor.toNormalizedForm(o,i,this._styles)}}},{key:"has",value:function(t){if(this.isEmpty)return!1;var e=this._styleProcessor.getReducedForm(t,this._styles).find(function(e){return pi(e,1)[0]===t});return Array.isArray(e)}},{key:"set",value:function(t,e){if(A(t))for(var n=0,r=Object.entries(t);n<r.length;n++){var o=pi(r[n],2),i=o[0],a=o[1];this._styleProcessor.toNormalizedForm(i,a,this._styles)}else this._styleProcessor.toNormalizedForm(t,e,this._styles)}},{key:"remove",value:function(t){var e=ki(t);Qo(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}},{key:"getNormalized",value:function(t){return this._styleProcessor.getNormalized(t,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(t){return t.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(t){if(!this.isEmpty){if(this._styles[t]&&!A(this._styles[t]))return this._styles[t];var e=this._styleProcessor.getReducedForm(t,this._styles).find(function(e){return pi(e,1)[0]===t});return Array.isArray(e)?e[1]:void 0}}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty)return[];if(t)return this._styleProcessor.getStyleNames(this._styles);var e=this._getStylesEntries();return e.map(function(t){return pi(t,1)[0]})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var t=[],e=0,n=Object.keys(this._styles);e<n.length;e++){var r=n[e];t.push.apply(t,hi(this._styleProcessor.getReducedForm(r,this._styles)))}return t}},{key:"_cleanEmptyObjectsOnPath",value:function(t){var e=t.split(".");if(e.length>1){var n=e.splice(0,e.length-1).join("."),r=ti(this._styles,n);if(r)!Array.from(Object.keys(r)).length&&this.remove(n)}}},{key:"isEmpty",get:function(){var t=Object.entries(this._styles);return!Array.from(t).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),t}(),wi=function(){function t(){mi(this,t),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return bi(t,[{key:"toNormalizedForm",value:function(t,e,n){if(A(e))_i(n,ki(t),e);else if(this._normalizers.has(t)){var r=this._normalizers.get(t)(e);_i(n,r.path,r.value)}else _i(n,t,e)}},{key:"getNormalized",value:function(t,e){if(!t)return ui({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){var n=this._extractors.get(t);if("string"==typeof n)return ti(e,n);var r=n(t,e);if(r)return r}return ti(e,ki(t))}},{key:"getReducedForm",value:function(t,e){var n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}},{key:"getStyleNames",value:function(t){var e=this,n=Array.from(this._consumables.keys()).filter(function(n){var r=e.getNormalized(n,t);return r&&"object"==fi(r)?Object.keys(r).length:r}),r=new Set([].concat(hi(n),hi(Object.keys(t))));return Array.from(r.values())}},{key:"getRelatedStyles",value:function(t){return this._consumables.get(t)||[]}},{key:"setNormalizer",value:function(t,e){this._normalizers.set(t,e)}},{key:"setExtractor",value:function(t,e){this._extractors.set(t,e)}},{key:"setReducer",value:function(t,e){this._reducers.set(t,e)}},{key:"setStyleRelation",value:function(t,e){this._mapStyleNames(t,e);var n,r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=di(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._mapStyleNames(o,[t])}}catch(t){r.e(t)}finally{r.f()}}},{key:"_mapStyleNames",value:function(t,e){var n;this._consumables.has(t)||this._consumables.set(t,[]),(n=this._consumables.get(t)).push.apply(n,hi(e))}}]),t}();function ki(t){return t.replace("-",".")}function _i(t,e,n){var r=n;A(n)&&(r=ui({},ti(t,e),n)),li(t,e,r)}function Si(t){return(Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e,n){return(xi=Ii()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&ji(o,n.prototype),o}).apply(null,arguments)}function Oi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Ei(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ei(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Pi(t){return function(t){if(Array.isArray(t))return Ri(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ei(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(t,e){if(t){if("string"==typeof t)return Ri(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(t,e):void 0}}function Ri(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ji(t,e){return(ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ci(t,e){return!e||"object"!==Si(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ii(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function Mi(t){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ji(t,e)}(c,t);var e,n,r,o,i,a=(e=c,n=Ii(),function(){var t,r=Mi(e);if(n){var o=Mi(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return Ci(this,t)});function c(t,e,n,r){var o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=a.call(this,t)).name=e,o._attrs=function(t){var e,n=Ai(t=wo(t));try{for(n.s();!(e=n.n()).done;){var r=Oi(e.value,2),o=r[0],i=r[1];null===i?t.delete(o):"string"!=typeof i&&t.set(o,String(i))}}catch(t){n.e(t)}finally{n.f()}return t}(n),o._children=[],r&&o._insertChild(0,r),o._classes=new Set,o._attrs.has("class")){var i=o._attrs.get("class");Ni(o._classes,i),o._attrs.delete("class")}return o._styles=new gi(o.document.stylesProcessor),o._attrs.has("style")&&(o._styles.setTo(o._attrs.get("style")),o._attrs.delete("style")),o._customProperties=new Map,o._isAllowedInsideAttributeElement=!1,o}return r=c,(o=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"view:element"===t):"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._classes.size>0)){t.next=3;break}return t.next=3,"class";case 3:if(this._styles.isEmpty){t.next=6;break}return t.next=6,"style";case 6:return t.delegateYield(this._attrs.keys(),"t0",7);case 7:case"end":return t.stop()}},t,this)})},{key:"getAttributes",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._attrs.entries(),"t0",1);case 1:if(!(this._classes.size>0)){t.next=4;break}return t.next=4,["class",this.getAttribute("class")];case 4:if(this._styles.isEmpty){t.next=7;break}return t.next=7,["style",this.getAttribute("style")];case 7:case"end":return t.stop()}},t,this)})},{key:"getAttribute",value:function(t){if("class"==t)return this._classes.size>0?Pi(this._classes).join(" "):void 0;if("style"==t){var e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof c))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this.isAllowedInsideAttributeElement!=t.isAllowedInsideAttributeElement)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var e,n=Ai(this._attrs);try{for(n.s();!(e=n.n()).done;){var r=Oi(e.value,2),o=r[0],i=r[1];if(!t._attrs.has(o)||t._attrs.get(o)!==i)return!1}}catch(t){n.e(t)}finally{n.f()}var a,u=Ai(this._classes);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(!t._classes.has(s))return!1}}catch(t){u.e(t)}finally{u.f()}var l,f=Ai(this._styles.getStyleNames());try{for(f.s();!(l=f.n()).done;){var h=l.value;if(!t._styles.has(h)||t._styles.getAsString(h)!==this._styles.getAsString(h))return!1}}catch(t){f.e(t)}finally{f.f()}return!0}},{key:"hasClass",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];if(!this._classes.has(i))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._styles.getStyleNames(t)}},{key:"hasStyle",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0,o=e;r<o.length;r++){var i=o[r];if(!this._styles.has(i))return!1}return!0}},{key:"findAncestor",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=xi(Po,e),o=this.parent;o;){if(r.match(o))return o;o=o.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"getIdentity",value:function(){var t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(function(t){return"".concat(t[0],'="').concat(t[1],'"')}).sort().join(" ");return this.name+(""==t?"":' class="'.concat(t,'"'))+(e?' style="'.concat(e,'"'):"")+(""==n?"":" ".concat(n))}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];if(t){var n,r=Ai(this.getChildren());try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push(o._clone(t))}}catch(t){r.e(t)}finally{r.f()}}var i=new this.constructor(this.document,this.name,this._attrs,e);return i._classes=new Set(this._classes),i._styles.set(this._styles.getNormalized()),i._customProperties=new Map(this._customProperties),i.getFillerOffset=this.getFillerOffset,i._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,i}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var n,r=0,o=Ai(function(t,e){return"string"==typeof e?[new vo(t,e)]:(Er(e)||(e=[e]),Array.from(e).map(function(e){return"string"==typeof e?new vo(t,e):e instanceof go?new vo(t,e.data):e}))}(this.document,e));try{for(o.s();!(n=o.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this,i.document=this.document,this._children.splice(t,0,i),t++,r++}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_removeChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}},{key:"_setAttribute",value:function(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?Ni(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){this._fireChange("attributes",this);var e,n=Ai(Hr(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._classes.add(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_removeClass",value:function(t){this._fireChange("attributes",this);var e,n=Ai(Hr(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._classes.delete(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_setStyle",value:function(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}},{key:"_removeStyle",value:function(t){this._fireChange("attributes",this);var e,n=Ai(Hr(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._styles.remove(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_setCustomProperty",value:function(t,e){this._customProperties.set(t,e)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}},{key:"isAllowedInsideAttributeElement",get:function(){return this._isAllowedInsideAttributeElement}}])&&Ti(r.prototype,o),i&&Ti(r,i),c}(so);function Ni(t,e){var n=e.split(/\s+/);t.clear(),n.forEach(function(e){return t.add(e)})}function Bi(t){return(Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t){return function(t){if(Array.isArray(t))return Fi(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Li(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(t,e){if(t){if("string"==typeof t)return Fi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(t,e):void 0}}function Fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qi(t,e){return(qi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Wi(t);if(e){var o=Wi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hi(this,n)}}function Hi(t,e){return!e||"object"!==Bi(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wi(t){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qi(t,e)}(i,t);var e,n,r,o=Ui(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,t,e,n,r)).getFillerOffset=Gi,a}return e=i,(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}}])&&Vi(e.prototype,n),r&&Vi(e,r),i}(Di);function Gi(){var t=zi(this.getChildren()),e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;var n,r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Li(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t);try{for(r.s();!(n=r.n()).done;){if(!n.value.is("uiElement"))return null}}catch(t){r.e(t)}finally{r.f()}return this.childCount}function Ki(t){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ji(t,e){return(Ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ta(t);if(e){var o=ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zi(this,n)}}function Zi(t,e){return!e||"object"!==Ki(e)&&"function"!=typeof e?Qi(t):e}function Qi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ta(t){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ji(t,e)}(i,t);var e,n,r,o=Xi(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,t,e,n,r)).set("isReadOnly",!1),a.set("isFocused",!1),a.bind("isReadOnly").to(t),a.bind("isFocused").to(t,"isFocused",function(e){return e&&t.selection.editableElement==Qi(a)}),a.listenTo(t.selection,"change",function(){a.isFocused=t.isFocused&&t.selection.editableElement==Qi(a)}),a}return e=i,(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"destroy",value:function(){this.stopListening()}}])&&Yi(e.prototype,n),r&&Yi(e,r),i}($i);function na(t){return(na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oa(t,e){return(oa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ia(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ca(t);if(e){var o=ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aa(this,n)}}function aa(t,e){return!e||"object"!==na(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ca(t){return(ca=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(ea,oe);var ua=Symbol("rootName"),sa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oa(t,e)}(i,t);var e,n,r,o=ia(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t,e)).rootName="main",n}return e=i,(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t):"rootElement"===t||"view:rootElement"===t||"editableElement"===t||"view:editableElement"===t||"containerElement"===t||"view:containerElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"rootName",get:function(){return this.getCustomProperty(ua)},set:function(t){this._setCustomProperty(ua,t)}},{key:"_name",set:function(t){this.name=t}}])&&ra(e.prototype,n),r&&ra(e,r),i}(ea);function la(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ha=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(la(this,t),!e.boundaries&&!e.startPosition)throw new u.a("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new u.a("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=da._createAt(e.startPosition):this.position=da._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}var e,n,r;return e=t,(n=[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(t){var e,n,r;do{r=this.position;var o=this.next();e=o.done,n=o.value}while(!e&&t(n));e||(this.position=r)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t,e=this.position.clone(),n=this.position,r=e.parent;if(null===r.parent&&e.offset===r.childCount)return{done:!0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};if(r instanceof vo){if(e.isAtEnd)return this.position=da._createAfter(r),this._next();t=r.data[e.offset]}else t=r.getChild(e.offset);if(t instanceof Di)return this.shallow?e.offset++:e=new da(t,0),this.position=e,this._formatReturnValue("elementStart",t,n,e,1);if(t instanceof vo){if(this.singleCharacters)return e=new da(t,0),this.position=e,this._next();var o,i=t.data.length;return t==this._boundaryEndParent?(i=this.boundaries.end.offset,o=new go(t,0,i),e=da._createAfter(o)):(o=new go(t,0,t.data.length),e.offset++),this.position=e,this._formatReturnValue("text",o,n,e,i)}if("string"==typeof t){var a;a=this.singleCharacters?1:(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;var c=new go(r,e.offset,a);return e.offset+=a,this.position=e,this._formatReturnValue("text",c,n,e,a)}return e=da._createAfter(r),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,n,e)}},{key:"_previous",value:function(){var t,e=this.position.clone(),n=this.position,r=e.parent;if(null===r.parent&&0===e.offset)return{done:!0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};if(r instanceof vo){if(e.isAtStart)return this.position=da._createBefore(r),this._previous();t=r.data[e.offset-1]}else t=r.getChild(e.offset-1);if(t instanceof Di)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",t,n,e,1)):(e=new da(t,t.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",t,n,e));if(t instanceof vo){if(this.singleCharacters)return e=new da(t,t.data.length),this.position=e,this._previous();var o,i=t.data.length;if(t==this._boundaryStartParent){var a=this.boundaries.start.offset;i=(o=new go(t,a,t.data.length-a)).data.length,e=da._createBefore(o)}else o=new go(t,0,t.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",o,n,e,i)}if("string"==typeof t){var c;if(this.singleCharacters)c=1;else{var u=r===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-u}e.offset-=c;var s=new go(r,e.offset,c);return this.position=e,this._formatReturnValue("text",s,n,e,c)}return e=da._createBefore(r),this.position=e,this._formatReturnValue("elementStart",r,n,e,1)}},{key:"_formatReturnValue",value:function(t,e,n,r,o){return e instanceof go&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=da._createAfter(e.textNode):(r=da._createAfter(e.textNode),this.position=r)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=da._createBefore(e.textNode):(r=da._createBefore(e.textNode),this.position=r))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}}])&&fa(e.prototype,n),r&&fa(e,r),t}();function pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var da=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.offset=n}var e,n,r;return e=t,r=[{key:"_createAt",value:function(e,n){if(e instanceof t)return new this(e.parent,e.offset);var r=e;if("end"==n)n=r.is("$text")?r.data.length:r.childCount;else{if("before"==n)return this._createBefore(r);if("after"==n)return this._createAfter(r);if(0!==n&&!n)throw new u.a("view-createpositionat-offset-required",r)}return new t(r,n)}},{key:"_createAfter",value:function(e){if(e.is("$textProxy"))return new t(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new u.a("view-position-after-root",e,{root:e});return new t(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("$textProxy"))return new t(e.textNode,e.offsetInText);if(!e.parent)throw new u.a("view-position-before-root",e,{root:e});return new t(e.parent,e.index)}}],(n=[{key:"getShiftedBy",value:function(e){var n=t._createAt(this),r=n.offset+e;return n.offset=r<0?0:r,n}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new ha(e);return n.skip(t),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(t){for(var e=this.getAncestors(),n=t.getAncestors(),r=0;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}},{key:"is",value:function(t){return"position"===t||"view:position"===t}},{key:"isEqual",value:function(t){return this.parent==t.parent&&this.offset==t.offset}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"compareWith",value:function(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";var e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);var r=ao(e,n);switch(r){case"prefix":return"before";case"extension":return"after";default:return e[r]<n[r]?"before":"after"}}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.startPosition=this,new ha(t)}},{key:"clone",value:function(){return new t(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var t=this.parent;!(t instanceof ea);){if(!t.parent)return null;t=t.parent}return t}}])&&pa(e.prototype,n),r&&pa(e,r),t}();function ya(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ma(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ma(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function va(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ba(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ga=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;va(this,t),this.start=e.clone(),this.end=n?n.clone():e.clone()}var e,n,r;return e=t,n=[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new ha({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(wa,{direction:"backward"}),n=this.end.getLastMatchingPosition(wa);return e.parent.is("$text")&&e.isAtStart&&(e=da._createBefore(e.parent)),n.parent.is("$text")&&n.isAtEnd&&(n=da._createAfter(n.parent)),new t(e,n)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(wa);if(e.isAfter(this.end)||e.isEqual(this.end))return new t(e,e);var n=this.end.getLastMatchingPosition(wa,{direction:"backward"}),r=e.nodeAfter,o=n.nodeBefore;return r&&r.is("$text")&&(e=new da(r,0)),o&&o.is("$text")&&(n=new da(o,o.data.length)),new t(e,n)}},{key:"isEqual",value:function(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new t(this.start,e.start)),this.containsPosition(e.end)&&n.push(new t(e.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new t(n,r)}return null}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new ha(t)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}},{key:"clone",value:function(){return new t(this.start,this.end)}},{key:"getItems",value:regeneratorRuntime.mark(function t(){var e,n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(e=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,e.ignoreElementEnd=!0,n=new ha(e),r=ya(n),t.prev=5,r.s();case 7:if((o=r.n()).done){t.next=13;break}return i=o.value,t.next=11,i.item;case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[5,15,18,21]])})},{key:"getPositions",value:regeneratorRuntime.mark(function t(){var e,n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,n=new ha(e),t.next=5,n.position;case 5:r=ya(n),t.prev=6,r.s();case 8:if((o=r.n()).done){t.next=14;break}return i=o.value,t.next=12,i.nextPosition;case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}},t,this,[[6,16,19,22]])})},{key:"is",value:function(t){return"range"===t||"view:range"===t}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],r=[{key:"_createFromParentsAndOffsets",value:function(t,e,n,r){return new this(new da(t,e),new da(n,r))}},{key:"_createFromPositionAndShift",value:function(t,e){var n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}},{key:"_createOn",value:function(t){var e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(da._createBefore(t),e)}}],n&&ba(e.prototype,n),r&&ba(e,r),t}();function wa(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function ka(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _a(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sa(t){var e,n=0,r=ka(t);try{for(r.s();!(e=r.n()).done;){e.value;n++}}catch(t){r.e(t)}finally{r.f()}return n}function xa(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Oa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ea=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Aa(this,t),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(e,n,r)}var e,n,r;return e=t,(n=[{key:"getRanges",value:regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=xa(this._ranges),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.clone();case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var t,e=null,n=xa(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.start.isBefore(e.start)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var t,e=null,n=xa(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.end.isAfter(e.end)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"isEqual",value:function(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var e,n=xa(this._ranges);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,i=!1,a=xa(t._ranges);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(o.isEqual(c)){i=!0;break}}}catch(t){a.e(t)}finally{a.f()}if(!i)return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"isSimilar",value:function(t){if(this.isBackward!=t.isBackward)return!1;var e=Sa(this.getRanges());if(e!=Sa(t.getRanges()))return!1;if(0==e)return!0;var n,r=xa(this.getRanges());try{for(r.s();!(n=r.n()).done;){var o=n.value;o=o.getTrimmed();var i,a=!1,c=xa(t.getRanges());try{for(c.s();!(i=c.n()).done;){var u=i.value;if(u=u.getTrimmed(),o.start.isEqual(u.start)&&o.end.isEqual(u.end)){a=!0;break}}}catch(t){c.e(t)}finally{c.f()}if(!a)return!1}}catch(t){r.e(t)}finally{r.f()}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,n,r){if(null===e)this._setRanges([]),this._setFakeOptions(n);else if(e instanceof t||e instanceof ja)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof ga)this._setRanges([e],n&&n.backward),this._setFakeOptions(n);else if(e instanceof da)this._setRanges([new ga(e)]),this._setFakeOptions(n);else if(e instanceof so){var o,i=!!r&&!!r.backward;if(void 0===n)throw new u.a("view-selection-setto-required-second-parameter",this);o="in"==n?ga._createIn(e):"on"==n?ga._createOn(e):new ga(da._createAt(e,n)),this._setRanges([o],i),this._setFakeOptions(r)}else{if(!Er(e))throw new u.a("view-selection-setto-not-selectable",this);this._setRanges(e,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new u.a("view-selection-setfocus-no-ranges",this);var n=da._createAt(t,e);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.pop(),"before"==n.compareWith(r)?this._addRange(new ga(n,r),!0):this._addRange(new ga(r,n)),this.fire("change")}}},{key:"is",value:function(t){return"selection"===t||"view:selection"===t}},{key:"_setRanges",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=Array.from(t),this._ranges=[];var n,r=xa(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._addRange(o)}}catch(t){r.e(t)}finally{r.f()}this._lastRangeBackward=!!e}},{key:"_setFakeOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}},{key:"_addRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t instanceof ga))throw new u.a("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}},{key:"_pushRange",value:function(t){var e,n=xa(this._ranges);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.isIntersecting(r))throw new u.a("view-selection-range-intersects",this,{addedRange:t,intersectingRange:r})}}catch(t){n.e(t)}finally{n.f()}this._ranges.push(new ga(t.start,t.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}])&&Pa(e.prototype,n),r&&Pa(e,r),t}();function Ra(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Ea,m);var ja=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;Ra(this,t),this._selection=new Ea,this._selection.delegate("change").to(this),this._selection.setTo(e,n,r)}var e,n,r;return e=t,(n=[{key:"getRanges",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(t){return this._selection.isEqual(t)}},{key:"isSimilar",value:function(t){return this._selection.isSimilar(t)}},{key:"is",value:function(t){return"selection"===t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}])&&Ta(e.prototype,n),r&&Ta(e,r),t}();function Ca(t){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ma(t,e){return(Ma=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Da(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Ba(t);if(e){var o=Ba(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Na(this,n)}}function Na(t,e){return!e||"object"!==Ca(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ba(t){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(ja,m);var za=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ma(t,e)}(i,t);var e,n,r,o=Da(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e)).startRange=n,r._eventPhase="none",r._currentTarget=null,r}return e=i,(n=[{key:"eventPhase",get:function(){return this._eventPhase}},{key:"currentTarget",get:function(){return this._currentTarget}}])&&Ia(e.prototype,n),r&&Ia(e,r),i}(o);function La(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Va(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Va(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Va(t,e){if(t){if("string"==typeof t)return qa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qa(t,e):void 0}}function qa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ua=Symbol("bubbling contexts"),Ha={fire:function(t){try{var e=t instanceof o?t:new o(this,t),n=Ka(this);if(!n.size)return;Wa(e,"capturing",this);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if($a.apply(void 0,[n,"$capture",e].concat(i)))return e.return;var c=e.startRange||this.selection.getFirstRange(),s=c?c.getContainedElement():null,l=!!s&&Boolean(Ga(n,s)),f=s||Ya(c);if(Wa(e,"atTarget",f),!l){if($a.apply(void 0,[n,"$text",e].concat(i)))return e.return;Wa(e,"bubbling",f)}for(;f;){if(f.is("rootElement")){if($a.apply(void 0,[n,"$root",e].concat(i)))return e.return}else if(f.is("element")&&$a.apply(void 0,[n,f.name,e].concat(i)))return e.return;if($a.apply(void 0,[n,f,e].concat(i)))return e.return;Wa(e,"bubbling",f=f.parent)}return Wa(e,"bubbling",this),$a.apply(void 0,[n,"$document",e].concat(i)),e.return}catch(t){u.a.rethrowUnexpectedError(t,this)}},_addEventListener:function(t,e,n){var r,o=Hr(n.context||"$document"),i=Ka(this),a=Fa(o);try{for(a.s();!(r=a.n()).done;){var c=r.value,u=i.get(c);u||(u=Object.create(m),i.set(c,u)),this.listenTo(u,t,e,n)}}catch(t){a.e(t)}finally{a.f()}},_removeEventListener:function(t,e){var n,r=Fa(Ka(this).values());try{for(r.s();!(n=r.n()).done;){var o=n.value;this.stopListening(o,t,e)}}catch(t){r.e(t)}finally{r.f()}}};function Wa(t,e,n){t instanceof za&&(t._eventPhase=e,t._currentTarget=n)}function $a(t,e,n){var r="string"==typeof e?t.get(e):Ga(t,e);if(!r)return!1;for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];return r.fire.apply(r,[n].concat(i)),n.stop.called}function Ga(t,e){var n,r=Fa(t);try{for(r.s();!(n=r.n()).done;){var o=La(n.value,2),i=o[0],a=o[1];if("function"==typeof i&&i(e))return a}}catch(t){r.e(t)}finally{r.f()}return null}function Ka(t){return t[Ua]||(t[Ua]=new Map),t[Ua]}function Ya(t){if(!t)return null;var e=t.start.parent,n=t.end.parent,r=e.getPath(),o=n.getPath();return r.length>o.length?e:n}function Ja(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Xa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qa=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.selection=new ja,this.roots=new Dr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}var e,n,r;return e=t,(n=[{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"destroy",value:function(){this.roots.map(function(t){return t.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(t){var e=!1;do{var n,r=Ja(this._postFixers);try{for(r.s();!(n=r.n()).done&&!(e=(0,n.value)(t)););}catch(t){r.e(t)}finally{r.f()}}while(e)}}])&&Za(e.prototype,n),r&&Za(e,r),t}();function tc(t){return(tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nc(t,e,n){return(nc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ac(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rc(t,e){return(rc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ac(t);if(e){var o=ac(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ic(this,n)}}function ic(t,e){return!e||"object"!==tc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ac(t){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(Qa,Ha),pe(Qa,oe);var cc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rc(t,e)}(i,t);var e,n,r,o=oc(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,t,e,n,r)).getFillerOffset=uc,a._priority=10,a._id=null,a._clonesGroup=null,a}return e=i,(n=[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new u.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}},{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t):"attributeElement"===t||"view:attributeElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"isSimilar",value:function(t){return null!==this.id||null!==t.id?this.id===t.id:nc(ac(i.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var e=nc(ac(i.prototype),"_clone",this).call(this,t);return e._priority=this._priority,e._id=this._id,e}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}])&&ec(e.prototype,n),r&&ec(e,r),i}(Di);function uc(){if(sc(this))return null;for(var t=this.parent;t&&t.is("attributeElement");){if(sc(t)>1)return null;t=t.parent}return!t||sc(t)>1?null:this.childCount}function sc(t){return Array.from(t.getChildren()).filter(function(t){return!t.is("uiElement")}).length}function lc(t){return(lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hc(t,e){return(hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=yc(t);if(e){var o=yc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dc(this,n)}}function dc(t,e){return!e||"object"!==lc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yc(t){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}cc.DEFAULT_PRIORITY=10;var mc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hc(t,e)}(i,t);var e,n,r,o=pc(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,t,e,n,r))._isAllowedInsideAttributeElement=!0,a.getFillerOffset=vc,a}return e=i,(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t):"emptyElement"===t||"view:emptyElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof so||Array.from(e).length>0))throw new u.a("view-emptyelement-cannot-add",[this,e])}}])&&fc(e.prototype,n),r&&fc(e,r),i}(Di);function vc(){return null}var bc=navigator.userAgent.toLowerCase(),gc={isMac:function(t){return t.indexOf("macintosh")>-1}(bc),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(bc),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(bc),isAndroid:function(t){return t.indexOf("android")>-1}(bc),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(bc),features:{isRegExpUnicodePropertySupported:function(){var t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};function wc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kc(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _c={ctrl:"⌃",cmd:"⌘",alt:"⌥",shift:"⇧"},Sc={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},xc=function(){for(var t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896},e=65;e<=90;e++){var n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(var r=48;r<=57;r++)t[r-48]=r;for(var o=112;o<=123;o++)t["f"+(o-111)]=o;return t}(),Oc=Object.fromEntries(Object.entries(xc).map(function(t){var e=wc(t,2),n=e[0];return[e[1],n.charAt(0).toUpperCase()+n.slice(1)]}));function Ac(t){var e;if("string"==typeof t){if(!(e=xc[t.toLowerCase()]))throw new u.a("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?xc.alt:0)+(t.ctrlKey?xc.ctrl:0)+(t.shiftKey?xc.shift:0)+(t.metaKey?xc.cmd:0);return e}function Pc(t){return"string"==typeof t&&(t=function(t){return t.split("+").map(function(t){return t.trim()})}(t)),t.map(function(t){return"string"==typeof t?function(t){if(t.endsWith("!"))return Ac(t.slice(0,-1));var e=Ac(t);return gc.isMac&&e==xc.ctrl?xc.cmd:e}(t):t}).reduce(function(t,e){return e+t},0)}function Ec(t){var e=Pc(t);return Object.entries(gc.isMac?_c:Sc).reduce(function(t,n){var r=wc(n,2),o=r[0],i=r[1];return 0!=(e&xc[o])&&(e&=~xc[o],t+=i),t},"")+(e?Oc[e]:"")}function Rc(t,e){var n="ltr"===e;switch(t){case xc.arrowleft:return n?"left":"right";case xc.arrowright:return n?"right":"left";case xc.arrowup:return"up";case xc.arrowdown:return"down"}}function Tc(t,e){var n=Rc(t,e);return"down"===n||"right"===n}function jc(t){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ic(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ic(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ic(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dc(t,e){return(Dc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=zc(t);if(e){var o=zc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bc(this,n)}}function Bc(t,e){return!e||"object"!==jc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zc(t){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dc(t,e)}(i,t);var e,n,r,o=Nc(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,t,e,n,r))._isAllowedInsideAttributeElement=!0,a.getFillerOffset=Vc,a}return e=i,(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t):"uiElement"===t||"view:uiElement"===t||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof so||Array.from(e).length>0))throw new u.a("view-uielement-cannot-add",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var e,n=t.createElement(this.name),r=Cc(this.getAttributeKeys());try{for(r.s();!(e=r.n()).done;){var o=e.value;n.setAttribute(o,this.getAttribute(o))}}catch(t){r.e(t)}finally{r.f()}return n}}])&&Mc(e.prototype,n),r&&Mc(e,r),i}(Di);function Fc(t){t.document.on("arrowKey",function(e,n){return function(t,e,n){if(e.keyCode==xc.arrowright){var r=e.domTarget.ownerDocument.defaultView.getSelection(),o=1==r.rangeCount&&r.getRangeAt(0).collapsed;if(o||e.shiftKey){var i=r.focusNode,a=r.focusOffset,c=n.domPositionToView(i,a);if(null===c)return;var u=!1,s=c.getLastMatchingPosition(function(t){return t.item.is("uiElement")&&(u=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))});if(u){var l=n.viewPositionToDom(s);o?r.collapse(l.parent,l.offset):r.extend(l.parent,l.offset)}}}}(0,n,t.domConverter)},{priority:"low"})}function Vc(){return null}function qc(t){return(qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hc(t,e){return(Hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Gc(t);if(e){var o=Gc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $c(this,n)}}function $c(t,e){return!e||"object"!==qc(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gc(t){return(Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hc(t,e)}(i,t);var e,n,r,o=Wc(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,t,e,n,r))._isAllowedInsideAttributeElement=!0,a.getFillerOffset=Yc,a}return e=i,(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("rawElement"===t||"view:rawElement"===t||"element"===t||"view:element"===t):"rawElement"===t||"view:rawElement"===t||t===this.name||t==="view:"+this.name||"element"===t||"view:element"===t||"node"===t||"view:node"===t}},{key:"_insertChild",value:function(t,e){if(e&&(e instanceof so||Array.from(e).length>0))throw new u.a("view-rawelement-cannot-add",[this,e])}}])&&Uc(e.prototype,n),r&&Uc(e,r),i}(Di);function Yc(){return null}function Jc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Xc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Qc=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e,this._children=[],n&&this._insertChild(0,n)}var e,n,r;return e=t,(n=[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(t){return"documentFragment"===t||"view:documentFragment"===t}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(t,e){this._fireChange("children",this);var n,r=0,o=Jc(function(t,e){return"string"==typeof e?[new vo(t,e)]:(Er(e)||(e=[e]),Array.from(e).map(function(e){return"string"==typeof e?new vo(t,e):e instanceof go?new vo(t,e.data):e}))}(this.document,e));try{for(o.s();!(n=o.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this,this._children.splice(t,0,i),t++,r++}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_removeChildren",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}},{key:"_fireChange",value:function(t,e){this.fire("change:"+t,e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}])&&Zc(e.prototype,n),r&&Zc(e,r),t}();function tu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=nu(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function eu(t){return function(t){if(Array.isArray(t))return ru(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||nu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nu(t,e){if(t){if("string"==typeof t)return ru(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(t,e):void 0}}function ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Qc,m);var iu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e,this._cloneGroups=new Map}var e,n,r;return e=t,(n=[{key:"setSelection",value:function(t,e,n){this.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this.document.selection._setFocus(t,e)}},{key:"createDocumentFragment",value:function(t){return new Qc(this.document,t)}},{key:"createText",value:function(t){return new vo(this.document,t)}},{key:"createAttributeElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new cc(this.document,t,e);return"number"==typeof n.priority&&(r._priority=n.priority),n.id&&(r._id=n.id),r}},{key:"createContainerElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $i(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(r._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),r}},{key:"createEditableElement",value:function(t,e){var n=new ea(this.document,t,e);return n._document=this.document,n}},{key:"createEmptyElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new mc(this.document,t,e);return void 0!==n.isAllowedInsideAttributeElement&&(r._isAllowedInsideAttributeElement=n.isAllowedInsideAttributeElement),r}},{key:"createUIElement",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new Lc(this.document,t,e);return n&&(o.render=n),void 0!==r.isAllowedInsideAttributeElement&&(o._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),o}},{key:"createRawElement",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new Kc(this.document,t,e);return o.render=n||function(){},void 0!==r.isAllowedInsideAttributeElement&&(o._isAllowedInsideAttributeElement=r.isAllowedInsideAttributeElement),o}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){Me(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"breakAttributes",value:function(t){return t instanceof da?this._breakAttributes(t):this._breakAttributesRange(t)}},{key:"breakContainer",value:function(t){var e=t.parent;if(!e.is("containerElement"))throw new u.a("view-writer-break-non-container-element",this.document);if(!e.parent)throw new u.a("view-writer-break-root",this.document);if(t.isAtStart)return da._createBefore(e);if(!t.isAtEnd){var n=e._clone(!1);this.insert(da._createAfter(e),n);var r=new ga(t,da._createAt(e,"end")),o=new da(n,0);this.move(r,o)}return da._createAfter(e)}},{key:"mergeAttributes",value:function(t){var e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){var r=n.parent,o=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new da(r,o))}var i=n.getChild(e-1),a=n.getChild(e);if(!i||!a)return t;if(i.is("$text")&&a.is("$text"))return lu(i,a);if(i.is("attributeElement")&&a.is("attributeElement")&&i.isSimilar(a)){var c=i.childCount;return i._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new da(i,c))}return t}},{key:"mergeContainers",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new u.a("view-writer-merge-containers-invalid-position",this.document);var r=e.getChild(e.childCount-1),o=r instanceof vo?da._createAt(r,"end"):da._createAt(e,"end");return this.move(ga._createIn(n),da._createAt(e,"end")),this.remove(ga._createOn(n)),o}},{key:"insert",value:function(t,e){!function t(e,n){var r,o=tu(e);try{var i=function(){var e=r.value;if(!fu.some(function(t){return e instanceof t}))throw new u.a("view-writer-insert-invalid-node-type",n);e.is("$text")||t(e.getChildren(),n)};for(o.s();!(r=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}(e=Er(e)?eu(e):[e],this.document);var n,r=null,o=t,i=tu(e.reduce(function(t,e){var n=t[t.length-1],r=!(e.is("uiElement")&&e.isAllowedInsideAttributeElement);return n&&n.breakAttributes==r?n.nodes.push(e):t.push({breakAttributes:r,nodes:[e]}),t},[]));try{for(i.s();!(n=i.n()).done;){var a=n.value,c=a.nodes,s=a.breakAttributes,l=this._insertNodes(o,c,s);r||(r=l.start),o=l.end}}catch(t){i.e(t)}finally{i.f()}return r?new ga(r,o):new ga(t)}},{key:"remove",value:function(t){var e=t instanceof ga?t:ga._createOn(t);if(pu(e,this.document),e.isCollapsed)return new Qc(this.document);var n,r=this._breakAttributesRange(e,!0),o=r.start,i=r.end,a=o.parent,c=i.offset-o.offset,u=a._removeChildren(o.offset,c),s=tu(u);try{for(s.s();!(n=s.n()).done;){var l=n.value;this._removeFromClonedElementsGroup(l)}}catch(t){s.e(t)}finally{s.f()}var f=this.mergeAttributes(o);return e.start=f,e.end=f.clone(),new Qc(this.document,u)}},{key:"clear",value:function(t,e){pu(t,this.document);var n,r=tu(t.getWalker({direction:"backward",ignoreElementEnd:!0}));try{for(r.s();!(n=r.n()).done;){var o=n.value,i=o.item,a=void 0;if(i.is("element")&&e.isSimilar(i))a=ga._createOn(i);else if(!o.nextPosition.isAfter(t.start)&&i.is("$textProxy")){var c=i.getAncestors().find(function(t){return t.is("element")&&e.isSimilar(t)});c&&(a=ga._createIn(c))}a&&(a.end.isAfter(t.end)&&(a.end=t.end),a.start.isBefore(t.start)&&(a.start=t.start),this.remove(a))}}catch(t){r.e(t)}finally{r.f()}}},{key:"move",value:function(t,e){var n;if(e.isAfter(t.end)){var r=(e=this._breakAttributes(e,!0)).parent,o=r.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=r.childCount-o}else n=this.remove(t);return this.insert(e,n)}},{key:"wrap",value:function(t,e){if(!(e instanceof cc))throw new u.a("view-writer-wrap-invalid-attribute",this.document);if(pu(t,this.document),t.isCollapsed){var n=t.start;n.parent.is("element")&&(o=n.parent,!Array.from(o.getChildren()).some(function(t){return!t.is("uiElement")}))&&(n=n.getLastMatchingPosition(function(t){return t.item.is("uiElement")})),n=this._wrapPosition(n,e);var r=this.document.selection;return r.isCollapsed&&r.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new ga(n)}return this._wrapRange(t,e);var o}},{key:"unwrap",value:function(t,e){if(!(e instanceof cc))throw new u.a("view-writer-unwrap-invalid-attribute",this.document);if(pu(t,this.document),t.isCollapsed)return t;var n=this._breakAttributesRange(t,!0),r=n.start,o=n.end,i=r.parent,a=this._unwrapChildren(i,r.offset,o.offset,e),c=this.mergeAttributes(a.start);c.isEqual(a.start)||a.end.offset--;var s=this.mergeAttributes(a.end);return new ga(c,s)}},{key:"rename",value:function(t,e){var n=new $i(this.document,t,e.getAttributes());return this.insert(da._createAfter(e),n),this.move(ga._createIn(e),da._createAt(n,0)),this.remove(ga._createOn(e)),n}},{key:"clearClonedElementsGroup",value:function(t){this._cloneGroups.delete(t)}},{key:"createPositionAt",value:function(t,e){return da._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return da._createAfter(t)}},{key:"createPositionBefore",value:function(t){return da._createBefore(t)}},{key:"createRange",value:function(t,e){return new ga(t,e)}},{key:"createRangeOn",value:function(t){return ga._createOn(t)}},{key:"createRangeIn",value:function(t){return ga._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Ea(t,e,n)}},{key:"_insertNodes",value:function(t,e,n){var r,o;if(!(r=n?au(t):t.parent.is("$text")?t.parent.parent:t.parent))throw new u.a("view-writer-invalid-position-container",this.document);o=n?this._breakAttributes(t,!0):t.parent.is("$text")?su(t):t;var i,a=r._insertChild(o.offset,e),c=tu(e);try{for(c.s();!(i=c.n()).done;){var s=i.value;this._addToClonedElementsGroup(s)}}catch(t){c.e(t)}finally{c.f()}var l=o.getShiftedBy(a),f=this.mergeAttributes(o);f.isEqual(o)||l.offset--;var h=this.mergeAttributes(l);return new ga(f,h)}},{key:"_wrapChildren",value:function(t,e,n,r){for(var o=e,i=[];o<n;){var a=t.getChild(o),c=a.is("$text"),u=a.is("attributeElement"),s=a.isAllowedInsideAttributeElement;if(u&&this._wrapAttributeElement(r,a))i.push(new da(t,o));else if(c||s||u&&cu(r,a)){var l=r._clone();a._remove(),l._appendChild(a),t._insertChild(o,l),this._addToClonedElementsGroup(l),i.push(new da(t,o))}else u&&this._wrapChildren(a,0,a.childCount,r);o++}for(var f=0,h=0,p=i;h<p.length;h++){var d=p[h];d.offset-=f,d.offset!=e&&(this.mergeAttributes(d).isEqual(d)||(f++,n--))}return ga._createFromParentsAndOffsets(t,e,t,n)}},{key:"_unwrapChildren",value:function(t,e,n,r){for(var o=e,i=[];o<n;){var a=t.getChild(o);if(a.is("attributeElement"))if(a.isSimilar(r)){var c=a.getChildren(),u=a.childCount;a._remove(),t._insertChild(o,c),this._removeFromClonedElementsGroup(a),i.push(new da(t,o),new da(t,o+u)),o+=u,n+=u-1}else this._unwrapAttributeElement(r,a)?(i.push(new da(t,o),new da(t,o+1)),o++):(this._unwrapChildren(a,0,a.childCount,r),o++);else o++}for(var s=0,l=0,f=i;l<f.length;l++){var h=f[l];h.offset-=s,h.offset!=e&&h.offset!=n&&(this.mergeAttributes(h).isEqual(h)||(s++,n--))}return ga._createFromParentsAndOffsets(t,e,t,n)}},{key:"_wrapRange",value:function(t,e){var n=this._breakAttributesRange(t,!0),r=n.start,o=n.end,i=r.parent,a=this._wrapChildren(i,r.offset,o.offset,e),c=this.mergeAttributes(a.start);c.isEqual(a.start)||a.end.offset--;var u=this.mergeAttributes(a.end);return new ga(c,u)}},{key:"_wrapPosition",value:function(t,e){if(e.isSimilar(t.parent))return uu(t.clone());t.parent.is("$text")&&(t=su(t));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},t.parent._insertChild(t.offset,n);var r=new ga(t,t.getShiftedBy(1));this.wrap(r,e);var o=new da(n.parent,n.index);n._remove();var i=o.nodeBefore,a=o.nodeAfter;return i instanceof vo&&a instanceof vo?lu(i,a):uu(o)}},{key:"_wrapAttributeElement",value:function(t,e){if(!du(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var n,r=tu(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var o=n.value;if("class"!==o&&"style"!==o&&e.hasAttribute(o)&&e.getAttribute(o)!==t.getAttribute(o))return!1}}catch(t){r.e(t)}finally{r.f()}var i,a=tu(t.getStyleNames());try{for(a.s();!(i=a.n()).done;){var c=i.value;if(e.hasStyle(c)&&e.getStyle(c)!==t.getStyle(c))return!1}}catch(t){a.e(t)}finally{a.f()}var u,s=tu(t.getAttributeKeys());try{for(s.s();!(u=s.n()).done;){var l=u.value;"class"!==l&&"style"!==l&&(e.hasAttribute(l)||this.setAttribute(l,t.getAttribute(l),e))}}catch(t){s.e(t)}finally{s.f()}var f,h=tu(t.getStyleNames());try{for(h.s();!(f=h.n()).done;){var p=f.value;e.hasStyle(p)||this.setStyle(p,t.getStyle(p),e)}}catch(t){h.e(t)}finally{h.f()}var d,y=tu(t.getClassNames());try{for(y.s();!(d=y.n()).done;){var m=d.value;e.hasClass(m)||this.addClass(m,e)}}catch(t){y.e(t)}finally{y.f()}return!0}},{key:"_unwrapAttributeElement",value:function(t,e){if(!du(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;var n,r=tu(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var o=n.value;if("class"!==o&&"style"!==o&&(!e.hasAttribute(o)||e.getAttribute(o)!==t.getAttribute(o)))return!1}}catch(t){r.e(t)}finally{r.f()}if(!e.hasClass.apply(e,eu(t.getClassNames())))return!1;var i,a=tu(t.getStyleNames());try{for(a.s();!(i=a.n()).done;){var c=i.value;if(!e.hasStyle(c)||e.getStyle(c)!==t.getStyle(c))return!1}}catch(t){a.e(t)}finally{a.f()}var u,s=tu(t.getAttributeKeys());try{for(s.s();!(u=s.n()).done;){var l=u.value;"class"!==l&&"style"!==l&&this.removeAttribute(l,e)}}catch(t){s.e(t)}finally{s.f()}return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}},{key:"_breakAttributesRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.start,r=t.end;if(pu(t,this.document),t.isCollapsed){var o=this._breakAttributes(t.start,e);return new ga(o,o)}var i=this._breakAttributes(r,e),a=i.parent.childCount,c=this._breakAttributes(n,e);return i.offset+=i.parent.childCount-a,new ga(c,i)}},{key:"_breakAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.offset,r=t.parent;if(t.parent.is("emptyElement"))throw new u.a("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new u.a("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new u.a("view-writer-cannot-break-raw-element",this.document);if(!e&&r.is("$text")&&hu(r.parent))return t.clone();if(hu(r))return t.clone();if(r.is("$text"))return this._breakAttributes(su(t),e);var o=r.childCount;if(n==o){var i=new da(r.parent,r.index+1);return this._breakAttributes(i,e)}if(0===n){var a=new da(r.parent,r.index);return this._breakAttributes(a,e)}var c=r.index+1,s=r._clone();r.parent._insertChild(c,s),this._addToClonedElementsGroup(s);var l=r.childCount-n,f=r._removeChildren(n,l);s._appendChild(f);var h=new da(r.parent,c);return this._breakAttributes(h,e)}},{key:"_addToClonedElementsGroup",value:function(t){if(t.root.is("rootElement")){if(t.is("element")){var e,n=tu(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._addToClonedElementsGroup(r)}}catch(t){n.e(t)}finally{n.f()}}var o=t.id;if(o){var i=this._cloneGroups.get(o);i||(i=new Set,this._cloneGroups.set(o,i)),i.add(t),t._clonesGroup=i}}}},{key:"_removeFromClonedElementsGroup",value:function(t){if(t.is("element")){var e,n=tu(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._removeFromClonedElementsGroup(r)}}catch(t){n.e(t)}finally{n.f()}}var o=t.id;if(o){var i=this._cloneGroups.get(o);i&&i.delete(t)}}}])&&ou(e.prototype,n),r&&ou(e,r),t}();function au(t){for(var e=t.parent;!hu(e);){if(!e)return;e=e.parent}return e}function cu(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function uu(t){var e=t.nodeBefore;if(e&&e.is("$text"))return new da(e,e.data.length);var n=t.nodeAfter;return n&&n.is("$text")?new da(n,0):t}function su(t){if(t.offset==t.parent.data.length)return new da(t.parent.parent,t.parent.index+1);if(0===t.offset)return new da(t.parent.parent,t.parent.index);var e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new vo(t.root.document,e)),new da(t.parent.parent,t.parent.index+1)}function lu(t,e){var n=t.data.length;return t._data+=e.data,e._remove(),new da(t,n)}var fu=[vo,cc,$i,mc,Kc,Lc];function hu(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function pu(t,e){var n=au(t.start),r=au(t.end);if(!n||!r||n!==r)throw new u.a("view-writer-invalid-range-container",e)}function du(t,e){return null===t.id&&null===e.id}function yu(t){return"[object Text]"==Object.prototype.toString.call(t)}var mu=function(t){return t.createTextNode(" ")},vu=function(t){var e=t.createElement("span");return e.dataset.ckeFiller=!0,e.innerHTML=" ",e},bu=function(t){var e=t.createElement("br");return e.dataset.ckeFiller=!0,e},gu="⁠".repeat(7);function wu(t){return yu(t)&&t.data.substr(0,7)===gu}function ku(t){return 7==t.data.length&&wu(t)}function _u(t){return wu(t)?t.data.slice(7):t.data}function Su(t,e){if(e.keyCode==xc.arrowleft){var n=e.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var r=n.getRangeAt(0).startContainer,o=n.getRangeAt(0).startOffset;wu(r)&&o<=7&&n.collapse(r,0)}}}function xu(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.prototype.slice.call(t)),Array.isArray(e)||(e=Array.prototype.slice.call(e));var o=Ou(t,e,n);return r?Ru(o,e.length):Eu(e,o)}function Ou(t,e,n){var r=Au(t,e,n);if(-1===r)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var o=Au(Pu(t,r),Pu(e,r),n);return{firstIndex:r,lastIndexOld:t.length-o,lastIndexNew:e.length-o}}function Au(t,e,n){for(var r=0;r<Math.max(t.length,e.length);r++)if(void 0===t[r]||void 0===e[r]||!n(t[r],e[r]))return r;return-1}function Pu(t,e){return t.slice(e).reverse()}function Eu(t,e){var n=[],r=e.firstIndex,o=e.lastIndexOld,i=e.lastIndexNew;return i-r>0&&n.push({index:r,type:"insert",values:t.slice(r,i)}),o-r>0&&n.push({index:r+(i-r),type:"delete",howMany:o-r}),n}function Ru(t,e){var n=t.firstIndex,r=t.lastIndexOld,o=t.lastIndexNew;if(-1===n)return Array(e).fill("equal");var i=[];return n>0&&(i=i.concat(Array(n).fill("equal"))),o-n>0&&(i=i.concat(Array(o-n).fill("insert"))),r-n>0&&(i=i.concat(Array(r-n).fill("delete"))),o<e&&(i=i.concat(Array(e-o).fill("equal"))),i}function Tu(t,e,n){n=n||function(t,e){return t===e};var r,o,i=t.length,a=e.length;if(i>200||a>200||i+a>300)return Tu.fastDiff(t,e,n,!0);if(a<i){var c=t;t=e,e=c,r="delete",o="insert"}else r="insert",o="delete";var u=t.length,s=e.length,l=s-u,f={},h={};function p(i){var a=(void 0!==h[i-1]?h[i-1]:-1)+1,c=void 0!==h[i+1]?h[i+1]:-1,l=a>c?-1:1;f[i+l]&&(f[i]=f[i+l].slice(0)),f[i]||(f[i]=[]),f[i].push(a>c?r:o);for(var p=Math.max(a,c),d=p-i;d<u&&p<s&&n(t[d],e[p]);)d++,p++,f[i].push("equal");return p}var d,y=0;do{for(d=-y;d<l;d++)h[d]=p(d);for(d=l+y;d>l;d--)h[d]=p(d);h[l]=p(l),y++}while(h[l]!==s);return f[l].slice(1)}function ju(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Cu(t){var e=t.parentNode;e&&e.removeChild(t)}function Iu(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Mu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Du(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Du(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Tu.fastDiff=xu;var Bu=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}var e,n,r;return e=t,(n=[{key:"markToSync",value:function(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new u.a("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}},{key:"render",value:function(){var t,e,n=Mu(this.markedChildren);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._updateChildrenMappings(r)}}catch(t){n.e(t)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));var o,i=Mu(this.markedAttributes);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._updateAttrs(a)}}catch(t){i.e(t)}finally{i.f()}var c,u=Mu(this.markedChildren);try{for(u.s();!(c=u.n()).done;){var s=c.value;this._updateChildren(s,{inlineFillerPosition:t})}}catch(t){u.e(t)}finally{u.f()}var l,f=Mu(this.markedTexts);try{for(f.s();!(l=f.n()).done;){var h=l.value;!this.markedChildren.has(h.parent)&&this.domConverter.mapViewToDom(h.parent)&&this._updateText(h,{inlineFillerPosition:t})}}catch(t){f.e(t)}finally{f.f()}if(t){var p=this.domConverter.viewPositionToDom(t),d=p.parent.ownerDocument;wu(p.parent)?this._inlineFiller=p.parent:this._inlineFiller=zu(d,p.parent,p.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var n=Array.from(this.domConverter.mapViewToDom(t).childNodes),r=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,r),i=this._findReplaceActions(o,n,r);if(-1!==i.indexOf("replace")){var a,c={equal:0,insert:0,delete:0},u=Mu(i);try{for(u.s();!(a=u.n()).done;){var s=a.value;if("replace"===s){var l=c.equal+c.insert,f=c.equal+c.delete,h=t.getChild(l);!h||h.is("uiElement")||h.is("rawElement")||this._updateElementMappings(h,n[f]),Cu(r[l]),c.equal++}else c[s]++}}catch(t){u.e(t)}finally{u.f()}}}}},{key:"_updateElementMappings",value:function(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}},{key:"_getInlineFillerPosition",value:function(){var t=this.selection.getFirstPosition();return t.parent.is("$text")?da._createBefore(this.selection.getFirstPosition().parent):t}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&yu(e.parent)&&wu(e.parent))}},{key:"_removeInlineFiller",value:function(){var t=this._inlineFiller;if(!wu(t))throw new u.a("view-renderer-filler-was-lost",this);ku(t)?t.parentNode.removeChild(t):t.data=t.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;var e=t.findAncestor(function(t){return t.hasAttribute("contenteditable")});return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;var r=t.nodeBefore,o=t.nodeAfter;return!(r instanceof vo||o instanceof vo)}},{key:"_updateText",value:function(t,e){var n=this.domConverter.findCorrespondingDomText(t),r=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data,i=r.data,a=e.inlineFillerPosition;if(a&&a.parent==t.parent&&a.offset==t.index&&(i=gu+i),o!=i){var c,u=Mu(xu(o,i));try{for(u.s();!(c=u.n()).done;){var s=c.value;"insert"===s.type?n.insertData(s.index,s.values.join("")):n.deleteData(s.index,s.howMany)}}catch(t){u.e(t)}finally{u.f()}}}},{key:"_updateAttrs",value:function(t){var e=this.domConverter.mapViewToDom(t);if(e){var n,r=Array.from(e.attributes).map(function(t){return t.name}),o=Mu(t.getAttributeKeys());try{for(o.s();!(n=o.n()).done;){var i=n.value;e.setAttribute(i,t.getAttribute(i))}}catch(t){o.e(t)}finally{o.f()}var a,c=Mu(r);try{for(c.s();!(a=c.n()).done;){var u=a.value;t.hasAttribute(u)||e.removeAttribute(u)}}catch(t){c.e(t)}finally{c.f()}}}},{key:"_updateChildren",value:function(t,e){var n=this.domConverter.mapViewToDom(t);if(n){var r=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:r}));r&&r.parent===t&&zu(n.ownerDocument,i,r.offset);var a,c=this._diffNodeLists(o,i),u=0,s=new Set,l=Mu(c);try{for(l.s();!(a=l.n()).done;){var f=a.value;"delete"===f?(s.add(o[u]),Cu(o[u])):"equal"===f&&u++}}catch(t){l.e(t)}finally{l.f()}u=0;var h,p=Mu(c);try{for(p.s();!(h=p.n()).done;){var d=h.value;"insert"===d?(ju(n,u,i[u]),u++):"equal"===d&&(this._markDescendantTextToSync(this.domConverter.domToView(i[u])),u++)}}catch(t){p.e(t)}finally{p.f()}var y,m=Mu(s);try{for(m.s();!(y=m.n()).done;){var v=y.value;v.parentNode||this.domConverter.unbindDomElement(v)}}catch(t){m.e(t)}finally{m.f()}}}},{key:"_diffNodeLists",value:function(t,e){return Tu((n=t,r=this._fakeSelectionContainer,o=Array.from(n),t=0!=o.length&&r?(o[o.length-1]==r&&o.pop(),o):o),e,Fu.bind(null,this.domConverter));var n,r,o}},{key:"_findReplaceActions",value:function(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;var r,o=[],i=[],a=[],c={equal:0,insert:0,delete:0},u=Mu(t);try{for(u.s();!(r=u.n()).done;){var s=r.value;"insert"===s?a.push(n[c.equal+c.insert]):"delete"===s?i.push(e[c.equal+c.delete]):((o=o.concat(Tu(i,a,Lu).map(function(t){return"equal"===t?"replace":t}))).push("equal"),i=[],a=[]),c[s]++}}catch(t){u.e(t)}finally{u.f()}return o.concat(Tu(i,a,Lu).map(function(t){return"equal"===t?"replace":t}))}},{key:"_markDescendantTextToSync",value:function(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element")){var e,n=Mu(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._markDescendantTextToSync(r)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}},{key:"_updateFakeSelection",value:function(t){var e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){var e=t.createElement("div");return e.className="ck-fake-selection-container",Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent=" ",e}(e));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(t)){n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";var r=e.getSelection(),o=e.createRange();r.removeAllRanges(),o.selectNodeContents(n),r.addRange(o)}}},{key:"_updateDomSelection",value:function(t){var e=t.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(e)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),r=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(r.parent,r.offset),gc.isGecko&&function(t,e){var n=t.parent;if(n.nodeType==Node.ELEMENT_NODE&&t.offset==n.childNodes.length-1){var r=n.childNodes[t.offset];r&&"BR"==r.tagName&&e.addRange(e.getRangeAt(0))}}(r,e)}}},{key:"_domSelectionNeedsUpdate",value:function(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;var e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}},{key:"_fakeSelectionNeedsUpdate",value:function(t){var e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var t,e=Mu(this.domDocuments);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.getSelection().rangeCount){var r=n.activeElement,o=this.domConverter.mapDomToView(r);r&&o&&n.getSelection().removeAllRanges()}}}catch(t){e.e(t)}finally{e.f()}}},{key:"_removeFakeSelection",value:function(){var t=this._fakeSelectionContainer;t&&t.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}])&&Nu(e.prototype,n),r&&Nu(e,r),t}();function zu(t,e,n){var r=e instanceof Array?e:e.childNodes,o=r[n];if(yu(o))return o.data=gu+o.data,o;var i=t.createTextNode(gu);return Array.isArray(e)?r.splice(n,0,i):ju(e,n,i),i}function Lu(t,e){return Iu(t)&&Iu(e)&&!yu(t)&&!yu(e)&&t.nodeType!==Node.COMMENT_NODE&&e.nodeType!==Node.COMMENT_NODE&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Fu(t,e,n){return e===n||(yu(e)&&yu(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}pe(Bu,oe);var Vu={window:window,document:document};function qu(t){for(var e=0;t.previousSibling;)t=t.previousSibling,e++;return e}function Uu(t){for(var e=[];t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}function Hu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||$u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wu(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=$u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function $u(t,e){if(t){if("string"==typeof t)return Gu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gu(t,e):void 0}}function Gu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ku(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ju=bu(document),Xu=mu(document),Zu=vu(document),Qu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ku(this,t),this.document=e,this.blockFillerMode=n.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Po,this._encounteredRawContentDomNodes=new WeakSet}var e,n,r;return e=t,(n=[{key:"bindFakeSelection",value:function(t,e){this._fakeSelectionMapping.set(t,new Ea(e))}},{key:"fakeSelectionToView",value:function(t){return this._fakeSelectionMapping.get(t)}},{key:"bindElements",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"unbindDomElement",value:function(t){var e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);var n,r=Wu(t.childNodes);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.unbindDomElement(o)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"bindDocumentFragments",value:function(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}},{key:"viewToDom",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.is("$text")){var o=this._processDataFromViewText(t);return e.createTextNode(o)}if(this.mapViewToDom(t))return this.mapViewToDom(t);if(t.is("documentFragment"))n=e.createDocumentFragment(),r.bind&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return n="$comment"===t.name?e.createComment(t.getCustomProperty("$rawContent")):t.render(e),r.bind&&this.bindElements(n,t),n;n=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),t.is("rawElement")&&t.render(n),r.bind&&this.bindElements(n,t);var i,a=Wu(t.getAttributeKeys());try{for(a.s();!(i=a.n()).done;){var c=i.value;n.setAttribute(c,t.getAttribute(c))}}catch(t){a.e(t)}finally{a.f()}}if(!1!==r.withChildren){var u,s=Wu(this.viewChildrenToDom(t,e,r));try{for(s.s();!(u=s.n()).done;){var l=u.value;n.appendChild(l)}}catch(t){s.e(t)}finally{s.f()}}return n}},{key:"viewChildrenToDom",value:regeneratorRuntime.mark(function t(e,n){var r,o,i,a,c,u,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=s.length>2&&void 0!==s[2]?s[2]:{},o=e.getFillerOffset&&e.getFillerOffset(),i=0,a=Wu(e.getChildren()),t.prev=4,a.s();case 6:if((c=a.n()).done){t.next=16;break}if(u=c.value,o!==i){t.next=11;break}return t.next=11,this._getBlockFiller(n);case 11:return t.next=13,this.viewToDom(u,n,r);case 13:i++;case 14:t.next=6;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),a.e(t.t0);case 21:return t.prev=21,a.f(),t.finish(21);case 24:if(o!==i){t.next=27;break}return t.next=27,this._getBlockFiller(n);case 27:case"end":return t.stop()}},t,this,[[4,18,21,24]])})},{key:"viewRangeToDom",value:function(t){var e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),r=document.createRange();return r.setStart(e.parent,e.offset),r.setEnd(n.parent,n.offset),r}},{key:"viewPositionToDom",value:function(t){var e,n,r,o=t.parent;if(o.is("$text")){var i=this.findCorrespondingDomText(o);if(!i)return null;var a=t.offset;return wu(i)&&(a+=7),{parent:i,offset:a}}if(0===t.offset){if(!(e=this.mapViewToDom(o)))return null;r=e.childNodes[0]}else{var c=t.nodeBefore;if(!(n=c.is("$text")?this.findCorrespondingDomText(c):this.mapViewToDom(t.nodeBefore)))return null;e=n.parentNode,r=n.nextSibling}return yu(r)&&wu(r)?{parent:r,offset:7}:{parent:e,offset:n?qu(n)+1:0}}},{key:"domToView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(t))return null;var n,r=this.getHostViewElement(t);if(r)return r;if(this.isComment(t)&&e.skipComments)return null;if(yu(t)){if(ku(t))return null;var o=this._processDataFromDomText(t);return""===o?null:new vo(this.document,o)}if(this.mapDomToView(t))return this.mapDomToView(t);if(this.isDocumentFragment(t))n=new Qc(this.document),e.bind&&this.bindDocumentFragments(t,n);else{n=this._createViewElement(t,e),e.bind&&this.bindElements(t,n);var i=t.attributes;if(i)for(var a=i.length-1;a>=0;a--)n._setAttribute(i[a].name,i[a].value);if(this._isViewElementWithRawContent(n,e)||this.isComment(t)){var c=this.isComment(t)?t.data:t.innerHTML;return n._setCustomProperty("$rawContent",c),this._encounteredRawContentDomNodes.add(t),n}}if(!1!==e.withChildren){var u,s=Wu(this.domChildrenToView(t,e));try{for(s.s();!(u=s.n()).done;){var l=u.value;n._appendChild(l)}}catch(t){s.e(t)}finally{s.f()}}return n}},{key:"domChildrenToView",value:regeneratorRuntime.mark(function t(e){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a.length>1&&void 0!==a[1]?a[1]:{},r=0;case 2:if(!(r<e.childNodes.length)){t.next=11;break}if(o=e.childNodes[r],null===(i=this.domToView(o,n))){t.next=8;break}return t.next=8,i;case 8:r++,t.next=2;break;case 11:case"end":return t.stop()}},t,this)})},{key:"domSelectionToView",value:function(t){if(1===t.rangeCount){var e=t.getRangeAt(0).startContainer;yu(e)&&(e=e.parentNode);var n=this.fakeSelectionToView(e);if(n)return n}for(var r=this.isDomSelectionBackward(t),o=[],i=0;i<t.rangeCount;i++){var a=t.getRangeAt(i),c=this.domRangeToView(a);c&&o.push(c)}return new Ea(o,{backward:r})}},{key:"domRangeToView",value:function(t){var e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new ga(e,n):null}},{key:"domPositionToView",value:function(t,e){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,qu(t));var n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return da._createBefore(n);if(yu(t)){if(ku(t))return this.domPositionToView(t.parentNode,qu(t));var r=this.findCorrespondingViewText(t),o=e;return r?(wu(t)&&(o=(o-=7)<0?0:o),new da(r,o)):null}if(0===e){var i=this.mapDomToView(t);if(i)return new da(i,0)}else{var a=t.childNodes[e-1],c=yu(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(c&&c.parent)return new da(c.parent,c.index+1)}return null}},{key:"mapDomToView",value:function(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}},{key:"findCorrespondingViewText",value:function(t){if(ku(t))return null;var e=this.getHostViewElement(t);if(e)return e;var n=t.previousSibling;if(n){if(!this.isElement(n))return null;var r=this.mapDomToView(n);if(r)return r.nextSibling instanceof vo?r.nextSibling:null}else{var o=this.mapDomToView(t.parentNode);if(o){var i=o.getChild(0);return i instanceof vo?i:null}}return null}},{key:"mapViewToDom",value:function(t){return this._viewToDomMapping.get(t)}},{key:"findCorrespondingDomText",value:function(t){var e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}},{key:"focus",value:function(t){var e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){var n=Vu.window,r=n.scrollX,o=n.scrollY,i=[];ts(e,function(t){var e=t.scrollLeft,n=t.scrollTop;i.push([e,n])}),e.focus(),ts(e,function(t){var e=Hu(i.shift(),2),n=e[0],r=e[1];t.scrollLeft=n,t.scrollTop=r}),Vu.window.scrollTo(r,o)}}},{key:"isElement",value:function(t){return t&&t.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(t){return t&&t.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(t){return"br"==this.blockFillerMode?t.isEqualNode(Ju):!("BR"!==t.tagName||!es(t,this.blockElements)||1!==t.parentNode.childNodes.length)||t.isEqualNode(Zu)||function(t,e){return t.isEqualNode(Xu)&&es(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}},{key:"isDomSelectionBackward",value:function(t){if(t.isCollapsed)return!1;var e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);var n=e.collapsed;return e.detach(),n}},{key:"getHostViewElement",value:function(t){var e=Uu(t);for(e.pop();e.length;){var n=e.pop(),r=this._domToViewMapping.get(n);if(r&&(r.is("uiElement")||r.is("rawElement")))return r}return null}},{key:"isDomSelectionCorrect",value:function(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}},{key:"registerRawContentMatcher",value:function(t){this._rawContentElementMatcher.add(t)}},{key:"_getBlockFiller",value:function(t){switch(this.blockFillerMode){case"nbsp":return mu(t);case"markedNbsp":return vu(t);case"br":return bu(t)}}},{key:"_isDomSelectionPositionCorrect",value:function(t,e){if(yu(t)&&wu(t)&&e<7)return!1;if(this.isElement(t)&&wu(t.childNodes[e]))return!1;var n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}},{key:"_processDataFromViewText",value:function(t){var e=this,n=t.data;if(t.getAncestors().some(function(t){return e.preElements.includes(t.name)}))return n;if(" "==n.charAt(0)){var r=this._getTouchingInlineViewNode(t,!1);!(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r))&&r||(n=" "+n.substr(1))}if(" "==n.charAt(n.length-1)){var o=this._getTouchingInlineViewNode(t,!0),i=o&&o.is("$textProxy")&&" "==o.data.charAt(0);" "!=n.charAt(n.length-2)&&o&&!i||(n=n.substr(0,n.length-1)+" ")}return n.replace(/ {2}/g,"  ")}},{key:"_nodeEndsWithSpace",value:function(t){var e=this;if(t.getAncestors().some(function(t){return e.preElements.includes(t.name)}))return!1;var n=this._processDataFromViewText(t);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(t){var e=t.data;if(function(t,e){return Uu(t).some(function(t){return t.tagName&&e.includes(t.tagName.toLowerCase())})}(t,this.preElements))return _u(t);e=e.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(t,!1),r=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(t,n),i=this._checkShouldRightTrimDomText(t,r);o&&(e=e.replace(/^ /,"")),i&&(e=e.replace(/ $/,"")),e=(e=_u(new Text(e))).replace(/ \u00A0/g,"  ");var a=r&&this.isElement(r)&&"BR"!=r.tagName,c=r&&yu(r)&&" "==r.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!r||a||c)&&(e=e.replace(/\u00A0$/," ")),(o||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}},{key:"_checkShouldLeftTrimDomText",value:function(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}},{key:"_checkShouldRightTrimDomText",value:function(t,e){return!e&&!wu(t)}},{key:"_getTouchingInlineViewNode",value:function(t,e){var n,r=Wu(new ha({startPosition:e?da._createAfter(t):da._createBefore(t),direction:e?"forward":"backward"}));try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.item.is("element")&&this.inlineObjectElements.includes(o.item.name))return o.item;if(o.item.is("containerElement"))return null;if(o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(t,e){if(!t.parentNode)return null;var n=e?"firstChild":"lastChild",r=e?"nextSibling":"previousSibling",o=!0;do{if(!o&&t[n]?t=t[n]:t[r]?(t=t[r],o=!1):(t=t.parentNode,o=!0),!t||this._isBlockElement(t))return null}while(!yu(t)&&"BR"!=t.tagName&&!this._isInlineObjectElement(t));return t}},{key:"_isBlockElement",value:function(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}},{key:"_isInlineObjectElement",value:function(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}},{key:"_createViewElement",value:function(t,e){if(this.isComment(t))return new Lc(this.document,"$comment");var n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new Di(this.document,n)}},{key:"_isViewElementWithRawContent",value:function(t,e){return!1!==e.withChildren&&this._rawContentElementMatcher.match(t)}}])&&Yu(e.prototype,n),r&&Yu(e,r),t}();function ts(t,e){for(;t&&t!=Vu.document;)e(t),t=t.parentNode}function es(t,e){var n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}function ns(t){var e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var rs=Gt({},m,{listenTo:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(Iu(t)||ns(t)){var i=this._getProxyEmitter(t)||new os(t);i.attach.apply(i,r),t=i}(e=m.listenTo).call.apply(e,[this,t].concat(r))},stopListening:function(t,e,n){if(Iu(t)||ns(t)){var r=this._getProxyEmitter(t);if(!r)return;t=r}m.stopListening.call(this,t,e,n),t instanceof os&&t.detach(e)},_getProxyEmitter:function(t){return e=this,n=is(t),e[d]&&e[d][n]?e[d][n].emitter:null;var e,n}}),os=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,is(e)),this._domNode=e};function is(t){return t["data-ck-expando"]||(t["data-ck-expando"]=a())}function as(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Gt(os.prototype,m,{attach:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._domListeners||!this._domListeners[t]){var r={capture:!!n.useCapture,passive:!!n.usePassive},o=this._createDomListener(t,r);this._domNode.addEventListener(t,o,r),this._domListeners||(this._domListeners={}),this._domListeners[t]=o}},detach:function(t){var e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener:function(t,e){var n=this,r=function(e){n.fire(t,e)};return r.removeListener=function(){n._domNode.removeEventListener(t,r,e),delete n._domListeners[t]},r}});var cs=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,this.document=e.document,this.isEnabled=!1}var e,n,r;return e=t,(n=[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}},{key:"checkShouldIgnoreEventFromTarget",value:function(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}])&&as(e.prototype,n),r&&as(e,r),t}();pe(cs,rs);var us=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var ss=function(t){return this.__data__.has(t)};function ls(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new yn;++e<n;)this.add(t[e])}ls.prototype.add=ls.prototype.push=us,ls.prototype.has=ss;var fs=ls;var hs=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var ps=function(t,e){return t.has(e)};var ds=function(t,e,n,r,o,i){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var l=-1,f=!0,h=2&n?new fs:void 0;for(i.set(t,e),i.set(e,t);++l<c;){var p=t[l],d=e[l];if(r)var y=a?r(d,p,l,e,t,i):r(p,d,l,t,e,i);if(void 0!==y){if(y)continue;f=!1;break}if(h){if(!hs(e,function(t,e){if(!ps(h,e)&&(p===t||o(p,t,n,r,i)))return h.push(e)})){f=!1;break}}else if(p!==d&&!o(p,d,n,r,i)){f=!1;break}}return i.delete(t),i.delete(e),f};var ys=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n};var ms=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n},vs=E?E.prototype:void 0,bs=vs?vs.valueOf:void 0;var gs=function(t,e,n,r,o,i,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Qn(t),new Qn(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return nt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=ys;case"[object Set]":var u=1&r;if(c||(c=ms),t.size!=e.size&&!u)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=ds(c(t),c(e),r,o,i,a);return a.delete(t),l;case"[object Symbol]":if(bs)return bs.call(t)==bs.call(e)}return!1},ws=Object.prototype.hasOwnProperty;var ks=function(t,e,n,r,o,i){var a=1&n,c=zn(t),u=c.length;if(u!=zn(e).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in e:ws.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var h=!0;i.set(t,e),i.set(e,t);for(var p=a;++s<u;){var d=t[l=c[s]],y=e[l];if(r)var m=a?r(y,d,l,e,t,i):r(d,y,l,t,e,i);if(!(void 0===m?d===y||o(d,y,n,r,i):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(t),i.delete(e),h},_s=Object.prototype.hasOwnProperty;var Ss=function(t,e,n,r,o,i){var a=jt(t),c=jt(e),u=a?"[object Array]":Jn(t),s=c?"[object Array]":Jn(e),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h=u==s;if(h&&Object(Ct.a)(t)){if(!Object(Ct.a)(e))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new bn),a||zt(t)?ds(t,e,n,r,o,i):gs(t,e,u,n,r,o,i);if(!(1&n)){var p=l&&_s.call(t,"__wrapped__"),d=f&&_s.call(e,"__wrapped__");if(p||d){var y=p?t.value():t,m=d?e.value():e;return i||(i=new bn),o(y,m,n,r,i)}}return!!h&&(i||(i=new bn),ks(t,e,n,r,o,i))};var xs=function t(e,n,r,o,i){return e===n||(null==e||null==n||!Ot(e)&&!Ot(n)?e!=e&&n!=n:Ss(e,n,r,o,t,i))};var Os=function(t,e,n){var r=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===r?xs(t,e,void 0,n):!!r};function As(t){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ps(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Es(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Es(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Es(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ts(t,e,n){return(Ts="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ds(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function js(t,e){return(js=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Ds(t);if(e){var o=Ds(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Is(this,n)}}function Is(t,e){return!e||"object"!==As(e)&&"function"!=typeof e?Ms(t):e}function Ms(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ds(t){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ns=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&js(t,e)}(i,t);var e,n,r,o=Cs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},e.domConverter=t.domConverter,e.renderer=t._renderer,e._domElements=[],e._mutationObserver=new window.MutationObserver(e._onMutations.bind(Ms(e))),e}return e=i,(n=[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){Ts(Ds(i.prototype),"enable",this).call(this);var t,e=Ps(this._domElements);try{for(e.s();!(t=e.n()).done;){var n=t.value;this._mutationObserver.observe(n,this._config)}}catch(t){e.e(t)}finally{e.f()}}},{key:"disable",value:function(){Ts(Ds(i.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){Ts(Ds(i.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(0!==t.length){var e,n=this.domConverter,r=new Map,o=new Set,i=Ps(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if("childList"===a.type){var c=n.mapDomToView(a.target);if(c&&(c.is("uiElement")||c.is("rawElement")))continue;c&&!this._isBogusBrMutation(a)&&o.add(c)}}}catch(t){i.e(t)}finally{i.f()}var u,s=Ps(t);try{for(s.s();!(u=s.n()).done;){var l=u.value,f=n.mapDomToView(l.target);if((!f||!f.is("uiElement")&&!f.is("rawElement"))&&"characterData"===l.type){var h=n.findCorrespondingViewText(l.target);h&&!o.has(h.parent)?r.set(h,{type:"text",oldText:h.data,newText:_u(l.target),node:h}):!h&&wu(l.target)&&o.add(n.mapDomToView(l.target.parentNode))}}}catch(t){s.e(t)}finally{s.f()}var p,d=[],y=Ps(r.values());try{for(y.s();!(p=y.n()).done;){var m=p.value;this.renderer.markToSync("text",m.node),d.push(m)}}catch(t){y.e(t)}finally{y.f()}var v,b=Ps(o);try{for(b.s();!(v=b.n()).done;){var g=v.value,w=n.mapViewToDom(g),k=Array.from(g.getChildren()),_=Array.from(n.domChildrenToView(w,{withChildren:!1}));Os(k,_,P)||(this.renderer.markToSync("children",g),d.push({type:"children",oldChildren:k,newChildren:_,node:g}))}}catch(t){b.e(t)}finally{b.f()}var S=t[0].target.ownerDocument.getSelection(),x=null;if(S&&S.anchorNode){var O=n.domPositionToView(S.anchorNode,S.anchorOffset),A=n.domPositionToView(S.focusNode,S.focusOffset);O&&A&&(x=new Ea(O)).setFocus(A)}d.length&&(this.document.fire("mutations",d,x),this.view.forceRender())}function P(t,e){if(!Array.isArray(t))return t===e||!(!t.is("$text")||!e.is("$text"))&&t.data===e.data}}},{key:"_isBogusBrMutation",value:function(t){var e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}])&&Rs(e.prototype,n),r&&Rs(e,r),i}(cs);function Bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zs=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,this.document=e.document,this.domEvent=n,this.domTarget=n.target,Gt(this,r)}var e,n,r;return e=t,(n=[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}])&&Bs(e.prototype,n),r&&Bs(e,r),t}();function Ls(t){return(Ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vs(t,e){return(Vs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Hs(t);if(e){var o=Hs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Us(this,n)}}function Us(t,e){return!e||"object"!==Ls(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Hs(t){return(Hs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ws=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vs(t,e)}(i,t);var e,n,r,o=qs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).useCapture=!1,e}return e=i,(n=[{key:"observe",value:function(t){var e=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(function(n){e.listenTo(t,n,function(t,n){e.isEnabled&&!e.checkShouldIgnoreEventFromTarget(n.target)&&e.onDomEvent(n)},{useCapture:e.useCapture})})}},{key:"fire",value:function(t,e,n){this.isEnabled&&this.document.fire(t,new zs(this.view,e,n))}}])&&Fs(e.prototype,n),r&&Fs(e,r),i}(cs);function $s(t){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ks(t,e){return(Ks=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ys(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Xs(t);if(e){var o=Xs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Js(this,n)}}function Js(t,e){return!e||"object"!==$s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xs(t){return(Xs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ks(t,e)}(i,t);var e,n,r,o=Ys(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType=["keydown","keyup"],e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Ac(this)}})}}])&&Gs(e.prototype,n),r&&Gs(e,r),i}(Ws),Qs=function(){return P.a.Date.now()},tl=/^\s+|\s+$/g,el=/^[-+]0x[0-9a-f]+$/i,nl=/^0b[01]+$/i,rl=/^0o[0-7]+$/i,ol=parseInt;var il=function(t){if("number"==typeof t)return t;if(jo(t))return NaN;if(A(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=A(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(tl,"");var n=nl.test(t);return n||rl.test(t)?ol(t.slice(2),n?2:8):el.test(t)?NaN:+t},al=Math.max,cl=Math.min;var ul=function(t,e,n){var r,o,i,a,c,u,s=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function d(t){return s=t,c=setTimeout(m,e),l?p(t):a}function y(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-s>=i}function m(){var t=Qs();if(y(t))return v(t);c=setTimeout(m,function(t){var n=e-(t-u);return f?cl(n,i-(t-s)):n}(t))}function v(t){return c=void 0,h&&r?p(t):(r=o=void 0,a)}function b(){var t=Qs(),n=y(t);if(r=arguments,o=this,u=t,n){if(void 0===c)return d(u);if(f)return clearTimeout(c),c=setTimeout(m,e),p(u)}return void 0===c&&(c=setTimeout(m,e)),a}return e=il(e)||0,A(n)&&(l=!!n.leading,i=(f="maxWait"in n)?al(il(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},b.flush=function(){return void 0===c?a:v(Qs())},b};function sl(t){return(sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fl(t,e,n){return(fl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hl(t,e){return(hl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=yl(t);if(e){var o=yl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dl(this,n)}}function dl(t,e){return!e||"object"!==sl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yl(t){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ml=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hl(t,e)}(i,t);var e,n,r,o=pl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._fireSelectionChangeDoneDebounced=ul(function(t){return e.document.fire("selectionChangeDone",t)},200),e}return e=i,(n=[{key:"observe",value:function(){var t=this,e=this.document;e.on("arrowKey",function(n,r){e.selection.isFake&&t.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",function(n,r){e.selection.isFake&&t.isEnabled&&t._handleSelectionMove(r.keyCode)},{priority:"lowest"})}},{key:"destroy",value:function(){fl(yl(i.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var e=this.document.selection,n=new Ea(e.getRanges(),{backward:e.isBackward,fake:!1});t!=xc.arrowleft&&t!=xc.arrowup||n.setTo(n.getFirstPosition()),t!=xc.arrowright&&t!=xc.arrowdown||n.setTo(n.getLastPosition());var r={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",r),this._fireSelectionChangeDoneDebounced(r)}}])&&ll(e.prototype,n),r&&ll(e,r),i}(cs);function vl(t){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gl(t,e,n){return(gl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wl(t,e){return(wl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Sl(t);if(e){var o=Sl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _l(this,n)}}function _l(t,e){return!e||"object"!==vl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sl(t){return(Sl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wl(t,e)}(i,t);var e,n,r,o=kl(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).mutationObserver=t.getObserver(Ns),e.selection=e.document.selection,e.domConverter=t.domConverter,e._documents=new WeakSet,e._fireSelectionChangeDoneDebounced=ul(function(t){return e.document.fire("selectionChangeDone",t)},200),e._clearInfiniteLoopInterval=setInterval(function(){return e._clearInfiniteLoop()},1e3),e._loopbackCounter=0,e}return e=i,(n=[{key:"observe",value:function(t){var e=this,n=t.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",function(t,r){e._handleSelectionChange(r,n)}),this._documents.add(n))}},{key:"destroy",value:function(){gl(Sl(i.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t,e){if(this.isEnabled){var n=e.defaultView.getSelection();if(!this.checkShouldIgnoreEventFromTarget(n.anchorNode)){this.mutationObserver.flush();var r=this.domConverter.domSelectionToView(n);if(0!=r.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(r)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.selection.isSimilar(r))this.view.forceRender();else{var o={oldSelection:this.selection,newSelection:r,domSelection:n};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}else this.view.hasDomSelection=!1}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}])&&bl(e.prototype,n),r&&bl(e,r),i}(cs);function Ol(t){return(Ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pl(t,e,n){return(Pl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jl(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function El(t,e){return(El=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jl(t);if(e){var o=jl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tl(this,n)}}function Tl(t,e){return!e||"object"!==Ol(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jl(t){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cl=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&El(t,e)}(i,t);var e,n,r,o=Rl(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType=["focus","blur"],e.useCapture=!0;var n=e.document;return n.on("focus",function(){n.isFocused=!0,e._renderTimeoutId=setTimeout(function(){return t.change(function(){})},50)}),n.on("blur",function(e,r){var o=n.selection.editableElement;null!==o&&o!==r.target||(n.isFocused=!1,t.change(function(){}))}),e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),Pl(jl(i.prototype),"destroy",this).call(this)}}])&&Al(e.prototype,n),r&&Al(e,r),i}(Ws);function Il(t){return(Il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dl(t,e){return(Dl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=zl(t);if(e){var o=zl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bl(this,n)}}function Bl(t,e){return!e||"object"!==Il(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zl(t){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ll=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dl(t,e)}(i,t);var e,n,r,o=Nl(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType=["compositionstart","compositionupdate","compositionend"];var n=e.document;return n.on("compositionstart",function(){n.isComposing=!0}),n.on("compositionend",function(){n.isComposing=!1}),e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}])&&Ml(e.prototype,n),r&&Ml(e,r),i}(Ws);function Fl(t){return(Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ql(t,e){return(ql=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ul(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Wl(t);if(e){var o=Wl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hl(this,n)}}function Hl(t,e){return!e||"object"!==Fl(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wl(t){return(Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ql(t,e)}(i,t);var e,n,r,o=Ul(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType=["beforeinput"],e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}])&&Vl(e.prototype,n),r&&Vl(e,r),i}(Ws);function Gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kl=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._replacedElements=[]}var e,n,r;return e=t,(n=[{key:"replace",value:function(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(t){var e=t.element,n=t.newElement;e.style.display="",n&&n.remove()}),this._replacedElements=[]}}])&&Gl(e.prototype,n),r&&Gl(e,r),t}();var Yl=function(t){return"string"==typeof t||!jt(t)&&Ot(t)&&"[object String]"==B(t)};function Jl(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Xl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Xl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zl(t){return"[object Range]"==Object.prototype.toString.apply(t)}function Ql(t){var e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function tf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ef(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ef(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ef(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rf=["top","right","bottom","left","width","height"],of=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=Zl(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),kr(e)||n)if(n){var r=t.getDomRangeRects(e);af(this,t.getBoundingRect(r))}else af(this,e.getBoundingClientRect());else if(ns(e)){var o=e.innerWidth,i=e.innerHeight;af(this,{top:0,right:o,bottom:i,left:0,width:o,height:i})}else af(this,e)}var e,n,r;return e=t,r=[{key:"getDomRangeRects",value:function(e){var n=[],r=Array.from(e.getClientRects());if(r.length){var o,i=tf(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.push(new t(a))}}catch(t){i.e(t)}finally{i.f()}}else{var c=e.startContainer;yu(c)&&(c=c.parentNode);var u=new t(c.getBoundingClientRect());u.right=u.left,u.width=0,n.push(u)}return n}},{key:"getBoundingRect",value:function(e){var n,r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY},o=0,i=tf(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;o++,r.left=Math.min(r.left,a.left),r.top=Math.min(r.top,a.top),r.right=Math.max(r.right,a.right),r.bottom=Math.max(r.bottom,a.bottom)}}catch(t){i.e(t)}finally{i.f()}return 0==o?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new t(r))}}],(n=[{key:"clone",value:function(){return new t(this)}},{key:"moveTo",value:function(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}},{key:"moveBy",value:function(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}},{key:"getIntersection",value:function(e){var n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new t(n)}},{key:"getIntersectionArea",value:function(t){var e=this.getIntersection(t);return e?e.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,n=this.clone();if(!cf(e))for(var r=e.parentNode||e.commonAncestorContainer;r&&!cf(r);){var o=new t(r),i=n.getIntersection(o);if(!i)return null;i.getArea()<n.getArea()&&(n=i),r=r.parentNode}return n}},{key:"isEqual",value:function(t){var e,n=tf(rf);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this[r]!==t[r])return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"contains",value:function(t){var e=this.getIntersection(t);return!(!e||!e.isEqual(t))}},{key:"excludeScrollbarsAndBorders",value:function(){var t,e,n,r=this._source;if(ns(r))t=r.innerWidth-r.document.documentElement.clientWidth,e=r.innerHeight-r.document.documentElement.clientHeight,n=r.getComputedStyle(r.document.documentElement).direction;else{var o=Ql(this._source);t=r.offsetWidth-r.clientWidth-o.left-o.right,e=r.offsetHeight-r.clientHeight-o.top-o.bottom,n=r.ownerDocument.defaultView.getComputedStyle(r).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===n?this.right-=t:this.left+=t,this.height-=e,this.bottom-=e,this}}])&&nf(e.prototype,n),r&&nf(e,r),t}();function af(t,e){var n,r=tf(rf);try{for(r.s();!(n=r.n()).done;){var o=n.value;t[o]=e[o]}}catch(t){r.e(t)}finally{r.f()}}function cf(t){return!!kr(t)&&t===t.ownerDocument.body}function uf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function sf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ff(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hf(t,e,n){return e&&ff(t.prototype,e),n&&ff(t,n),t}var pf=function(){function t(e,n){lf(this,t),t._observerInstance||t._createObserver(),this._element=e,this._callback=n,t._addElementCallback(e,n),t._observerInstance.observe(e)}return hf(t,[{key:"destroy",value:function(){t._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,n){t._elementCallbacks||(t._elementCallbacks=new Map);var r=t._elementCallbacks.get(e);r||(r=new Set,t._elementCallbacks.set(e,r)),r.add(n)}},{key:"_deleteElementCallback",value:function(e,n){var r=t._getElementCallbacks(e);r&&(r.delete(n),r.size||(t._elementCallbacks.delete(e),t._observerInstance.unobserve(e))),t._elementCallbacks&&!t._elementCallbacks.size&&(t._observerInstance=null,t._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return t._elementCallbacks?t._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e;e="function"==typeof Vu.window.ResizeObserver?Vu.window.ResizeObserver:df,t._observerInstance=new e(function(e){var n,r=uf(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t._getElementCallbacks(o.target);if(i){var a,c=uf(i);try{for(c.s();!(a=c.n()).done;){(0,a.value)(o)}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){r.e(t)}finally{r.f()}})}}]),t}();pf._observerInstance=null,pf._elementCallbacks=null;var df=function(){function t(e){lf(this,t),this._callback=e,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return hf(t,[{key:"observe",value:function(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var t=this;this.listenTo(Vu.window,"resize",function(){t._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(function e(){t._checkElementRectsAndExecuteCallback(),t._periodicCheckTimeout=setTimeout(e,100)},100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var t,e=[],n=uf(this._elements);try{for(n.s();!(t=n.n()).done;){var r=t.value;this._hasRectChanged(r)&&e.push({target:r,contentRect:this._previousRects.get(r)})}}catch(t){n.e(t)}finally{n.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(t){if(!t.ownerDocument.body.contains(t))return!1;var e=new of(t),n=this._previousRects.get(t),r=!n||!n.isEqual(e);return this._previousRects.set(t,e),r}}]),t}();function yf(t){return function(e){return e+t}}function mf(t){var e=t.next();return e.done?null:e.value}function vf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(df,rs);var bf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}var e,n,r;return e=t,(n=[{key:"add",value:function(t){var e=this;if(this._elements.has(t))throw new u.a("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",function(){return e._focus(t)},{useCapture:!0}),this.listenTo(t,"blur",function(){return e._blur()},{useCapture:!0}),this._elements.add(t)}},{key:"remove",value:function(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}},{key:"_blur",value:function(){var t=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){t.focusedElement=null,t.isFocused=!1},0)}}])&&vf(e.prototype,n),r&&vf(e,r),t}();function gf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(bf,rs),pe(bf,oe);var wf=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._listener=Object.create(rs)}var e,n,r;return e=t,(n=[{key:"listenTo",value:function(t){var e=this;this._listener.listenTo(t,"keydown",function(t,n){e._listener.fire("_keydown:"+Ac(n),n)})}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Pc(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,function(t,n){e(n,function(){n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:o})}},{key:"press",value:function(t){return!!this._listener.fire("_keydown:"+Ac(t),t)}},{key:"destroy",value:function(){this._listener.stopListening()}}])&&gf(e.prototype,n),r&&gf(e,r),t}();function kf(t){return(kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sf(t,e){return(Sf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Af(t);if(e){var o=Af(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Of(this,n)}}function Of(t,e){return!e||"object"!==kf(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Af(t){return(Af=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sf(t,e)}(i,t);var e,n,r,o=xf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).document.on("keydown",function(t,n){if(e.isEnabled&&((o=n.keyCode)==xc.arrowright||o==xc.arrowleft||o==xc.arrowup||o==xc.arrowdown)){var r=new za(e.document,"arrowKey",e.document.selection.getFirstRange());e.document.fire(r,n),r.stop.called&&t.stop()}var o}),e}return e=i,(n=[{key:"observe",value:function(){}}])&&_f(e.prototype,n),r&&_f(e,r),i}(cs);function Ef(t){for(var e=t.target,n=t.viewportOffset,r=void 0===n?0:n,o=Df(e),i=o,a=null;i;){Tf(Nf(i==o?e:a),function(){return Bf(e,i)});var c=Bf(e,i);if(Rf(i,c,r),i.parent!=i){if(a=i.frameElement,i=i.parent,!a)return}else i=null}}function Rf(t,e,n){var r=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),i=new of(t).excludeScrollbarsAndBorders();if(![o,r].every(function(t){return i.contains(t)})){var a=t.scrollX,c=t.scrollY;Cf(o,i)?c-=i.top-e.top+n:jf(r,i)&&(c+=e.bottom-i.bottom+n),If(e,i)?a-=i.left-e.left+n:Mf(e,i)&&(a+=e.right-i.right+n),t.scrollTo(a,c)}}function Tf(t,e){for(var n,r,o=Df(t);t!=o.document.body;)r=e(),(n=new of(t).excludeScrollbarsAndBorders()).contains(r)||(Cf(r,n)?t.scrollTop-=n.top-r.top:jf(r,n)&&(t.scrollTop+=r.bottom-n.bottom),If(r,n)?t.scrollLeft-=n.left-r.left:Mf(r,n)&&(t.scrollLeft+=r.right-n.right)),t=t.parentNode}function jf(t,e){return t.bottom>e.bottom}function Cf(t,e){return t.top<e.top}function If(t,e){return t.left<e.left}function Mf(t,e){return t.right>e.right}function Df(t){return Zl(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Nf(t){if(Zl(t)){var e=t.commonAncestorContainer;return yu(e)&&(e=e.parentNode),e}return t.parentNode}function Bf(t,e){var n=Df(t),r=new of(t);if(n===e)return r;for(var o=n;o!=e;){var i=o.frameElement,a=new of(i).excludeScrollbarsAndBorders();r.moveBy(a.left,a.top),o=o.parent}return r}function zf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Ff(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ff(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ff(t,e){if(t){if("string"==typeof t)return Vf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(t,e):void 0}}function Vf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.assign({},{scrollViewportToShowTarget:Ef,scrollAncestorsToShowTarget:function(t){Tf(Nf(t),function(){return new of(t)})}});var Uf=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=new Qa(e),this.domConverter=new Qu(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Bu(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new iu(this.document),this.addObserver(Ns),this.addObserver(xl),this.addObserver(Cl),this.addObserver(Zs),this.addObserver(ml),this.addObserver(Ll),this.addObserver(Pf),gc.isAndroid&&this.addObserver($l),this.document.on("arrowKey",Su,{priority:"low"}),Fc(this),this.on("render",function(){n._render(),n.document.fire("layoutChanged"),n._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",function(){n._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",function(){n._hasChangedSinceTheLastRendering=!0})}var e,n,r;return e=t,(n=[{key:"attachDomRoot",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",r=this.document.getRoot(n);r._name=t.tagName.toLowerCase();for(var o={},i=0,a=Array.from(t.attributes);i<a.length;i++){var c=a[i],u=c.name,s=c.value;o[u]=s,"class"===u?this._writer.addClass(s.split(" "),r):this._writer.setAttribute(u,s,r)}this._initialDomRootAttributes.set(t,o);var l=function(){e._writer.setAttribute("contenteditable",!r.isReadOnly,r),r.isReadOnly?e._writer.addClass("ck-read-only",r):e._writer.removeClass("ck-read-only",r)};l(),this.domRoots.set(n,t),this.domConverter.bindElements(t,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(t.ownerDocument),r.on("change:children",function(t,n){return e._renderer.markToSync("children",n)}),r.on("change:attributes",function(t,n){return e._renderer.markToSync("attributes",n)}),r.on("change:text",function(t,n){return e._renderer.markToSync("text",n)}),r.on("change:isReadOnly",function(){return e.change(l)}),r.on("change",function(){e._hasChangedSinceTheLastRendering=!0});var f,h=Lf(this._observers.values());try{for(h.s();!(f=h.n()).done;){var p=f.value;p.observe(t,n)}}catch(t){h.e(t)}finally{h.f()}}},{key:"detachDomRoot",value:function(t){var e=this.domRoots.get(t);Array.from(e.attributes).forEach(function(t){var n=t.name;return e.removeAttribute(n)});var n=this._initialDomRootAttributes.get(e);for(var r in n)e.setAttribute(r,n[r]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}},{key:"getDomRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(t)}},{key:"addObserver",value:function(t){var e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);var n,r=Lf(this.domRoots);try{for(r.s();!(n=r.n()).done;){var o=zf(n.value,2),i=o[0],a=o[1];e.observe(a,i)}}catch(t){r.e(t)}finally{r.f()}return e.enable(),e}},{key:"getObserver",value:function(t){return this._observers.get(t)}},{key:"disableObservers",value:function(){var t,e=Lf(this._observers.values());try{for(e.s();!(t=e.n()).done;)t.value.disable()}catch(t){e.e(t)}finally{e.f()}}},{key:"enableObservers",value:function(){var t,e=Lf(this._observers.values());try{for(e.s();!(t=e.n()).done;)t.value.enable()}catch(t){e.e(t)}finally{e.f()}}},{key:"scrollToTheSelection",value:function(){var t=this.document.selection.getFirstRange();t&&Ef({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}},{key:"change",value:function(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new u.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;var e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){u.a.rethrowUnexpectedError(t,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change(function(){})}},{key:"destroy",value:function(){var t,e=Lf(this._observers.values());try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(t,e){return da._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return da._createAfter(t)}},{key:"createPositionBefore",value:function(t){return da._createBefore(t)}},{key:"createRange",value:function(t,e){return new ga(t,e)}},{key:"createRangeOn",value:function(t){return ga._createOn(t)}},{key:"createRangeIn",value:function(t){return ga._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Ea(t,e,n)}},{key:"_disableRendering",value:function(t){this._renderingDisabled=t,0==t&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}])&&qf(e.prototype,n),r&&qf(e,r),t}();function Hf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Uf,oe);var Wf=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=null,this._attrs=wo(e)}var e,n,r;return e=t,(n=[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var t=[],e=this;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"getCommonAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(e),r=t.getAncestors(e),o=0;n[o]==r[o]&&n[o];)o++;return 0===o?null:n[o-1]}},{key:"isBefore",value:function(t){if(this==t)return!1;if(this.root!==t.root)return!1;var e=this.getPath(),n=t.getPath(),r=ao(e,n);switch(r){case"prefix":return!0;case"extension":return!1;default:return e[r]<n[r]}}},{key:"isAfter",value:function(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce(function(t,e){return t[e[0]]=e[1],t},{})),t}},{key:"is",value:function(t){return"node"===t||"model:node"===t}},{key:"_clone",value:function(){return new t(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(t,e){this._attrs.set(t,e)}},{key:"_setAttributesTo",value:function(t){this._attrs=wo(t)}},{key:"_removeAttribute",value:function(t){return this._attrs.delete(t)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new u.a("model-node-not-found-in-parent",this);return t}},{key:"startOffset",get:function(){var t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new u.a("model-node-not-found-in-parent",this);return t}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t+1)||null}},{key:"previousSibling",get:function(){var t=this.index;return null!==t&&this.parent.getChild(t-1)||null}},{key:"root",get:function(){for(var t=this;t.parent;)t=t.parent;return t}}])&&Hf(e.prototype,n),r&&Hf(e,r),t}();function $f(t){return($f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kf(t,e,n){return(Kf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zf(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Yf(t,e){return(Yf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Zf(t);if(e){var o=Zf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xf(this,n)}}function Xf(t,e){return!e||"object"!==$f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Zf(t){return(Zf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yf(t,e)}(i,t);var e,n,r,o=Jf(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e))._data=t||"",n}return e=i,r=[{key:"fromJSON",value:function(t){return new i(t.data,t.attributes)}}],(n=[{key:"is",value:function(t){return"$text"===t||"model:$text"===t||"text"===t||"model:text"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){var t=Kf(Zf(i.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new i(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}])&&Gf(e.prototype,n),r&&Gf(e,r),i}(Wf);function th(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var eh=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textNode=e,n<0||n>e.offsetSize)throw new u.a("model-textproxy-wrong-offsetintext",this);if(r<0||n+r>e.offsetSize)throw new u.a("model-textproxy-wrong-length",this);this.data=e.data.substring(n,n+r),this.offsetInText=n}var e,n,r;return e=t,(n=[{key:"is",value:function(t){return"$textProxy"===t||"model:$textProxy"===t||"textProxy"===t||"model:textProxy"===t}},{key:"getPath",value:function(){var t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}},{key:"getAncestors",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},e=[],n=t.includeSelf?this:this.parent;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}},{key:"hasAttribute",value:function(t){return this.textNode.hasAttribute(t)}},{key:"getAttribute",value:function(t){return this.textNode.getAttribute(t)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}])&&th(e.prototype,n),r&&th(e,r),t}();function nh(t){return function(t){if(Array.isArray(t))return ih(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||oh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=oh(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function oh(t,e){if(t){if("string"==typeof t)return ih(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ih(t,e):void 0}}function ih(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ah(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ch=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nodes=[],e&&this._insertNodes(0,e)}var e,n,r;return e=t,(n=[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(t){return this._nodes[t]||null}},{key:"getNodeIndex",value:function(t){var e=this._nodes.indexOf(t);return-1==e?null:e}},{key:"getNodeStartOffset",value:function(t){var e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce(function(t,e){return t+e.offsetSize},0)}},{key:"indexToOffset",value:function(t){if(t==this._nodes.length)return this.maxOffset;var e=this._nodes[t];if(!e)throw new u.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(t){var e,n=0,r=rh(this._nodes);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(t>=n&&t<n+o.offsetSize)return this.getNodeIndex(o);n+=o.offsetSize}}catch(t){r.e(t)}finally{r.f()}if(n!=t)throw new u.a("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}},{key:"_insertNodes",value:function(t,e){var n,r,o=rh(e);try{for(o.s();!(r=o.n()).done;)if(!(r.value instanceof Wf))throw new u.a("model-nodelist-insertnodes-not-node",this)}catch(t){o.e(t)}finally{o.f()}(n=this._nodes).splice.apply(n,[t,0].concat(nh(e)))}},{key:"_removeNodes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(t,e)}},{key:"toJSON",value:function(){return this._nodes.map(function(t){return t.toJSON()})}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(t,e){return t+e.offsetSize},0)}}])&&ah(e.prototype,n),r&&ah(e,r),t}();function uh(t){return(uh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function lh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hh(t,e,n){return(hh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mh(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ph(t,e){return(ph=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=mh(t);if(e){var o=mh(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yh(this,n)}}function yh(t,e){return!e||"object"!==uh(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mh(t){return(mh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ph(t,e)}(i,t);var e,n,r,o=dh(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e)).name=t,r._children=new ch,n&&r._insertChild(0,n),r}return e=i,r=[{key:"fromJSON",value:function(t){var e=null;if(t.children){e=[];var n,r=sh(t.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.name?e.push(i.fromJSON(o)):e.push(Qf.fromJSON(o))}}catch(t){r.e(t)}finally{r.f()}}return new i(t.name,t.attributes,e)}}],(n=[{key:"is",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?e===this.name&&("element"===t||"model:element"===t):"element"===t||"model:element"===t||"node"===t||"model:node"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var e,n=this,r=sh(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=n.getChild(n.offsetToIndex(o))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"findAncestor",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{includeSelf:!1},n=e.includeSelf?this:this.parent;n;){if(n.name===t)return n;n=n.parent}return null}},{key:"toJSON",value:function(){var t=hh(mh(i.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var e,n=sh(this._children);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.children.push(r.toJSON())}}catch(t){n.e(t)}finally{n.f()}}return t}},{key:"_clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?Array.from(this._children).map(function(t){return t._clone(!0)}):null;return new i(this.name,this.getAttributes(),e)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var n,r=function(t){return"string"==typeof t?[new Qf(t)]:(Er(t)||(t=[t]),Array.from(t).map(function(t){return"string"==typeof t?new Qf(t):t instanceof eh?new Qf(t.data,t.getAttributes()):t}))}(e),o=sh(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this}}catch(t){o.e(t)}finally{o.f()}this._children._insertNodes(t,r)}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(t,n),o=sh(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.parent=null}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}])&&fh(e.prototype,n),r&&fh(e,r),i}(Wf);function bh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var wh=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(bh(this,t),!e.boundaries&&!e.startPosition)throw new u.a("model-tree-walker-no-start-position",null);var n=e.direction||"forward";if("forward"!=n&&"backward"!=n)throw new u.a("model-tree-walker-unknown-direction",e,{direction:n});this.direction=n,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=Ah._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}var e,n,r;return e=t,(n=[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(t){var e,n,r,o;do{r=this.position,o=this._visitedParent;var i=this.next();e=i.done,n=i.value}while(!e&&t(n));e||(this.position=r,this._visitedParent=o)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var r=e.parent,o=Ph(e,r),i=o||Eh(e,r,o);if(i instanceof vh)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,kh("elementStart",i,t,e,1);if(i instanceof Qf){var a;if(this.singleCharacters)a=1;else{var c=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),a=c-e.offset}var u=e.offset-i.startOffset,s=new eh(i,u,a);return e.offset+=a,this.position=e,kh("text",s,t,e,a)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():kh("elementEnd",n,t,e)}},{key:"_previous",value:function(){var t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var r=e.parent,o=Ph(e,r),i=o||Rh(e,r,o);if(i instanceof vh)return e.offset--,this.shallow?(this.position=e,kh("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():kh("elementEnd",i,t,e));if(i instanceof Qf){var a;if(this.singleCharacters)a=1;else{var c=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>c&&(c=this.boundaries.start.offset),a=e.offset-c}var u=e.offset-i.startOffset,s=new eh(i,u-a,a);return e.offset-=a,this.position=e,kh("text",s,t,e,a)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,kh("elementStart",n,t,e,1)}}])&&gh(e.prototype,n),r&&gh(e,r),t}();function kh(t,e,n,r,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:r,length:o}}}function _h(t){return function(t){if(Array.isArray(t))return Sh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Sh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sh(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ah=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(xh(this,t),!e.is("element")&&!e.is("documentFragment"))throw new u.a("model-position-root-invalid",e);if(!(n instanceof Array)||0===n.length)throw new u.a("model-position-path-incorrect-format",e,{path:n});e.is("rootElement")?n=n.slice():(n=[].concat(_h(e.getPath()),_h(n)),e=e.root),this.root=e,this.path=n,this.stickiness=r}var e,n,r;return e=t,r=[{key:"_createAt",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof t)return new t(e.root,e.path,e.stickiness);var o=e;if("end"==n)n=o.maxOffset;else{if("before"==n)return this._createBefore(o,r);if("after"==n)return this._createAfter(o,r);if(0!==n&&!n)throw new u.a("model-createpositionat-offset-required",[this,e])}if(!o.is("element")&&!o.is("documentFragment"))throw new u.a("model-position-parent-incorrect",[this,e]);var i=o.getPath();return i.push(n),new this(o.root,i,r)}},{key:"_createAfter",value:function(t,e){if(!t.parent)throw new u.a("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}},{key:"_createBefore",value:function(t,e){if(!t.parent)throw new u.a("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}},{key:"fromJSON",value:function(e,n){if("$graveyard"===e.root){var r=new t(n.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!n.getRoot(e.root))throw new u.a("model-position-fromjson-no-root",n,{rootName:e.root});return new t(n.getRoot(e.root),e.path,e.stickiness)}}],(n=[{key:"compareWith",value:function(t){if(this.root!=t.root)return"different";var e=ao(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.startPosition=this;var n=new wh(e);return n.skip(t),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}},{key:"findAncestor",value:function(t){var e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}},{key:"getCommonPath",value:function(t){if(this.root!=t.root)return[];var e=ao(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(t){for(var e=this.getAncestors(),n=t.getAncestors(),r=0;e[r]==n[r]&&e[r];)r++;return 0===r?null:e[r-1]}},{key:"getShiftedBy",value:function(t){var e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}},{key:"isAfter",value:function(t){return"after"==this.compareWith(t)}},{key:"isBefore",value:function(t){return"before"==this.compareWith(t)}},{key:"isEqual",value:function(t){return"same"==this.compareWith(t)}},{key:"isTouching",value:function(e){var n=null,r=null;switch(this.compareWith(e)){case"same":return!0;case"before":n=t._createAt(this),r=t._createAt(e);break;case"after":n=t._createAt(e),r=t._createAt(this);break;default:return!1}for(var o=n.parent;n.path.length+r.path.length;){if(n.isEqual(r))return!0;if(n.path.length>r.path.length){if(n.offset!==o.maxOffset)return!1;n.path=n.path.slice(0,-1),o=o.parent,n.offset++}else{if(0!==r.offset)return!1;r.path=r.path.slice(0,-1)}}}},{key:"is",value:function(t){return"position"===t||"model:position"===t}},{key:"hasSameParentAs",value:function(t){return this.root===t.root&&"same"==ao(this.getParentPath(),t.getParentPath())}},{key:"getTransformedByOperation",value:function(e){var n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=t._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(t){return this._getTransformedByInsertion(t.position,t.howMany)}},{key:"_getTransformedByMoveOperation",value:function(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}},{key:"_getTransformedBySplitOperation",value:function(t){var e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var n,r=e.movedRange;return r.containsPosition(this)||r.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?t._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(e,n){var r=t._createAt(this);if(this.root!=e.root)return r;if("same"==ao(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;r.offset-=n}}else if("prefix"==ao(e.getParentPath(),this.getParentPath())){var o=e.path.length-1;if(e.offset<=this.path[o]){if(e.offset+n>this.path[o])return null;r.path[o]-=n}}return r}},{key:"_getTransformedByInsertion",value:function(e,n){var r=t._createAt(this);if(this.root!=e.root)return r;if("same"==ao(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(r.offset+=n);else if("prefix"==ao(e.getParentPath(),this.getParentPath())){var o=e.path.length-1;e.offset<=this.path[o]&&(r.path[o]+=n)}return r}},{key:"_getTransformedByMove",value:function(e,n,r){if(n=n._getTransformedByDeletion(e,r),e.isEqual(n))return t._createAt(this);var o=this._getTransformedByDeletion(e,r);return null===o||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(r).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,n):o._getTransformedByInsertion(n,r)}},{key:"_getCombined",value:function(e,n){var r=e.path.length-1,o=t._createAt(n);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[r]-e.offset,o.path=[].concat(_h(o.path),_h(this.path.slice(r+1))),o}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(t){this.path[this.path.length-1]=t}},{key:"parent",get:function(){for(var t=this.root,e=0;e<this.path.length-1;e++)if(!(t=t.getChild(t.offsetToIndex(this.path[e]))))throw new u.a("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new u.a("model-position-path-incorrect",this,{position:this});return t}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return Ph(this,this.parent)}},{key:"nodeAfter",get:function(){var t=this.parent;return Eh(this,t,Ph(this,t))}},{key:"nodeBefore",get:function(){var t=this.parent;return Rh(this,t,Ph(this,t))}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}])&&Oh(e.prototype,n),r&&Oh(e,r),t}();function Ph(t,e){var n=e.getChild(e.offsetToIndex(t.offset));return n&&n.is("$text")&&n.startOffset<t.offset?n:null}function Eh(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset))}function Rh(t,e,n){return null!==n?null:e.getChild(e.offsetToIndex(t.offset)-1)}function Th(t){return function(t){if(Array.isArray(t))return Ih(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Ch(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ch(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ch(t,e){if(t){if("string"==typeof t)return Ih(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ih(t,e):void 0}}function Ih(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nh=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Mh(this,t),this.start=Ah._createAt(e),this.end=n?Ah._createAt(n):Ah._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}var e,n,r;return e=t,n=[{key:Symbol.iterator,value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(new wh({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"containsPosition",value:function(t){return t.isAfter(this.start)&&t.isBefore(this.end)}},{key:"containsRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.isCollapsed&&(e=!1);var n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),r=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&r}},{key:"containsItem",value:function(t){var e=Ah._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}},{key:"is",value:function(t){return"range"===t||"model:range"===t}},{key:"isEqual",value:function(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}},{key:"isIntersecting",value:function(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new t(this.start,e.start)),this.containsPosition(e.end)&&n.push(new t(e.end,this.end))):n.push(new t(this.start,this.end)),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,r=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(r=e.end),new t(n,r)}return null}},{key:"getJoined",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.isIntersecting(e);if(r||(r=this.start.isBefore(e.start)?n?this.end.isTouching(e.start):this.end.isEqual(e.start):n?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;var o=this.start,i=this.end;return e.start.isBefore(o)&&(o=e.start),e.end.isAfter(i)&&(i=e.end),new t(o,i)}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],n=this.start.getCommonPath(this.end).length,r=Ah._createAt(this.start),o=r.parent;r.path.length>n+1;){var i=o.maxOffset-r.offset;0!==i&&e.push(new t(r,r.getShiftedBy(i))),r.path=r.path.slice(0,-1),r.offset++,o=o.parent}for(;r.path.length<=this.end.path.length;){var a=this.end.path[r.path.length-1],c=a-r.offset;0!==c&&e.push(new t(r,r.getShiftedBy(c))),r.offset=a,r.path.push(0)}return e}},{key:"getWalker",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.boundaries=this,new wh(t)}},{key:"getItems",value:regeneratorRuntime.mark(function t(){var e,n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(e=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,e.ignoreElementEnd=!0,n=new wh(e),r=jh(n),t.prev=5,r.s();case 7:if((o=r.n()).done){t.next=13;break}return i=o.value,t.next=11,i.item;case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[5,15,18,21]])})},{key:"getPositions",value:regeneratorRuntime.mark(function t(){var e,n,r,o,i,a=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=a.length>0&&void 0!==a[0]?a[0]:{}).boundaries=this,n=new wh(e),t.next=5,n.position;case 5:r=jh(n),t.prev=6,r.s();case 8:if((o=r.n()).done){t.next=14;break}return i=o.value,t.next=12,i.nextPosition;case 12:t.next=8;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}},t,this,[[6,16,19,22]])})},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new t(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var n,r=[new t(this.start,this.end)],o=jh(e);try{for(o.s();!(n=o.n()).done;)for(var i=n.value,a=0;a<r.length;a++){var c=r[a].getTransformedByOperation(i);r.splice.apply(r,[a,1].concat(Th(c))),a+=c.length-1}}catch(t){o.e(t)}finally{o.f()}for(var u=0;u<r.length;u++)for(var s=r[u],l=u+1;l<r.length;l++){var f=r[l];(s.containsRange(f)||f.containsRange(s)||s.isEqual(f))&&r.splice(l,1)}return r}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(t.position,t.howMany,e)}},{key:"_getTransformedByMoveOperation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.sourcePosition,r=t.howMany,o=t.targetPosition;return this._getTransformedByMove(n,o,r,e)}},{key:"_getTransformedBySplitOperation",value:function(e){var n=this.start._getTransformedBySplitOperation(e),r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),n.root!=r.root&&(r=this.end.getShiftedBy(-1)),new t(n,r)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new t(this.start);var n=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return n.root!=r.root&&(r=this.end.getShiftedBy(-1)),n.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(n=Ah._createAt(r)).offset=0:(e.deletionPosition.isEqual(n)||(r=e.deletionPosition),n=e.targetPosition),new t(n,r)):new t(n,r)}},{key:"_getTransformedByInsertion",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r&&this.containsPosition(e))return[new t(this.start,e),new t(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];var o=new t(this.start,this.end);return o.start=o.start._getTransformedByInsertion(e,n),o.end=o.end._getTransformedByInsertion(e,n),[o]}},{key:"_getTransformedByMove",value:function(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var i=this.start._getTransformedByMove(e,n,r);return[new t(i)]}var a,c=t._createFromPositionAndShift(e,r),u=n._getTransformedByDeletion(e,r);if(this.containsPosition(n)&&!o&&(c.containsPosition(this.start)||c.containsPosition(this.end))){var s=this.start._getTransformedByMove(e,n,r),l=this.end._getTransformedByMove(e,n,r);return[new t(s,l)]}var f=this.getDifference(c),h=null,p=this.getIntersection(c);if(1==f.length?h=new t(f[0].start._getTransformedByDeletion(e,r),f[0].end._getTransformedByDeletion(e,r)):2==f.length&&(h=new t(this.start,this.end._getTransformedByDeletion(e,r))),a=h?h._getTransformedByInsertion(u,r,null!==p||o):[],p){var d=new t(p.start._getCombined(c.start,u),p.end._getCombined(c.start,u));2==a.length?a.splice(1,0,d):a.push(d)}return a}},{key:"_getTransformedByDeletion",value:function(e,n){var r=this.start._getTransformedByDeletion(e,n),o=this.end._getTransformedByDeletion(e,n);return null==r&&null==o?null:(null==r&&(r=e),null==o&&(o=e),new t(r,o))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==ao(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],r=[{key:"_createFromPositionAndShift",value:function(t,e){var n=t,r=t.getShiftedBy(e);return e>0?new this(n,r):new this(r,n)}},{key:"_createIn",value:function(t){return new this(Ah._createAt(t,0),Ah._createAt(t,t.maxOffset))}},{key:"_createOn",value:function(t){return this._createFromPositionAndShift(Ah._createBefore(t),t.offsetSize)}},{key:"_createFromRanges",value:function(t){if(0===t.length)throw new u.a("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();var e=t[0];t.sort(function(t,e){return t.start.isAfter(e.start)?1:-1});var n=t.indexOf(e),r=new this(e.start,e.end);if(n>0)for(var o=n-1;t[o].end.isEqual(r.start);o++)r.start=Ah._createAt(t[o].start);for(var i=n+1;i<t.length&&t[i].start.isEqual(r.end);i++)r.end=Ah._createAt(t[i].end);return r}},{key:"fromJSON",value:function(t,e){return new this(Ah.fromJSON(t.start,e),Ah.fromJSON(t.end,e))}}],n&&Dh(e.prototype,n),r&&Dh(e,r),t}();function Bh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return zh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Fh=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",function(t,n){if(!n.viewPosition){var r=e._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=e.findPositionIn(r,n.modelPosition.offset)}},{priority:"low"}),this.on("viewToModelPosition",function(t,n){if(!n.modelPosition){var r=e.findMappedViewAncestor(n.viewPosition),o=e._viewToModelMapping.get(r),i=e._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,r);n.modelPosition=Ah._createAt(o,i)}},{priority:"low"})}var e,n,r;return e=t,(n=[{key:"bindElements",value:function(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}},{key:"unbindViewElement",value:function(t){var e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t)){var n,r=Bh(this._elementToMarkerNames.get(t));try{for(r.s();!(n=r.n()).done;){var o=n.value;this._unboundMarkerNames.add(o)}}catch(t){r.e(t)}finally{r.f()}}this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}},{key:"unbindModelElement",value:function(t){var e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}},{key:"bindElementToMarker",value:function(t,e){var n=this._markerNameToElements.get(e)||new Set;n.add(t);var r=this._elementToMarkerNames.get(t)||new Set;r.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,r)}},{key:"unbindElementFromMarkerName",value:function(t,e){var n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));var r=this._elementToMarkerNames.get(t);r&&(r.delete(e),0==r.size&&this._elementToMarkerNames.delete(t))}},{key:"flushUnboundMarkerNames",value:function(){var t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(t){return this._viewToModelMapping.get(t)}},{key:"toViewElement",value:function(t){return this._modelToViewMapping.get(t)}},{key:"toModelRange",value:function(t){return new Nh(this.toModelPosition(t.start),this.toModelPosition(t.end))}},{key:"toViewRange",value:function(t){return new ga(this.toViewPosition(t.start),this.toViewPosition(t.end))}},{key:"toModelPosition",value:function(t){var e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}},{key:"toViewPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(t){var e=this._markerNameToElements.get(t);if(!e)return null;var n,r=new Set,o=Bh(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.is("attributeElement")){var a,c=Bh(i.getElementsWithSameId());try{for(c.s();!(a=c.n()).done;){var u=a.value;r.add(u)}}catch(t){c.e(t)}finally{c.f()}}else r.add(i)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"registerViewToModelLength",value:function(t,e){this._viewToModelLengthCallbacks.set(t,e)}},{key:"findMappedViewAncestor",value:function(t){for(var e=t.parent;!this._viewToModelMapping.has(e);)e=e.parent;return e}},{key:"_toModelOffset",value:function(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;for(var r=0,o=0;o<e;o++)r+=this.getModelLength(t.getChild(o));return r}},{key:"getModelLength",value:function(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;var e,n=0,r=Bh(t.getChildren());try{for(r.s();!(e=r.n()).done;){var o=e.value;n+=this.getModelLength(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"findPositionIn",value:function(t,e){var n,r=0,o=0,i=0;if(t.is("$text"))return new da(t,e);for(;o<e;)n=t.getChild(i),o+=r=this.getModelLength(n),i++;return o==e?this._moveViewPositionToTextNode(new da(t,i)):this.findPositionIn(n,e-(o-r))}},{key:"_moveViewPositionToTextNode",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;return e instanceof vo?new da(e,e.data.length):n instanceof vo?new da(n,0):t}}])&&Lh(e.prototype,n),r&&Lh(e,r),t}();function Vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Fh,m);var qh=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._consumable=new Map,this._textProxyRegistry=new Map}var e,n,r;return e=t,(n=[{key:"add",value:function(t,e){e=Uh(e),t instanceof eh&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}},{key:"consume",value:function(t,e){return e=Uh(e),t instanceof eh&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}},{key:"test",value:function(t,e){e=Uh(e),t instanceof eh&&(t=this._getSymbolForTextProxy(t));var n=this._consumable.get(t);if(void 0===n)return null;var r=n.get(e);return void 0===r?null:r}},{key:"revert",value:function(t,e){e=Uh(e),t instanceof eh&&(t=this._getSymbolForTextProxy(t));var n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(t){var e=null,n=this._textProxyRegistry.get(t.startOffset);if(n){var r=n.get(t.endOffset);r&&(e=r.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}},{key:"_addSymbolForTextProxy",value:function(t,e,n){var r,o,i=Symbol("textProxySymbol");return(r=this._textProxyRegistry.get(t))||(r=new Map,this._textProxyRegistry.set(t,r)),(o=r.get(e))||(o=new Map,r.set(e,o)),o.set(n,i),i}}])&&Vh(e.prototype,n),r&&Vh(e,r),t}();function Uh(t){var e=t.split(":");return"addMarker"==e[0]||"removeMarker"==e[0]?t:e.length>1?e[0]+":"+e[1]:e[0]}function Hh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Wh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Gh=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.conversionApi=Object.assign({dispatcher:this},e),this._reconversionEventsMapping=new Map}var e,n,r;return e=t,(n=[{key:"convertChanges",value:function(t,e,n){var r,o=Hh(t.getMarkersToRemove());try{for(o.s();!(r=o.n()).done;){var i=r.value;this.convertMarkerRemove(i.name,i.range,n)}}catch(t){o.e(t)}finally{o.f()}var a,c=Hh(this._mapChangesWithAutomaticReconversion(t));try{for(c.s();!(a=c.n()).done;){var u=a.value;"insert"===u.type?this.convertInsert(Nh._createFromPositionAndShift(u.position,u.length),n):"remove"===u.type?this.convertRemove(u.position,u.length,u.name,n):"reconvert"===u.type?this.reconvertElement(u.element,n):this.convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,n)}}catch(t){c.e(t)}finally{c.f()}var s,l=Hh(this.conversionApi.mapper.flushUnboundMarkerNames());try{for(l.s();!(s=l.n()).done;){var f=s.value,h=e.get(f).getRange();this.convertMarkerRemove(f,h,n),this.convertMarkerAdd(f,h,n)}}catch(t){l.e(t)}finally{l.f()}var p,d=Hh(t.getMarkersToAdd());try{for(d.s();!(p=d.n()).done;){var y=p.value;this.convertMarkerAdd(y.name,y.range,n)}}catch(t){d.e(t)}finally{d.f()}}},{key:"convertInsert",value:function(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);var n,r=Hh(Array.from(t).map(Yh));try{for(r.s();!(n=r.n()).done;){var o=n.value;this._convertInsertWithAttributes(o)}}catch(t){r.e(t)}finally{r.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(t,e,n,r){this.conversionApi.writer=r,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(t,e,n,r,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,"attribute:".concat(e));var i,a=Hh(t);try{for(a.s();!(i=a.n()).done;){var c=i.value,u={item:c.item,range:Nh._createFromPositionAndShift(c.previousPosition,c.length),attributeKey:e,attributeOldValue:n,attributeNewValue:r};this._testAndFire("attribute:".concat(e),u)}}catch(t){a.e(t)}finally{a.f()}this._clearConversionApi()}},{key:"reconvertElement",value:function(t,e){var n=Nh._createOn(t);this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(n);var r=this.conversionApi.mapper,o=r.toViewElement(t);e.remove(o),this._convertInsertWithAttributes({item:t,range:n});var i,a=r.toViewElement(t),c=Hh(Nh._createIn(t));try{for(c.s();!(i=c.n()).done;){var u=i.value,s=u.item,l=Jh(s,r);l?l.root!==a.root&&e.move(e.createRangeOn(l),r.toViewPosition(Ah._createBefore(s))):this._convertInsertWithAttributes(Yh(u))}}catch(t){c.e(t)}finally{c.f()}r.unbindViewElement(o),this._clearConversionApi()}},{key:"convertSelection",value:function(t,e,n){var r=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,r),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(var o=0,i=r;o<i.length;o++){var a=i[o],c=a.getRange();if(Kh(t.getFirstPosition(),a,this.conversionApi.mapper)){var u={item:t,markerName:a.name,markerRange:c};this.conversionApi.consumable.test(t,"addMarker:"+a.name)&&this.fire("addMarker:"+a.name,u,this.conversionApi)}}var s,l=Hh(t.getAttributeKeys());try{for(l.s();!(s=l.n()).done;){var f=s.value,h={item:t,range:t.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:t.getAttribute(f)};this.conversionApi.consumable.test(t,"attribute:"+h.attributeKey)&&this.fire("attribute:"+h.attributeKey+":$text",h,this.conversionApi)}}catch(t){l.e(t)}finally{l.f()}this._clearConversionApi()}else this._clearConversionApi()}},{key:"convertMarkerAdd",value:function(t,e,n){if("$graveyard"!=e.root.rootName){this.conversionApi.writer=n;var r="addMarker:"+t,o=new qh;if(o.add(e,r),this.conversionApi.consumable=o,this.fire(r,{markerName:t,markerRange:e},this.conversionApi),o.test(e,r)){this.conversionApi.consumable=this._createConsumableForRange(e,r);var i,a=Hh(e.getItems());try{for(a.s();!(i=a.n()).done;){var c=i.value;if(this.conversionApi.consumable.test(c,r)){var u={item:c,range:Nh._createOn(c),markerName:t,markerRange:e};this.fire(r,u,this.conversionApi)}}}catch(t){a.e(t)}finally{a.f()}this._clearConversionApi()}else this._clearConversionApi()}}},{key:"convertMarkerRemove",value:function(t,e,n){"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}},{key:"_mapReconversionTriggerEvent",value:function(t,e){this._reconversionEventsMapping.set(e,t)}},{key:"_createInsertConsumable",value:function(t){var e,n=new qh,r=Hh(t);try{for(r.s();!(e=r.n()).done;){var o=e.value.item;n.add(o,"insert");var i,a=Hh(o.getAttributeKeys());try{for(a.s();!(i=a.n()).done;){var c=i.value;n.add(o,"attribute:"+c)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"_createConsumableForRange",value:function(t,e){var n,r=new qh,o=Hh(t.getItems());try{for(o.s();!(n=o.n()).done;){var i=n.value;r.add(i,e)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_createSelectionConsumable",value:function(t,e){var n=new qh;n.add(t,"selection");var r,o=Hh(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n.add(t,"addMarker:"+i.name)}}catch(t){o.e(t)}finally{o.f()}var a,c=Hh(t.getAttributeKeys());try{for(c.s();!(a=c.n()).done;){var u=a.value;n.add(t,"attribute:"+u)}}catch(t){c.e(t)}finally{c.f()}return n}},{key:"_testAndFire",value:function(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(function(t,e){var n=e.item.name||"$text";return"".concat(t,":").concat(n)}(t,e),e,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}},{key:"_convertInsertWithAttributes",value:function(t){this._testAndFire("insert",t);var e,n=Hh(t.item.getAttributeKeys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.attributeKey=r,t.attributeOldValue=null,t.attributeNewValue=t.item.getAttribute(r),this._testAndFire("attribute:".concat(r),t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_mapChangesWithAutomaticReconversion",value:function(t){var e,n=new Set,r=[],o=Hh(t.getChanges());try{for(o.s();!(e=o.n()).done;){var i=e.value,a=i.position||i.range.start,c=a.parent;if(Ph(a,c))r.push(i);else{var u="attribute"===i.type?Eh(a,c,null):c;if(u.is("$text"))r.push(i);else{var s=void 0;if(s="attribute"===i.type?"attribute:".concat(i.attributeKey,":").concat(u.name):"".concat(i.type,":").concat(i.name),this._isReconvertTriggerEvent(s,u.name)){if(n.has(u))continue;n.add(u),r.push({type:"reconvert",element:u})}else r.push(i)}}}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"_isReconvertTriggerEvent",value:function(t,e){return this._reconversionEventsMapping.get(t)===e}}])&&$h(e.prototype,n),r&&$h(e,r),t}();function Kh(t,e,n){var r=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some(function(t){if(r.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")})}function Yh(t){return{item:t.item,range:Nh._createFromPositionAndShift(t.previousPosition,t.length)}}function Jh(t,e){if(t.is("textProxy")){var n=e.toViewPosition(Ah._createBefore(t)).parent;return n.is("$text")?n:null}return e.toViewElement(t)}function Xh(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Zh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zh(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Gh,m);var tp=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,e&&this.setTo(e,n,r)}var e,n,r;return e=t,(n=[{key:"isEqual",value:function(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;var e,n=Xh(this._ranges);try{for(n.s();!(e=n.n()).done;){var r,o=e.value,i=!1,a=Xh(t._ranges);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(o.isEqual(c)){i=!0;break}}}catch(t){a.e(t)}finally{a.f()}if(!i)return!1}}catch(t){n.e(t)}finally{n.f()}return!0}},{key:"getRanges",value:regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=Xh(this._ranges),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,new Nh(r.start,r.end);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var t,e=null,n=Xh(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.start.isBefore(e.start)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?new Nh(e.start,e.end):null}},{key:"getLastRange",value:function(){var t,e=null,n=Xh(this._ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;e&&!r.end.isAfter(e.end)||(e=r)}}catch(t){n.e(t)}finally{n.f()}return e?new Nh(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var t=this.getFirstRange();return t?t.start.clone():null}},{key:"getLastPosition",value:function(){var t=this.getLastRange();return t?t.end.clone():null}},{key:"setTo",value:function(e,n,r){if(null===e)this._setRanges([]);else if(e instanceof t)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof Nh)this._setRanges([e],!!n&&!!n.backward);else if(e instanceof Ah)this._setRanges([new Nh(e)]);else if(e instanceof Wf){var o,i=!!r&&!!r.backward;if("in"==n)o=Nh._createIn(e);else if("on"==n)o=Nh._createOn(e);else{if(void 0===n)throw new u.a("model-selection-setto-required-second-parameter",[this,e]);o=new Nh(Ah._createAt(e,n))}this._setRanges([o],i)}else{if(!Er(e))throw new u.a("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,n&&!!n.backward)}}},{key:"_setRanges",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(t=Array.from(t)).some(function(n){if(!(n instanceof Nh))throw new u.a("model-selection-set-ranges-not-range",[e,t]);return e._ranges.every(function(t){return!t.isEqual(n)})});if(t.length!==this._ranges.length||r){this._removeAllRanges();var o,i=Xh(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;this._pushRange(a)}}catch(t){i.e(t)}finally{i.f()}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(t,e){if(null===this.anchor)throw new u.a("model-selection-setfocus-no-ranges",[this,t]);var n=Ah._createAt(t,e);if("same"!=n.compareWith(this.focus)){var r=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(r)?(this._pushRange(new Nh(n,r)),this._lastRangeBackward=!0):(this._pushRange(new Nh(r,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(t){return this._attrs.get(t)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(t){return this._attrs.has(t)}},{key:"removeAttribute",value:function(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"setAttribute",value:function(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(t){return"selection"===t||"model:selection"===t}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark(function t(){var e,n,r,o,i,a,c,u,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=new WeakSet,n=Xh(this.getRanges()),t.prev=2,n.s();case 4:if((r=n.n()).done){t.next=35;break}if(o=r.value,!(i=rp(o.start,e))||!op(i,o)){t.next=10;break}return t.next=10,i;case 10:a=Xh(o.getWalker()),t.prev=11,a.s();case 13:if((c=a.n()).done){t.next=21;break}if(u=c.value,s=u.item,"elementEnd"!=u.type||!np(s,e,o)){t.next=19;break}return t.next=19,s;case 19:t.next=13;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(11),a.e(t.t0);case 26:return t.prev=26,a.f(),t.finish(26);case 29:if(!(l=rp(o.end,e))||o.end.isTouching(Ah._createAt(l,0))||!op(l,o)){t.next=33;break}return t.next=33,l;case 33:t.next=4;break;case 35:t.next=40;break;case 37:t.prev=37,t.t1=t.catch(2),n.e(t.t1);case 40:return t.prev=40,n.f(),t.finish(40);case 43:case"end":return t.stop()}},t,this,[[2,37,40,43],[11,23,26,29]])})},{key:"containsEntireContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,e=Ah._createAt(t,0),n=Ah._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(t){this._checkRange(t),this._ranges.push(new Nh(t.start,t.end))}},{key:"_checkRange",value:function(t){for(var e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new u.a("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}])&&Qh(e.prototype,n),r&&Qh(e,r),t}();function ep(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function np(t,e,n){return ep(t,e)&&op(t,n)}function rp(t,e){var n=t.parent.root.document.model.schema,r=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),o=!1,i=r.find(function(t){return!o&&(!(o=n.isLimit(t))&&ep(t,e))});return r.forEach(function(t){return e.add(t)}),i}function op(t,e){var n=function(t){var e=t.root.document.model.schema,n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(Nh._createOn(n),!0)}function ip(t){return(ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ap(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cp(t,e){return(cp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function up(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=fp(t);if(e){var o=fp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sp(this,n)}}function sp(t,e){return!e||"object"!==ip(e)&&"function"!=typeof e?lp(t):e}function lp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fp(t){return(fp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(tp,m);var hp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cp(t,e)}(i,t);var e,n,r,o=up(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,t,e),pp.call(lp(n)),n}return e=i,r=[{key:"fromRange",value:function(t){return new i(t.start,t.end)}}],(n=[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"liveRange"===t||"model:liveRange"===t||"range"==t||"model:range"===t}},{key:"toRange",value:function(){return new Nh(this.start,this.end)}}])&&ap(e.prototype,n),r&&ap(e,r),i}(Nh);function pp(){var t=this;this.listenTo(this.root.document.model,"applyOperation",function(e,n){var r=n[0];r.isDocumentOperation&&dp.call(t,r)},{priority:"low"})}function dp(t){var e=this.getTransformedByOperation(t),n=Nh._createFromRanges(e),r=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t),i=null;if(r){"$graveyard"==n.root.rootName&&(i="remove"==t.type?t.sourcePosition:t.deletionPosition);var a=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",a,{deletionPosition:i})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:i})}function yp(t){return(yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||bp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=bp(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function bp(t,e){if(t){if("string"==typeof t)return gp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(t,e):void 0}}function gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wp(t,e,n){return(wp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Op(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kp(t,e){return(kp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Op(t);if(e){var o=Op(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sp(this,n)}}function Sp(t,e){return!e||"object"!==yp(e)&&"function"!=typeof e?xp(t):e}function xp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Op(t){return(Op=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ap(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ep(t,e,n){return e&&Pp(t.prototype,e),n&&Pp(t,n),t}pe(hp,m);var Rp=function(){function t(e){Ap(this,t),this._selection=new Tp(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return Ep(t,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(t){return this._selection.containsEntireContent(t)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(t){return this._selection.getAttribute(t)}},{key:"hasAttribute",value:function(t){return this._selection.hasAttribute(t)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"observeMarkers",value:function(t){this._selection.observeMarkers(t)}},{key:"is",value:function(t){return"selection"===t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}},{key:"_setFocus",value:function(t,e){this._selection.setFocus(t,e)}},{key:"_setTo",value:function(t,e,n){this._selection.setTo(t,e,n)}},{key:"_setAttribute",value:function(t,e){this._selection.setAttribute(t,e)}},{key:"_removeAttribute",value:function(t){this._selection.removeAttribute(t)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(t){this._selection.restoreGravity(t)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(t){return"selection:"+t}},{key:"_isStoreAttributeKey",value:function(t){return t.startsWith("selection:")}}]),t}();pe(Rp,m);var Tp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kp(t,e)}(n,t);var e=_p(n);function n(t){var r;return Ap(this,n),(r=e.call(this)).markers=new Dr({idProperty:"name"}),r._model=t.model,r._document=t,r._attributePriority=new Map,r._selectionRestorePosition=null,r._hasChangedRange=!1,r._overriddenGravityRegister=new Set,r._observedMarkers=new Set,r.listenTo(r._model,"applyOperation",function(t,e){var n=e[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==r._ranges.length&&r._selectionRestorePosition&&r._fixGraveyardSelection(r._selectionRestorePosition),r._selectionRestorePosition=null,r._hasChangedRange&&(r._hasChangedRange=!1,r.fire("change:range",{directChange:!1})))},{priority:"lowest"}),r.on("change:range",function(){var t,e=vp(r.getRanges());try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!r._document._validateSelectionRange(n))throw new u.a("document-selection-wrong-position",xp(r),{range:n})}}catch(t){e.e(t)}finally{e.f()}}),r.listenTo(r._model.markers,"update",function(t,e,n,o){r._updateMarker(e,o)}),r.listenTo(r._document,"change",function(t,e){!function(t,e){var n,r=vp(t.document.differ.getChanges());try{var o=function(){var r=n.value;if("insert"!=r.type)return"continue";var o=r.position.parent;r.length===o.maxOffset&&t.enqueueChange(e,function(t){var e,n=vp(Array.from(o.getAttributeKeys()).filter(function(t){return t.startsWith("selection:")}));try{for(n.s();!(e=n.n()).done;){var r=e.value;t.removeAttribute(r,o)}}catch(t){n.e(t)}finally{n.f()}})};for(r.s();!(n=r.n()).done;)o()}catch(t){r.e(t)}finally{r.f()}}(r._model,e)}),r}return Ep(n,[{key:"destroy",value:function(){for(var t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}},{key:"getRanges",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._ranges.length){t.next=4;break}return t.delegateYield(wp(Op(n.prototype),"getRanges",this).call(this),"t0",2);case 2:t.next=6;break;case 4:return t.next=6,this._document._getDefaultRange();case 6:case"end":return t.stop()}},t,this)})},{key:"getFirstRange",value:function(){return wp(Op(n.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return wp(Op(n.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,e,r){wp(Op(n.prototype),"setTo",this).call(this,t,e,r),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,e){wp(Op(n.prototype),"setFocus",this).call(this,t,e),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,e){if(this._setAttribute(t,e)){var n=[t];this.fire("change:attribute",{attributeKeys:n,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=a();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new u.a("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"observeMarkers",value:function(t){this._observedMarkers.add(t),this._updateMarkers()}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var e=this._prepareRange(t);e&&this._ranges.push(e)}},{key:"_prepareRange",value:function(t){var e=this;if(this._checkRange(t),t.root!=this._document.graveyard){var n=hp.fromRange(t);return n.on("change:range",function(t,r,o){if(e._hasChangedRange=!0,n.root==e._document.graveyard){e._selectionRestorePosition=o.deletionPosition;var i=e._ranges.indexOf(n);e._ranges.splice(i,1),n.detach()}}),n}}},{key:"_updateMarkers",value:function(){if(this._observedMarkers.size){var t,e=[],n=!1,r=vp(this._model.markers);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=o.name.split(":",1)[0];if(this._observedMarkers.has(i)){var a,c=o.getRange(),u=vp(this.getRanges());try{for(u.s();!(a=u.n()).done;){var s=a.value;c.containsRange(s,!s.isCollapsed)&&e.push(o)}}catch(t){u.e(t)}finally{u.f()}}}}catch(t){r.e(t)}finally{r.f()}for(var l=Array.from(this.markers),f=0,h=e;f<h.length;f++){var p=h[f];this.markers.has(p)||(this.markers.add(p),n=!0)}for(var d=0,y=Array.from(this.markers);d<y.length;d++){var m=y[d];e.includes(m)||(this.markers.remove(m),n=!0)}n&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}}},{key:"_updateMarker",value:function(t,e){var n=t.name.split(":",1)[0];if(this._observedMarkers.has(n)){var r=!1,o=Array.from(this.markers),i=this.markers.has(t);if(e){var a,c=!1,u=vp(this.getRanges());try{for(u.s();!(a=u.n()).done;){var s=a.value;if(e.containsRange(s,!s.isCollapsed)){c=!0;break}}}catch(t){u.e(t)}finally{u.f()}c&&!i?(this.markers.add(t),r=!0):!c&&i&&(this.markers.remove(t),r=!0)}else i&&(this.markers.remove(t),r=!0);r&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}}},{key:"_updateAttributes",value:function(t){var e=wo(this._getSurroundingAttributes()),n=wo(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else{var r,o=vp(this._attributePriority);try{for(o.s();!(r=o.n()).done;){var i=mp(r.value,2),a=i[0];"low"==i[1]&&(this._attrs.delete(a),this._attributePriority.delete(a))}}catch(t){o.e(t)}finally{o.f()}}this._setAttributesTo(e);var c,u=[],s=vp(this.getAttributes());try{for(s.s();!(c=s.n()).done;){var l=mp(c.value,2),f=l[0],h=l[1];n.has(f)&&n.get(f)===h||u.push(f)}}catch(t){s.e(t)}finally{s.f()}var p,d=vp(n);try{for(d.s();!(p=d.n()).done;){var y=mp(p.value,1)[0];this.hasAttribute(y)||u.push(y)}}catch(t){d.e(t)}finally{d.f()}u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}},{key:"_setAttribute",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=r?"normal":"low";if("low"==o&&"normal"==this._attributePriority.get(t))return!1;var i=wp(Op(n.prototype),"getAttribute",this).call(this,t);return i!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0)}},{key:"_removeAttribute",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e?"normal":"low";return("low"!=r||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,r),!!wp(Op(n.prototype),"hasAttribute",this).call(this,t)&&(this._attrs.delete(t),!0))}},{key:"_setAttributesTo",value:function(t){var e,n=new Set,r=vp(this.getAttributes());try{for(r.s();!(e=r.n()).done;){var o=mp(e.value,2),i=o[0],a=o[1];t.get(i)!==a&&this._removeAttribute(i,!1)}}catch(t){r.e(t)}finally{r.f()}var c,u=vp(t);try{for(u.s();!(c=u.n()).done;){var s=mp(c.value,2),l=s[0],f=s[1];this._setAttribute(l,f,!1)&&n.add(l)}}catch(t){u.e(t)}finally{u.f()}return n}},{key:"_getStoredAttributes",value:regeneratorRuntime.mark(function t(){var e,n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.getFirstPosition().parent,!this.isCollapsed||!e.isEmpty){t.next=21;break}n=vp(e.getAttributeKeys()),t.prev=3,n.s();case 5:if((r=n.n()).done){t.next=13;break}if(!(o=r.value).startsWith("selection:")){t.next=11;break}return i=o.substr("selection:".length),t.next=11,[i,e.getAttribute(o)];case 11:t.next=5;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:case"end":return t.stop()}},t,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),e=this._model.schema,n=null;if(this.isCollapsed){var r=t.textNode?t.textNode:t.nodeBefore,o=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=jp(r)),n||(n=jp(o)),!this.isGravityOverridden&&!n)for(var i=r;i&&!e.isInline(i)&&!n;)n=jp(i=i.previousSibling);if(!n)for(var a=o;a&&!e.isInline(a)&&!n;)n=jp(a=a.nextSibling);n||(n=this._getStoredAttributes())}else{var c,u=vp(this.getFirstRange());try{for(u.s();!(c=u.n()).done;){var s=c.value;if(s.item.is("element")&&e.isObject(s.item))break;if("text"==s.type){n=s.item.getAttributes();break}}}catch(t){u.e(t)}finally{u.f()}}return n}},{key:"_fixGraveyardSelection",value:function(t){var e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:wp(Op(n.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return wp(Op(n.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return wp(Op(n.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),n}(tp);function jp(t){return t instanceof eh||t instanceof Qf?t.getAttributes():null}function Cp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ip(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ip(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ip(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Dp=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dispatchers=e}var e,n,r;return e=t,(n=[{key:"add",value:function(t){var e,n=Cp(this._dispatchers);try{for(n.s();!(e=n.n()).done;)t(e.value)}catch(t){n.e(t)}finally{n.f()}return this}}])&&Mp(e.prototype,n),r&&Mp(e,r),t}();var Np=function(t){return gr(t,5)};function Bp(t){return(Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Lp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Lp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qp(t,e){return(qp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Up(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Wp(t);if(e){var o=Wp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hp(this,n)}}function Hp(t,e){return!e||"object"!==Bp(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wp(t){return(Wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qp(t,e)}(i,t);var e,n,r,o=Up(i);function i(){return Fp(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"elementToElement",value:function(t){return this.add(function(t){return(t=Np(t)).view=Yp(t.view,"container"),function(e){var n;if(e.on("insert:"+t.model,(n=t.view,function(t,e,r){var o=n(e.item,r);if(o&&r.consumable.consume(e.item,"insert")){var i=r.mapper.toViewPosition(e.range.start);r.mapper.bindElements(e.item,o),r.writer.insert(i,o)}}),{priority:t.converterPriority||"normal"}),t.triggerBy){if(t.triggerBy.attributes){var r,o=zp(t.triggerBy.attributes);try{for(o.s();!(r=o.n()).done;){var i=r.value;e._mapReconversionTriggerEvent(t.model,"attribute:".concat(i,":").concat(t.model))}}catch(t){o.e(t)}finally{o.f()}}if(t.triggerBy.children){var a,c=zp(t.triggerBy.children);try{for(c.s();!(a=c.n()).done;){var u=a.value;e._mapReconversionTriggerEvent(t.model,"insert:".concat(u)),e._mapReconversionTriggerEvent(t.model,"remove:".concat(u))}}catch(t){c.e(t)}finally{c.f()}}}}}(t))}},{key:"attributeToElement",value:function(t){return this.add(function(t){var e="attribute:"+((t=Np(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values){var n,r=zp(t.model.values);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.view[o]=Yp(t.view[o],"attribute")}}catch(t){r.e(t)}finally{r.f()}}else t.view=Yp(t.view,"attribute");var i=Jp(t);return function(n){n.on(e,function(t){return function(e,n,r){var o=t(n.attributeOldValue,r),i=t(n.attributeNewValue,r);if((o||i)&&r.consumable.consume(n.item,e.name)){var a=r.writer,c=a.document.selection;if(n.item instanceof tp||n.item instanceof Rp)a.wrap(c.getFirstRange(),i);else{var u=r.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(u=a.unwrap(u,o)),null!==n.attributeNewValue&&i&&a.wrap(u,i)}}}}(i),{priority:t.converterPriority||"normal"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(t){var e="attribute:"+((t=Np(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values){var n,r=zp(t.model.values);try{for(r.s();!(n=r.n()).done;){var o=n.value;t.view[o]=Xp(t.view[o])}}catch(t){r.e(t)}finally{r.f()}}else t.view=Xp(t.view);var i=Jp(t);return function(n){var r;n.on(e,(r=i,function(t,e,n){var o=r(e.attributeOldValue,n),i=r(e.attributeNewValue,n);if((o||i)&&n.consumable.consume(e.item,t.name)){var a=n.mapper.toViewElement(e.item),c=n.writer;if(!a)throw new u.a("conversion-attribute-to-attribute-on-text",[e,n]);if(null!==e.attributeOldValue&&o)if("class"==o.key){var s,l=zp(Hr(o.value));try{for(l.s();!(s=l.n()).done;){var f=s.value;c.removeClass(f,a)}}catch(t){l.e(t)}finally{l.f()}}else if("style"==o.key)for(var h=0,p=Object.keys(o.value);h<p.length;h++){var d=p[h];c.removeStyle(d,a)}else c.removeAttribute(o.key,a);if(null!==e.attributeNewValue&&i)if("class"==i.key){var y,m=zp(Hr(i.value));try{for(m.s();!(y=m.n()).done;){var v=y.value;c.addClass(v,a)}}catch(t){m.e(t)}finally{m.f()}}else if("style"==i.key)for(var b=0,g=Object.keys(i.value);b<g.length;b++){var w=g[b];c.setStyle(w,i.value[w],a)}else c.setAttribute(i.key,i.value,a)}}),{priority:t.converterPriority||"normal"})}}(t))}},{key:"markerToElement",value:function(t){return this.add(function(t){return(t=Np(t)).view=Yp(t.view,"ui"),function(e){var n;e.on("addMarker:"+t.model,(n=t.view,function(t,e,r){e.isOpening=!0;var o=n(e,r);e.isOpening=!1;var i=n(e,r);if(o&&i){var a=e.markerRange;if(!a.isCollapsed||r.consumable.consume(a,t.name)){var c,u=zp(a);try{for(u.s();!(c=u.n()).done;){var s=c.value;if(!r.consumable.consume(s.item,t.name))return}}catch(t){u.e(t)}finally{u.f()}var l=r.mapper,f=r.writer;f.insert(l.toViewPosition(a.start),o),r.mapper.bindElementToMarker(o,e.markerName),a.isCollapsed||(f.insert(l.toViewPosition(a.end),i),r.mapper.bindElementToMarker(i,e.markerName)),t.stop()}}}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,function(t,e,n){var r=n.mapper.markerNameToElements(e.markerName);if(r){var o,i=zp(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.mapper.unbindElementFromMarkerName(a,e.markerName),n.writer.clear(n.writer.createRangeOn(a),a)}}catch(t){i.e(t)}finally{i.f()}n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}},{key:"markerToHighlight",value:function(t){return this.add(function(t){return function(e){var n;e.on("addMarker:"+t.model,(n=t.view,function(t,e,r){if(e.item&&(e.item instanceof tp||e.item instanceof Rp||e.item.is("$textProxy"))){var o=Zp(n,e,r);if(o&&r.consumable.consume(e.item,t.name)){var i=r.writer,a=Gp(i,o),c=i.document.selection;if(e.item instanceof tp||e.item instanceof Rp)i.wrap(c.getFirstRange(),a,c);else{var u,s=r.mapper.toViewRange(e.range),l=zp(i.wrap(s,a).getItems());try{for(l.s();!(u=l.n()).done;){var f=u.value;if(f.is("attributeElement")&&f.isSimilar(a)){r.mapper.bindElementToMarker(f,e.markerName);break}}}catch(t){l.e(t)}finally{l.f()}}}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return function(e,n,r){if(n.item&&n.item instanceof vh){var o=Zp(t,n,r);if(o&&r.consumable.test(n.item,e.name)){var i=r.mapper.toViewElement(n.item);if(i&&i.getCustomProperty("addHighlight")){r.consumable.consume(n.item,e.name);var a,c=zp(Nh._createIn(n.item));try{for(c.s();!(a=c.n()).done;){var u=a.value;r.consumable.consume(u.item,e.name)}}catch(t){c.e(t)}finally{c.f()}i.getCustomProperty("addHighlight")(i,o,r.writer),r.mapper.bindElementToMarker(i,n.markerName)}}}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return function(e,n,r){if(!n.markerRange.isCollapsed){var o=Zp(t,n,r);if(o){var i=Gp(r.writer,o),a=r.mapper.markerNameToElements(n.markerName);if(a){var c,u=zp(a);try{for(u.s();!(c=u.n()).done;){var s=c.value;r.mapper.unbindElementFromMarkerName(s,n.markerName),s.is("attributeElement")?r.writer.unwrap(r.writer.createRangeOn(s),i):s.getCustomProperty("removeHighlight")(s,o.id,r.writer)}}catch(t){u.e(t)}finally{u.f()}r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}},{key:"markerToData",value:function(t){return this.add(function(t){var e=(t=Np(t)).model;return t.view||(t.view=function(n){return{group:e,name:n.substr(t.model.length+1)}}),function(n){var r;n.on("addMarker:"+e,(r=t.view,function(t,e,n){var o=r(e.markerName,n);if(o){var i=e.markerRange;n.consumable.consume(i,t.name)&&(Kp(i,!1,n,e,o),Kp(i,!0,n,e,o),t.stop())}}),{priority:t.converterPriority||"normal"}),n.on("removeMarker:"+e,function(t){return function(e,n,r){var o=t(n.markerName,r);if(o){var i=r.mapper.markerNameToElements(n.markerName);if(i){var a,c=zp(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;r.mapper.unbindElementFromMarkerName(u,n.markerName),u.is("containerElement")?(s("data-".concat(o.group,"-start-before"),u),s("data-".concat(o.group,"-start-after"),u),s("data-".concat(o.group,"-end-before"),u),s("data-".concat(o.group,"-end-after"),u)):r.writer.clear(r.writer.createRangeOn(u),u)}}catch(t){c.e(t)}finally{c.f()}r.writer.clearClonedElementsGroup(n.markerName),e.stop()}}function s(t,e){if(e.hasAttribute(t)){var n=new Set(e.getAttribute(t).split(","));n.delete(o.name),0==n.size?r.writer.removeAttribute(t,e):r.writer.setAttribute(t,Array.from(n).join(","),e)}}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}])&&Vp(e.prototype,n),r&&Vp(e,r),i}(Dp);function Gp(t,e){var n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),"number"==typeof e.priority&&(n._priority=e.priority),n._id=e.id,n}function Kp(t,e,n,r,o){var i=e?t.start:t.end,a=i.nodeAfter&&i.nodeAfter.is("element")?i.nodeAfter:null,c=i.nodeBefore&&i.nodeBefore.is("element")?i.nodeBefore:null;if(a||c){var u,s;e&&a||!e&&!c?(u=a,s=!0):(u=c,s=!1);var l=n.mapper.toViewElement(u);if(l)return void function(t,e,n,r,o,i){var a="data-".concat(i.group,"-").concat(e?"start":"end","-").concat(n?"before":"after"),c=t.hasAttribute(a)?t.getAttribute(a).split(","):[];c.unshift(i.name),r.writer.setAttribute(a,c.join(","),t),r.mapper.bindElementToMarker(t,o.markerName)}(l,e,s,n,r,o)}!function(t,e,n,r,o){var i="".concat(o.group,"-").concat(e?"start":"end"),a=o.name?{name:o.name}:null,c=n.writer.createUIElement(i,a);n.writer.insert(t,c),n.mapper.bindElementToMarker(c,r.markerName)}(n.mapper.toViewPosition(i),e,n,r,o)}function Yp(t,e){return"function"==typeof t?t:function(n,r){return function(t,e,n){"string"==typeof t&&(t={name:t});var r,o=e.writer,i=Object.assign({},t.attributes);if("container"==n)r=o.createContainerElement(t.name,i);else if("attribute"==n){var a={priority:t.priority||cc.DEFAULT_PRIORITY};r=o.createAttributeElement(t.name,i,a)}else r=o.createUIElement(t.name,i);if(t.styles)for(var c=Object.keys(t.styles),u=0,s=c;u<s.length;u++){var l=s[u];o.setStyle(l,t.styles[l],r)}if(t.classes){var f=t.classes;if("string"==typeof f)o.addClass(f,r);else{var h,p=zp(f);try{for(p.s();!(h=p.n()).done;){var d=h.value;o.addClass(d,r)}}catch(t){p.e(t)}finally{p.f()}}}return r}(t,r,e)}}function Jp(t){return t.model.values?function(e,n){var r=t.view[e];return r?r(e,n):null}:t.view}function Xp(t){return"string"==typeof t?function(e){return{key:t,value:e}}:"object"==Bp(t)?t.value?function(){return t}:function(e){return{key:t.key,value:e}}:t}function Zp(t,e,n){var r="function"==typeof t?t(e,n):t;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function Qp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return td(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return td(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function td(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ed(t){var e,n=t.model,r=n.schema,o=n.document,i=Qp(o.getRootNames());try{for(i.s();!(e=i.n()).done;){var a=e.value,c=o.getRoot(a);if(c.isEmpty&&!r.checkChild(c,"$text")&&r.checkChild(c,"paragraph"))return t.insertElement("paragraph",c),!0}}catch(t){i.e(t)}finally{i.f()}return!1}function nd(t,e,n){var r=n.createContext(t);return!!n.checkChild(r,"paragraph")&&!!n.checkChild(r.push("paragraph"),e)}function rd(t,e){var n=e.createElement("paragraph");return e.insert(n,t),e.createPositionAt(n,0)}function od(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function id(t){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ad(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function cd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ld(t,e){return(ld=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=pd(t);if(e){var o=pd(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hd(this,n)}}function hd(t,e){return!e||"object"!==id(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pd(t){return(pd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ld(t,e)}(i,t);var e,n,r,o=fd(i);function i(){return ud(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"elementToElement",value:function(t){return this.add(yd(t))}},{key:"elementToAttribute",value:function(t){return this.add(function(t){bd(t=Np(t));var e=gd(t,!1),n=md(t.view),r=n?"element:"+n:"element";return function(n){n.on(r,e,{priority:t.converterPriority||"low"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(t){t=Np(t);var e=null;("string"==typeof t.view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});var e,n=t.view.key;if("class"==n||"style"==n)e=od({},"class"==n?"classes":"styles",t.view.value);else{var r=void 0===t.view.value?/[\s\S]*/:t.view.value;e={attributes:od({},n,r)}}return t.view.name&&(e.name=t.view.name),t.view=e,n}(t)),bd(t,e);var n=gd(t,!0);return function(e){e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}},{key:"elementToMarker",value:function(t){return this.add(function(t){return function(t){var e=t.model;t.model=function(t,n){var r="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":r})}}(t=Np(t)),yd(t)}(t))}},{key:"dataToMarker",value:function(t){return this.add(function(t){(t=Np(t)).model||(t.model=function(e){return e?t.view+":"+e:t.view});var e=vd(wd(t,"start")),n=vd(wd(t,"end"));return function(r){r.on("element:"+t.view+"-start",e,{priority:t.converterPriority||"normal"}),r.on("element:"+t.view+"-end",n,{priority:t.converterPriority||"normal"});var o=c.get("low"),i=c.get("highest"),a=c.get(t.converterPriority)/i;r.on("element",function(t){return function(e,n,r){var o="data-".concat(t.view);function i(e,o){var i,a=ad(o);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=t.model(c,r),s=r.writer.createElement("$marker",{"data-name":u});r.writer.insert(s,e),n.modelCursor.isEqual(e)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1),n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0]}}catch(t){a.e(t)}finally{a.f()}}(r.consumable.test(n.viewItem,{attributes:o+"-end-after"})||r.consumable.test(n.viewItem,{attributes:o+"-start-after"})||r.consumable.test(n.viewItem,{attributes:o+"-end-before"})||r.consumable.test(n.viewItem,{attributes:o+"-start-before"}))&&(n.modelRange||Object.assign(n,r.convertChildren(n.viewItem,n.modelCursor)),r.consumable.consume(n.viewItem,{attributes:o+"-end-after"})&&i(n.modelRange.end,n.viewItem.getAttribute(o+"-end-after").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-start-after"})&&i(n.modelRange.end,n.viewItem.getAttribute(o+"-start-after").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-end-before"})&&i(n.modelRange.start,n.viewItem.getAttribute(o+"-end-before").split(",")),r.consumable.consume(n.viewItem,{attributes:o+"-start-before"})&&i(n.modelRange.start,n.viewItem.getAttribute(o+"-start-before").split(",")))}}(t),{priority:o+a})}}(t))}}])&&sd(e.prototype,n),r&&sd(e,r),i}(Dp);function yd(t){var e=vd(t=Np(t)),n=md(t.view),r=n?"element:"+n:"element";return function(n){n.on(r,e,{priority:t.converterPriority||"normal"})}}function md(t){return"string"==typeof t?t:"object"==id(t)&&"string"==typeof t.name?t.name:null}function vd(t){var e=new Po(t.view);return function(n,r,o){var i=e.match(r.viewItem);if(i){var a=i.match;if(a.name=!0,o.consumable.test(r.viewItem,a)){var c=function(t,e,n){return t instanceof Function?t(e,n):n.writer.createElement(t)}(t.model,r.viewItem,o);c&&o.safeInsert(c,r.modelCursor)&&(o.consumable.consume(r.viewItem,a),o.convertChildren(r.viewItem,c),o.updateConversionResult(c,r))}}}}function bd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===e||function(t){return t.getAttribute(e)},r="object"!=id(t.model)?t.model:t.model.key,o="object"!=id(t.model)||void 0===t.model.value?n:t.model.value;t.model={key:r,value:o}}function gd(t,e){var n=new Po(t.view);return function(r,o,i){var a=n.match(o.viewItem);if(a&&(!function(t,e){var n="function"==typeof t?t(e):t;if("object"==id(n)&&!md(n))return!1;return!n.classes&&!n.attributes&&!n.styles}(t.view,o.viewItem)?delete a.match.name:a.match.name=!0,i.consumable.test(o.viewItem,a.match))){var c=t.model.key,u="function"==typeof t.model.value?t.model.value(o.viewItem,i):t.model.value;if(null!==u)o.modelRange||Object.assign(o,i.convertChildren(o.viewItem,o.modelCursor)),function(t,e,n,r){for(var o=!1,i=0,a=Array.from(t.getItems({shallow:n}));i<a.length;i++){var c=a[i];r.schema.checkAttribute(c,e.key)&&(o=!0,c.hasAttribute(e.key)||r.writer.setAttribute(e.key,e.value,c))}return o}(o.modelRange,{key:c,value:u},e,i)&&i.consumable.consume(o.viewItem,a.match)}}}function wd(t,e){var n={};return n.view=t.view+"-"+e,n.model=function(e,n){var r=e.getAttribute("name"),o=t.model(r,n);return n.writer.createElement("$marker",{"data-name":o})},n}function kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _d=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.view=new Uf(n),this.mapper=new Fh,this.downcastDispatcher=new Gh({mapper:this.mapper,schema:e.schema});var o=this.model.document,i=o.selection,a=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){r.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){r.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",function(){r.view.change(function(t){r.downcastDispatcher.convertChanges(o.differ,a,t),r.downcastDispatcher.convertSelection(i,a,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return function(n,r){var o,i=r.newSelection,a=[],c=ad(i.getRanges());try{for(c.s();!(o=c.n()).done;){var u=o.value;a.push(e.toModelRange(u))}}catch(t){c.e(t)}finally{c.f()}var s=t.createSelection(a,{backward:i.isBackward});s.isEqual(t.document.selection)||t.change(function(t){t.setSelection(s)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",function(t,e,n){if(n.consumable.consume(e.item,"insert")){var r=n.writer,o=n.mapper.toViewPosition(e.range.start),i=r.createText(e.item.data);r.insert(o,i)}},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(t,e,n){var r,o=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),a=n.mapper.toViewPosition(i,{isPhantom:!0}),c=n.writer.createRange(o,a),u=n.writer.remove(c.getTrimmed()),s=zp(n.writer.createRangeIn(u).getItems());try{for(s.s();!(r=s.n()).done;){var l=r.value;n.mapper.unbindViewElement(l)}}catch(t){s.e(t)}finally{s.f()}},{priority:"low"}),this.downcastDispatcher.on("selection",function(t,e,n){var r,o=n.writer,i=zp(o.document.selection.getRanges());try{for(i.s();!(r=i.n()).done;){var a=r.value;a.isCollapsed&&a.end.parent.isAttached()&&n.writer.mergeAttributes(a.start)}}catch(t){i.e(t)}finally{i.f()}o.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",function(t,e,n){var r=e.selection;if(!r.isCollapsed&&n.consumable.consume(r,"selection")){var o,i=[],a=zp(r.getRanges());try{for(a.s();!(o=a.n()).done;){var c=o.value,u=n.mapper.toViewRange(c);i.push(u)}}catch(t){a.e(t)}finally{a.f()}n.writer.setSelection(i,{backward:r.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",function(t,e,n){var r=e.selection;if(r.isCollapsed&&n.consumable.consume(r,"selection")){var o=n.writer,i=r.getFirstPosition(),a=n.mapper.toViewPosition(i),c=o.breakAttributes(a);o.setSelection(c)}},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(t){if("$graveyard"==t.rootName)return null;var e=new sa(r.view.document,t.name);return e.rootName=t.rootName,r.mapper.bindElements(t,e),e})}var e,n,r;return e=t,(n=[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}])&&kd(e.prototype,n),r&&kd(e,r),t}();function Sd(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xd(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function xd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(_d,oe);var Ad=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._commands=new Map}var e,n,r;return e=t,(n=[{key:"add",value:function(t,e){this._commands.set(t,e)}},{key:"get",value:function(t){return this._commands.get(t)}},{key:"execute",value:function(t){var e=this.get(t);if(!e)throw new u.a("commandcollection-command-not-found",this,{commandName:t});for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e.execute.apply(e,r)}},{key:"names",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"commands",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var t,e=Sd(this.commands());try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}}}])&&Od(e.prototype,n),r&&Od(e,r),t}();function Pd(t){return function(t){if(Array.isArray(t))return Td(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Rd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ed(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Rd(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Rd(t,e){if(t){if("string"==typeof t)return Td(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Td(t,e):void 0}}function Td(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Id(t,e,n){return e&&Cd(t.prototype,e),n&&Cd(t,n),t}var Md=function(){function t(){jd(this,t),this._consumables=new Map}return Id(t,[{key:"add",value:function(t,e){var n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Dd(t),this._consumables.set(t,n)),n.add(e))}},{key:"test",value:function(t,e){var n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}},{key:"consume",value:function(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}},{key:"revert",value:function(t,e){var n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}}],[{key:"consumablesFromElement",value:function(t){var e,n={element:t,name:!0,attributes:[],classes:[],styles:[]},r=Ed(t.getAttributeKeys());try{for(r.s();!(e=r.n()).done;){var o=e.value;"style"!=o&&"class"!=o&&n.attributes.push(o)}}catch(t){r.e(t)}finally{r.f()}var i,a=Ed(t.getClassNames());try{for(a.s();!(i=a.n()).done;){var c=i.value;n.classes.push(c)}}catch(t){a.e(t)}finally{a.f()}var u,s=Ed(t.getStyleNames());try{for(s.s();!(u=s.n()).done;){var l=u.value;n.styles.push(l)}}catch(t){s.e(t)}finally{s.f()}return n}},{key:"createFrom",value:function(e,n){if(n||(n=new t(e)),e.is("$text"))return n.add(e),n;e.is("element")&&n.add(e,t.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);var r,o=Ed(e.getChildren());try{for(o.s();!(r=o.n()).done;){var i=r.value;n=t.createFrom(i,n)}}catch(t){o.e(t)}finally{o.f()}return n}}]),t}(),Dd=function(){function t(e){jd(this,t),this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return Id(t,[{key:"add",value:function(t){for(var e in t.name&&(this._canConsumeName=!0),this._consumables)e in t&&this._add(e,t[e])}},{key:"test",value:function(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(var e in this._consumables)if(e in t){var n=this._test(e,t[e]);if(!0!==n)return n}return!0}},{key:"consume",value:function(t){for(var e in t.name&&(this._canConsumeName=!1),this._consumables)e in t&&this._consume(e,t[e])}},{key:"revert",value:function(t){for(var e in t.name&&(this._canConsumeName=!0),this._consumables)e in t&&this._revert(e,t[e])}},{key:"_add",value:function(t,e){var n,r=jt(e)?e:[e],o=this._consumables[t],i=Ed(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"===t&&("class"===a||"style"===a))throw new u.a("viewconsumable-invalid-attribute",this);if(o.set(a,!0),"styles"===t){var c,s=Ed(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(s.s();!(c=s.n()).done;){var l=c.value;o.set(l,!0)}}catch(t){s.e(t)}finally{s.f()}}}}catch(t){i.e(t)}finally{i.f()}}},{key:"_test",value:function(t,e){var n,r=jt(e)?e:[e],o=this._consumables[t],i=Ed(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"!==t||"class"!==a&&"style"!==a){var c=o.get(a);if(void 0===c)return null;if(!c)return!1}else{var u="class"==a?"classes":"styles",s=this._test(u,Pd(this._consumables[u].keys()));if(!0!==s)return s}}}catch(t){i.e(t)}finally{i.f()}return!0}},{key:"_consume",value:function(t,e){var n,r=jt(e)?e:[e],o=this._consumables[t],i=Ed(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"!==t||"class"!==a&&"style"!==a){if(o.set(a,!1),"styles"==t){var c,u=Ed(this.element.document.stylesProcessor.getRelatedStyles(a));try{for(u.s();!(c=u.n()).done;){var s=c.value;o.set(s,!1)}}catch(t){u.e(t)}finally{u.f()}}}else{var l="class"==a?"classes":"styles";this._consume(l,Pd(this._consumables[l].keys()))}}}catch(t){i.e(t)}finally{i.f()}}},{key:"_revert",value:function(t,e){var n,r=jt(e)?e:[e],o=this._consumables[t],i=Ed(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("attributes"!==t||"class"!==a&&"style"!==a){!1===o.get(a)&&o.set(a,!0)}else{var c="class"==a?"classes":"styles";this._revert(c,Pd(this._consumables[c].keys()))}}}catch(t){i.e(t)}finally{i.f()}}}]),t}(),Nd=regeneratorRuntime.mark(ay),Bd=regeneratorRuntime.mark(cy);function zd(t){return function(t){if(Array.isArray(t))return qd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Vd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Vd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fd(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Vd(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Vd(t,e){if(t){if("string"==typeof t)return qd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qd(t,e):void 0}}function qd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ud(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wd(t,e,n){return e&&Hd(t.prototype,e),n&&Hd(t,n),t}var $d=function(){function t(){var e=this;Ud(this,t),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(t,e){e[0]=new Gd(e[0])},{priority:"highest"}),this.on("checkChild",function(t,n){n[0]=new Gd(n[0]),n[1]=e.getDefinition(n[1])},{priority:"highest"})}return Wd(t,[{key:"register",value:function(t,e){if(this._sourceDefinitions[t])throw new u.a("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}},{key:"extend",value:function(t,e){if(!this._sourceDefinitions[t])throw new u.a("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(t){var e;return e="string"==typeof t?t:t.is&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}},{key:"isRegistered",value:function(t){return!!this.getDefinition(t)}},{key:"isBlock",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isBlock)}},{key:"isLimit",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}},{key:"isObject",value:function(t){var e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}},{key:"isInline",value:function(t){var e=this.getDefinition(t);return!(!e||!e.isInline)}},{key:"isSelectable",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isSelectable&&!e.isObject)}},{key:"isContent",value:function(t){var e=this.getDefinition(t);return!!e&&!(!e.isContent&&!e.isObject)}},{key:"checkChild",value:function(t,e){return!!e&&this._checkContextMatch(e,t)}},{key:"checkAttribute",value:function(t,e){var n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}},{key:"checkMerge",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t instanceof Ah){var n=t.nodeBefore,r=t.nodeAfter;if(!(n instanceof vh))throw new u.a("schema-check-merge-no-element-before",this);if(!(r instanceof vh))throw new u.a("schema-check-merge-no-element-after",this);return this.checkMerge(n,r)}var o,i=Fd(e.getChildren());try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!this.checkChild(t,a))return!1}}catch(t){i.e(t)}finally{i.f()}return!0}},{key:"addChildCheck",value:function(t){this.on("checkChild",function(e,n){var r=Ld(n,2),o=r[0],i=r[1];if(i){var a=t(o,i);"boolean"==typeof a&&(e.stop(),e.return=a)}},{priority:"high"})}},{key:"addAttributeCheck",value:function(t){this.on("checkAttribute",function(e,n){var r=Ld(n,2),o=r[0],i=r[1],a=t(o,i);"boolean"==typeof a&&(e.stop(),e.return=a)},{priority:"high"})}},{key:"setAttributeProperties",value:function(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}},{key:"getAttributeProperties",value:function(t){return this._attributeProperties[t]||{}}},{key:"getLimitElement",value:function(t){var e;t instanceof Ah?e=t.parent:e=(t instanceof Nh?[t]:Array.from(t.getRanges())).reduce(function(t,e){var n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null);for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}},{key:"checkAttributeInSelection",value:function(t,e){if(t.isCollapsed){var n=t.getFirstPosition(),r=[].concat(zd(n.getAncestors()),[new Qf("",t.getAttributes())]);return this.checkAttribute(r,e)}var o,i=Fd(t.getRanges());try{for(i.s();!(o=i.n()).done;){var a,c=Fd(o.value);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(this.checkAttribute(u.item,e))return!0}}catch(t){c.e(t)}finally{c.f()}}}catch(t){i.e(t)}finally{i.f()}return!1}},{key:"getValidRanges",value:regeneratorRuntime.mark(function t(e,n){var r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=cy(e),r=Fd(e),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=9;break}return i=o.value,t.delegateYield(this._getValidRangesForRange(i,n),"t0",7);case 7:t.next=4;break;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(2),r.e(t.t1);case 14:return t.prev=14,r.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(t){var e,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(t,"$text"))return new Nh(t);var i=t.getAncestors().reverse().find(function(t){return r.isLimit(t)})||t.root;"both"!=o&&"backward"!=o||(e=new wh({boundaries:Nh._createIn(i),startPosition:t,direction:"backward"})),"both"!=o&&"forward"!=o||(n=new wh({boundaries:Nh._createIn(i),startPosition:t}));var a,c=Fd(ay(e,n));try{for(c.s();!(a=c.n()).done;){var u=a.value,s=u.walker==e?"elementEnd":"elementStart",l=u.value;if(l.type==s&&this.isObject(l.item))return Nh._createOn(l.item);if(this.checkChild(l.nextPosition,"$text"))return new Nh(l.nextPosition)}}catch(t){c.e(t)}finally{c.f()}return null}},{key:"findAllowedParent",value:function(t,e){for(var n=t.parent;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(t,e){var n,r=Fd(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is("$text"))uy(this,o,e);else{var i,a=Fd(Nh._createIn(o).getPositions());try{for(a.s();!(i=a.n()).done;){var c=i.value;uy(this,c.nodeBefore||c.parent,e)}}catch(t){a.e(t)}finally{a.f()}}}}catch(t){r.e(t)}finally{r.f()}}},{key:"createContext",value:function(t){return new Gd(t)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var t={},e=this._sourceDefinitions,n=Object.keys(e),r=0,o=n;r<o.length;r++){var i=o[r];t[i]=Kd(e[i],i)}for(var a=0,c=n;a<c.length;a++){Yd(t,c[a])}for(var u=0,s=n;u<s.length;u++){Jd(t,s[u])}for(var l=0,f=n;l<f.length;l++){Xd(t,f[l])}for(var h=0,p=n;h<p.length;h++){var d=p[h];Zd(t,d),Qd(t,d)}for(var y=0,m=n;y<m.length;y++){var v=m[y];ty(t,v),ey(t,v),ny(t,v)}this._compiledDefinitions=t}},{key:"_checkContextMatch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1,r=e.getItem(n);if(t.allowIn.includes(r.name)){if(0==n)return!0;var o=this.getDefinition(r);return this._checkContextMatch(o,e,n-1)}return!1}},{key:"_getValidRangesForRange",value:regeneratorRuntime.mark(function t(e,n){var r,o,i,a,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.start,o=e.start,i=Fd(e.getItems({shallow:!0})),t.prev=3,i.s();case 5:if((a=i.n()).done){t.next=17;break}if(!(c=a.value).is("element")){t.next=9;break}return t.delegateYield(this._getValidRangesForRange(Nh._createIn(c),n),"t0",9);case 9:if(this.checkAttribute(c,n)){t.next=14;break}if(r.isEqual(o)){t.next=13;break}return t.next=13,new Nh(r,o);case 13:r=Ah._createAfter(c);case 14:o=Ah._createAfter(c);case 15:t.next=5;break;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t.catch(3),i.e(t.t1);case 22:return t.prev=22,i.f(),t.finish(22);case 25:if(r.isEqual(o)){t.next=28;break}return t.next=28,new Nh(r,o);case 28:case"end":return t.stop()}},t,this,[[3,19,22,25]])})}]),t}();pe($d,oe);var Gd=function(){function t(e){if(Ud(this,t),e instanceof t)return e;"string"==typeof e?e=[e]:Array.isArray(e)||(e=e.getAncestors({includeSelf:!0})),this._items=e.map(iy)}return Wd(t,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var n=new t([e]);return n._items=[].concat(zd(this._items),zd(n._items)),n}},{key:"getItem",value:function(t){return this._items[t]}},{key:"getNames",value:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this._items.map(function(t){return t.name}),"t0",1);case 1:case"end":return t.stop()}},t,this)})},{key:"endsWith",value:function(t){return Array.from(this.getNames()).join(" ").endsWith(t)}},{key:"startsWith",value:function(t){return Array.from(this.getNames()).join(" ").startsWith(t)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),t}();function Kd(t,e){var n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(t,e){var n,r=Fd(t);try{for(r.s();!(n=r.n()).done;){var o,i=n.value,a=Fd(Object.keys(i).filter(function(t){return t.startsWith("is")}));try{for(a.s();!(o=a.n()).done;){var c=o.value;e[c]=i[c]}}catch(t){a.e(t)}finally{a.f()}}}catch(t){r.e(t)}finally{r.f()}}(t,n),ry(t,n,"allowIn"),ry(t,n,"allowContentOf"),ry(t,n,"allowWhere"),ry(t,n,"allowAttributes"),ry(t,n,"allowAttributesOf"),ry(t,n,"allowChildren"),ry(t,n,"inheritTypesFrom"),function(t,e){var n,r=Fd(t);try{for(r.s();!(n=r.n()).done;){var o=n.value.inheritAllFrom;o&&(e.allowContentOf.push(o),e.allowWhere.push(o),e.allowAttributesOf.push(o),e.inheritTypesFrom.push(o))}}catch(t){r.e(t)}finally{r.f()}}(t,n),n}function Yd(t,e){var n,r=t[e],o=Fd(r.allowChildren);try{for(o.s();!(n=o.n()).done;){var i=t[n.value];i&&i.allowIn.push(e)}}catch(t){o.e(t)}finally{o.f()}r.allowChildren.length=0}function Jd(t,e){var n,r=Fd(t[e].allowContentOf);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(t[o])oy(t,o).forEach(function(t){t.allowIn.push(e)})}}catch(t){r.e(t)}finally{r.f()}delete t[e].allowContentOf}function Xd(t,e){var n,r=Fd(t[e].allowWhere);try{for(r.s();!(n=r.n()).done;){var o=t[n.value];if(o){var i,a=o.allowIn;(i=t[e].allowIn).push.apply(i,zd(a))}}}catch(t){r.e(t)}finally{r.f()}delete t[e].allowWhere}function Zd(t,e){var n,r=Fd(t[e].allowAttributesOf);try{for(r.s();!(n=r.n()).done;){var o=t[n.value];if(o){var i,a=o.allowAttributes;(i=t[e].allowAttributes).push.apply(i,zd(a))}}}catch(t){r.e(t)}finally{r.f()}delete t[e].allowAttributesOf}function Qd(t,e){var n,r=t[e],o=Fd(r.inheritTypesFrom);try{for(o.s();!(n=o.n()).done;){var i=t[n.value];if(i){var a,c=Fd(Object.keys(i).filter(function(t){return t.startsWith("is")}));try{for(c.s();!(a=c.n()).done;){var u=a.value;u in r||(r[u]=i[u])}}catch(t){c.e(t)}finally{c.f()}}}}catch(t){o.e(t)}finally{o.f()}delete r.inheritTypesFrom}function ty(t,e){var n=t[e],r=n.allowIn.filter(function(e){return t[e]});n.allowIn=Array.from(new Set(r))}function ey(t,e){var n,r=Fd(t[e].allowIn);try{for(r.s();!(n=r.n()).done;){t[n.value].allowChildren.push(e)}}catch(t){r.e(t)}finally{r.f()}}function ny(t,e){var n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function ry(t,e,n){var r,o=Fd(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if("string"==typeof i[n])e[n].push(i[n]);else if(Array.isArray(i[n])){var a;(a=e[n]).push.apply(a,zd(i[n]))}}}catch(t){o.e(t)}finally{o.f()}}function oy(t,e){var n,r=t[e];return(n=t,Object.keys(n).map(function(t){return n[t]})).filter(function(t){return t.allowIn.includes(r.name)})}function iy(t){return"string"==typeof t||t.is("documentFragment")?{name:"string"==typeof t?t:"$documentFragment",getAttributeKeys:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}),getAttribute:function(){}}:{name:t.is("element")?t.name:"$text",getAttributeKeys:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(t.getAttributeKeys(),"t0",1);case 1:case"end":return e.stop()}},e)}),getAttribute:function(e){return t.getAttribute(e)}}}function ay(t,e){var n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=!1;case 1:if(n){i.next=17;break}if(n=!0,!t){i.next=9;break}if((r=t.next()).done){i.next=9;break}return n=!1,i.next=9,{walker:t,value:r.value};case 9:if(!e){i.next=15;break}if((o=e.next()).done){i.next=15;break}return n=!1,i.next=15,{walker:e,value:o.value};case 15:i.next=1;break;case 17:case"end":return i.stop()}},Nd)}function cy(t){var e,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=Fd(t),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=8;break}return r=n.value,o.delegateYield(r.getMinimalFlatRanges(),"t0",6);case 6:o.next=3;break;case 8:o.next=13;break;case 10:o.prev=10,o.t1=o.catch(1),e.e(o.t1);case 13:return o.prev=13,e.f(),o.finish(13);case 16:case"end":return o.stop()}},Bd,null,[[1,10,13,16]])}function uy(t,e,n){var r,o=Fd(e.getAttributeKeys());try{for(o.s();!(r=o.n()).done;){var i=r.value;t.checkAttribute(e,i)||n.removeAttribute(i,e)}}catch(t){o.e(t)}finally{o.f()}}function sy(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ly(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ly(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ly(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var py=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};fy(this,t),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},e),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}var e,n,r;return e=t,(n=[{key:"convert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",t),this._modelCursor=yy(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Md.createFrom(t),this.conversionApi.store={};var r=this._convertItem(t,this._modelCursor),o=r.modelRange,i=e.createDocumentFragment();if(o){this._removeEmptyElements();for(var a=0,c=Array.from(this._modelCursor.parent.getChildren());a<c.length;a++){var u=c[a];e.append(u,i)}i.markers=dy(i,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}},{key:"_convertItem",value:function(t,e){var n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Nh))throw new u.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(t,e){for(var n=e.is("position")?e:Ah._createAt(e,0),r=new Nh(n),o=0,i=Array.from(t.getChildren());o<i.length;o++){var a=i[o],c=this._convertItem(a,n);c.modelRange instanceof Nh&&(r.end=c.modelRange.end,n=c.modelCursor)}return{modelRange:r,modelCursor:n}}},{key:"_safeInsert",value:function(t,e){var n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}},{key:"_updateConversionResult",value:function(t,e){var n=this._getSplitParts(t),r=this.conversionApi.writer;e.modelRange||(e.modelRange=r.createRange(r.createPositionBefore(t),r.createPositionAfter(n[n.length-1])));var o=this._cursorParents.get(t);e.modelCursor=o?r.createPositionAt(o,0):e.modelRange.end}},{key:"_splitToAllowedParent",value:function(t,e){var n=this.conversionApi,r=n.schema,o=n.writer,i=r.findAllowedParent(e,t);if(i){if(i===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(i)&&(i=null)}if(!i)return nd(e,t,r)?{position:rd(e,o)}:null;var a,c=this.conversionApi.writer.split(e,i),u=[],s=sy(c.range.getWalker());try{for(s.s();!(a=s.n()).done;){var l=a.value;if("elementEnd"==l.type)u.push(l.item);else{var f=u.pop(),h=l.item;this._registerSplitPair(f,h)}}}catch(t){s.e(t)}finally{s.f()}var p=c.range.end.parent;return this._cursorParents.set(t,p),{position:c.position,cursorParent:p}}},{key:"_registerSplitPair",value:function(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);var n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}},{key:"_getSplitParts",value:function(t){return this._splitParts.has(t)?this._splitParts.get(t):[t]}},{key:"_removeEmptyElements",value:function(){var t,e=!1,n=sy(this._splitParts.keys());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.isEmpty&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),e=!0)}}catch(t){n.e(t)}finally{n.f()}e&&this._removeEmptyElements()}}])&&hy(e.prototype,n),r&&hy(e,r),t}();function dy(t,e){var n,r=new Set,o=new Map,i=sy(Nh._createIn(t).getItems());try{for(i.s();!(n=i.n()).done;){var a=n.value;"$marker"==a.name&&r.add(a)}}catch(t){i.e(t)}finally{i.f()}var c,u=sy(r);try{for(u.s();!(c=u.n()).done;){var s=c.value,l=s.getAttribute("data-name"),f=e.createPositionBefore(s);o.has(l)?o.get(l).end=f.clone():o.set(l,new Nh(f.clone())),e.remove(s)}}catch(t){u.e(t)}finally{u.f()}return o}function yy(t,e){var n,r,o=sy(new Gd(t));try{for(o.s();!(r=o.n()).done;){var i,a=r.value,c={},u=sy(a.getAttributeKeys());try{for(u.s();!(i=u.n()).done;){var s=i.value;c[s]=a.getAttribute(s)}}catch(t){u.e(t)}finally{u.f()}var l=e.createElement(a.name,c);n&&e.append(l,n),n=Ah._createAt(l,0)}}catch(t){o.e(t)}finally{o.f()}return n}function my(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(py,m);var vy=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"getHtml",value:function(t){var e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}])&&my(e.prototype,n),r&&my(e,r),t}();function by(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._domParser=new DOMParser,this._domConverter=new Qu(e,{blockFillerMode:"nbsp"}),this._htmlWriter=new vy}var e,n,r;return e=t,(n=[{key:"toData",value:function(t){var e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}},{key:"toView",value:function(t){var e=this._toDom(t);return this._domConverter.domToView(e)}},{key:"registerRawContentMatcher",value:function(t){this._domConverter.registerRawContentMatcher(t)}},{key:"useFillerType",value:function(t){this._domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}},{key:"_toDom",value:function(t){for(var e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),r=e.firstChild;!r.isSameNode(e.documentElement);){var o=r;r=r.nextSibling,o.nodeType==Node.COMMENT_NODE&&n.appendChild(o)}for(var i=e.body.childNodes;i.length>0;)n.appendChild(i[0]);return n}}])&&by(e.prototype,n),r&&by(e,r),t}();function wy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||_y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ky(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _y(t,e){if(t){if("string"==typeof t)return Sy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sy(t,e):void 0}}function Sy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Oy=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.mapper=new Fh,this.downcastDispatcher=new Gh({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",function(t,e,n){if(n.consumable.consume(e.item,"insert")){var r=n.writer,o=n.mapper.toViewPosition(e.range.start),i=r.createText(e.item.data);r.insert(o,i)}},{priority:"lowest"}),this.upcastDispatcher=new py({schema:e.schema}),this.viewDocument=new Qa(n),this.stylesProcessor=n,this.htmlProcessor=new gy(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new iu(this.viewDocument),this.upcastDispatcher.on("text",function(t,e,n){var r=n.schema,o=n.consumable,i=n.writer,a=e.modelCursor;if(o.test(e.viewItem)){if(!r.checkChild(a,"$text")){if(!nd(a,"$text",r))return;a=rd(a,i)}o.consume(e.viewItem);var c=i.createText(e.viewItem.data);i.insert(c,a),e.modelRange=i.createRange(a,a.getShiftedBy(c.offsetSize)),e.modelCursor=e.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var r=n.convertChildren(e.viewItem,e.modelCursor),o=r.modelRange,i=r.modelCursor;e.modelRange=o,e.modelCursor=i}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(t,e,n){if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){var r=n.convertChildren(e.viewItem,e.modelCursor),o=r.modelRange,i=r.modelCursor;e.modelRange=o,e.modelCursor=i}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.on("init",function(){r.fire("ready")},{priority:"lowest"}),this.on("ready",function(){r.model.enqueueChange("transparent",ed)},{priority:"lowest"})}var e,n,r;return e=t,(n=[{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.rootName,n=void 0===e?"main":e,r=t.trim,o=void 0===r?"empty":r;if(!this._checkIfRootsExists([n]))throw new u.a("datacontroller-get-non-existent-root",this);var i=this.model.document.getRoot(n);return"empty"!==o||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i,t):""}},{key:"stringify",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toView(t,e);return this.processor.toData(n)}},{key:"toView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.viewDocument,r=this._viewWriter;this.mapper.clearBindings();var o=Nh._createIn(t),i=new Qc(n);this.mapper.bindElements(t,i),this.downcastDispatcher.conversionApi.options=e,this.downcastDispatcher.convertInsert(o,r);var a,c=t.is("documentFragment")?Array.from(t.markers):Ay(t),u=ky(c);try{for(u.s();!(a=u.n()).done;){var s=wy(a.value,2),l=s[0],f=s[1];this.downcastDispatcher.convertMarkerAdd(l,f,r)}}catch(t){u.e(t)}finally{u.f()}return delete this.downcastDispatcher.conversionApi.options,i}},{key:"init",value:function(t){var e=this;if(this.model.document.version)throw new u.a("datacontroller-init-document-not-empty",this);var n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new u.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",function(t){for(var r=0,o=Object.keys(n);r<o.length;r++){var i=o[r],a=e.model.document.getRoot(i);t.insert(e.parse(n[i],a),a,0)}}),Promise.resolve()}},{key:"set",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof t?r.main=t:r=t,!this._checkIfRootsExists(Object.keys(r)))throw new u.a("datacontroller-set-non-existent-root",this);var o=n.batchType||"default";this.model.enqueueChange(o,function(t){t.setSelection(null),t.removeSelectionAttribute(e.model.document.selection.getAttributeKeys());for(var n=0,o=Object.keys(r);n<o.length;n++){var i=o[n],a=e.model.document.getRoot(i);t.remove(t.createRangeIn(a)),t.insert(e.parse(r[i],a),a,0)}})}},{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(t);return this.toModel(n,e)}},{key:"toModel",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change(function(r){return e.upcastDispatcher.convert(t,r,n)})}},{key:"addStyleProcessorRules",value:function(t){t(this.stylesProcessor)}},{key:"registerRawContentMatcher",value:function(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(t){var e,n=ky(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!this.model.document.getRootNames().includes(r))return!1}}catch(t){n.e(t)}finally{n.f()}return!0}}])&&xy(e.prototype,n),r&&xy(e,r),t}();function Ay(t){var e=[],n=t.root.document;if(!n)return[];var r,o=Nh._createIn(t),i=ky(n.model.markers);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=a.getRange(),u=c.isCollapsed,s=c.start.isEqual(o.start)||c.end.isEqual(o.end);if(u&&s)e.push([a.name,c]);else{var l=o.getIntersection(c);l&&e.push([a.name,l])}}}catch(t){i.e(t)}finally{i.f()}return e}pe(Oy,oe);var Py=regeneratorRuntime.mark(Iy),Ey=regeneratorRuntime.mark(My);function Ry(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ty(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ty(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cy=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._helpers=new Map,this._downcast=Hr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Hr(n),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}var e,n,r;return e=t,(n=[{key:"addAlias",value:function(t,e){var n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new u.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}},{key:"for",value:function(t){if(!this._helpers.has(t))throw new u.a("conversion-for-unknown-group",this);return this._helpers.get(t)}},{key:"elementToElement",value:function(t){this.for("downcast").elementToElement(t);var e,n=Ry(Iy(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.model,i=r.view;this.for("upcast").elementToElement({model:o,view:i,converterPriority:t.converterPriority})}}catch(t){n.e(t)}finally{n.f()}}},{key:"attributeToElement",value:function(t){this.for("downcast").attributeToElement(t);var e,n=Ry(Iy(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.model,i=r.view;this.for("upcast").elementToAttribute({view:i,model:o,converterPriority:t.converterPriority})}}catch(t){n.e(t)}finally{n.f()}}},{key:"attributeToAttribute",value:function(t){this.for("downcast").attributeToAttribute(t);var e,n=Ry(Iy(t));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.model,i=r.view;this.for("upcast").attributeToAttribute({view:i,model:o})}}catch(t){n.e(t)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(t){var e=t.name,n=t.dispatchers,r=t.isDowncast;if(this._helpers.has(e))throw new u.a("conversion-group-exists",this);var o=r?new $p(n):new dd(n);this._helpers.set(e,o)}}])&&jy(e.prototype,n),r&&jy(e,r),t}();function Iy(t){var e,n,r,o,i,a;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!t.model.values){c.next=22;break}e=Ry(t.model.values),c.prev=2,e.s();case 4:if((n=e.n()).done){c.next=12;break}return r=n.value,o={key:t.model.key,value:r},i=t.view[r],a=t.upcastAlso?t.upcastAlso[r]:void 0,c.delegateYield(My(o,i,a),"t0",10);case 10:c.next=4;break;case 12:c.next=17;break;case 14:c.prev=14,c.t1=c.catch(2),e.e(c.t1);case 17:return c.prev=17,e.f(),c.finish(17);case 20:c.next=23;break;case 22:return c.delegateYield(My(t.model,t.view,t.upcastAlso),"t2",23);case 23:case"end":return c.stop()}},Py,null,[[2,14,17,20]])}function My(t,e,n){var r,o,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,{model:t,view:e};case 2:if(!n){a.next=20;break}r=Ry(Hr(n)),a.prev=4,r.s();case 6:if((o=r.n()).done){a.next=12;break}return i=o.value,a.next=10,{model:t,view:i};case 10:a.next=6;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),r.e(a.t0);case 17:return a.prev=17,r.f(),a.finish(17);case 20:case"end":return a.stop()}},Ey,null,[[4,14,17,20]])}function Dy(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ny(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ny(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ny(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function By(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ly=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";By(this,t),this.operations=[],this.type=e}var e,n,r;return e=t,(n=[{key:"addOperation",value:function(t){return t.batch=this,this.operations.push(t),t}},{key:"baseVersion",get:function(){var t,e=Dy(this.operations);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==n.baseVersion)return n.baseVersion}}catch(t){e.e(t)}finally{e.f()}return null}}])&&zy(e.prototype,n),r&&zy(e,r),t}();function Fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Vy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}var e,n,r;return e=t,r=[{key:"fromJSON",value:function(t){return new this(t.baseVersion)}},{key:"className",get:function(){return"Operation"}}],(n=[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}}])&&Fy(e.prototype,n),r&&Fy(e,r),t}();function qy(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Uy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uy(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Uy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Wy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.markers=new Map,this._children=new ch,e&&this._insertChild(0,e)}var e,n,r;return e=t,n=[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(t){return"documentFragment"===t||"model:documentFragment"===t}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(t){var e,n=this,r=qy(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n=n.getChild(n.offsetToIndex(o))}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"toJSON",value:function(){var t,e=[],n=qy(this._children);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r.toJSON())}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,e){var n,r=function(t){return"string"==typeof t?[new Qf(t)]:(Er(t)||(t=[t]),Array.from(t).map(function(t){return"string"==typeof t?new Qf(t):t instanceof eh?new Qf(t.data,t.getAttributes()):t}))}(e),o=qy(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;null!==i.parent&&i._remove(),i.parent=this}}catch(t){o.e(t)}finally{o.f()}this._children._insertNodes(t,r)}},{key:"_removeChildren",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this._children._removeNodes(t,n),o=qy(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;i.parent=null}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],r=[{key:"fromJSON",value:function(e){var n,r=[],o=qy(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;i.name?r.push(vh.fromJSON(i)):r.push(Qf.fromJSON(i))}}catch(t){o.e(t)}finally{o.f()}return new t(r)}}],n&&Hy(e.prototype,n),r&&Hy(e,r),t}();function $y(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Gy(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ky(t,e){var n=(e=Xy(e)).reduce(function(t,e){return t+e.offsetSize},0),r=t.parent;Qy(t);var o=t.index;return r._insertChild(o,e),Zy(r,o+e.length),Zy(r,o),new Nh(t,t.getShiftedBy(n))}function Yy(t){if(!t.isFlat)throw new u.a("operation-utils-remove-range-not-flat",this);var e=t.start.parent;Qy(t.start),Qy(t.end);var n=e._removeChildren(t.start.index,t.end.index-t.start.index);return Zy(e,t.start.index),n}function Jy(t,e){if(!t.isFlat)throw new u.a("operation-utils-move-range-not-flat",this);var n=Yy(t);return Ky(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function Xy(t){var e=[];t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new Qf(t[n]));else if(t[n]instanceof eh)e.push(new Qf(t[n].data,t[n].getAttributes()));else if(t[n]instanceof Wy||t[n]instanceof ch){var r,o=$y(t[n]);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.push(i)}}catch(t){o.e(t)}finally{o.f()}}else t[n]instanceof Wf&&e.push(t[n]);for(var a=1;a<e.length;a++){var c=e[a],u=e[a-1];c instanceof Qf&&u instanceof Qf&&tm(c,u)&&(e.splice(a-1,2,new Qf(u.data+c.data,u.getAttributes())),a--)}return e}function Zy(t,e){var n=t.getChild(e-1),r=t.getChild(e);if(n&&r&&n.is("$text")&&r.is("$text")&&tm(n,r)){var o=new Qf(n.data+r.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function Qy(t){var e=t.textNode,n=t.parent;if(e){var r=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);var i=new Qf(e.data.substr(0,r),e.getAttributes()),a=new Qf(e.data.substr(r),e.getAttributes());n._insertChild(o,[i,a])}}function tm(t,e){var n,r=t.getAttributes(),o=e.getAttributes(),i=$y(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a[1]!==e.getAttribute(a[0]))return!1;o.next()}}catch(t){i.e(t)}finally{i.f()}return o.next().done}var em=function(t,e){return xs(t,e)};function nm(t){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rm(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return om(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return om(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function om(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function im(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function am(t,e,n){return(am="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cm(t,e){return(cm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=lm(t);if(e){var o=lm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(t,e){return!e||"object"!==nm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lm(t){return(lm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cm(t,e)}(i,t);var e,n,r,o=um(i);function i(t,e,n,r,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,a)).range=t.clone(),c.key=e,c.oldValue=void 0===n?null:n,c.newValue=void 0===r?null:r,c}return e=i,r=[{key:"fromJSON",value:function(t,e){return new i(Nh.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}],(n=[{key:"clone",value:function(){return new i(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new i(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=am(lm(i.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new u.a("attribute-operation-range-not-flat",this);var t,e=rm(this.range.getItems({shallow:!0}));try{for(e.s();!(t=e.n()).done;){var n=t.value;if(null!==this.oldValue&&!em(n.getAttribute(this.key),this.oldValue))throw new u.a("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&n.hasAttribute(this.key))throw new u.a("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}catch(t){e.e(t)}finally{e.f()}}},{key:"_execute",value:function(){em(this.oldValue,this.newValue)||function(t,e,n){Qy(t.start),Qy(t.end);var r,o=$y(t.getItems({shallow:!0}));try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.is("$textProxy")?i.textNode:i;null!==n?a._setAttribute(e,n):a._removeAttribute(e),Zy(a.parent,a.index)}}catch(t){o.e(t)}finally{o.f()}Zy(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}])&&im(e.prototype,n),r&&im(e,r),i}(Vy);function hm(t){return(hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dm(t,e,n){return(dm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ym(t,e){return(ym=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=bm(t);if(e){var o=bm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vm(this,n)}}function vm(t,e){return!e||"object"!==hm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bm(t){return(bm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ym(t,e)}(i,t);var e,n,r,o=mm(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,null)).sourcePosition=t.clone(),n.howMany=e,n}return e=i,r=[{key:"className",get:function(){return"DetachOperation"}}],(n=[{key:"toJSON",value:function(){var t=dm(bm(i.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new u.a("detach-operation-on-document-node",this)}},{key:"_execute",value:function(){Yy(Nh._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}])&&pm(e.prototype,n),r&&pm(e,r),i}(Vy);function wm(t){return(wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _m(t,e,n){return(_m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Am(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Sm(t,e){return(Sm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Am(t);if(e){var o=Am(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Om(this,n)}}function Om(t,e){return!e||"object"!==wm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Am(t){return(Am=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sm(t,e)}(i,t);var e,n,r,o=xm(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,r)).sourcePosition=t.clone(),a.sourcePosition.stickiness="toNext",a.howMany=e,a.targetPosition=n.clone(),a.targetPosition.stickiness="toNone",a}return e=i,r=[{key:"fromJSON",value:function(t,e){var n=Ah.fromJSON(t.sourcePosition,e),r=Ah.fromJSON(t.targetPosition,e);return new this(n,t.howMany,r,t.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}],(n=[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,r=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new u.a("move-operation-nodes-do-not-exist",this);if(t===e&&n<r&&r<n+this.howMany)throw new u.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==ao(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var o=this.sourcePosition.path.length-1;if(this.targetPosition.path[o]>=n&&this.targetPosition.path[o]<n+this.howMany)throw new u.a("move-operation-node-into-itself",this)}}},{key:"_execute",value:function(){Jy(Nh._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=_m(Am(i.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}])&&km(e.prototype,n),r&&km(e,r),i}(Vy);function Em(t){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rm(t){return function(t){if(Array.isArray(t))return jm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Tm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tm(t,e){if(t){if("string"==typeof t)return jm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jm(t,e):void 0}}function jm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Im(t,e,n){return(Im="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Mm(t,e){return(Mm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Bm(t);if(e){var o=Bm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nm(this,n)}}function Nm(t,e){return!e||"object"!==Em(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bm(t){return(Bm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mm(t,e)}(i,t);var e,n,r,o=Dm(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,n)).position=t.clone(),r.position.stickiness="toNone",r.nodes=new ch(Xy(e)),r.shouldReceiveAttributes=!1,r}return e=i,r=[{key:"fromJSON",value:function(t,e){var n,r=[],o=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Tm(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.nodes);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.name?r.push(vh.fromJSON(a)):r.push(Qf.fromJSON(a))}}catch(t){o.e(t)}finally{o.f()}var c=new i(Ah.fromJSON(t.position,e),r,t.baseVersion);return c.shouldReceiveAttributes=t.shouldReceiveAttributes,c}},{key:"className",get:function(){return"InsertOperation"}}],(n=[{key:"clone",value:function(){var t=new ch(Rm(this.nodes).map(function(t){return t._clone(!0)})),e=new i(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,e=new Ah(t,[0]);return new Pm(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new u.a("insert-operation-position-invalid",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new ch(Rm(t).map(function(t){return t._clone(!0)})),Ky(this.position,t)}},{key:"toJSON",value:function(){var t=Im(Bm(i.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}])&&Cm(e.prototype,n),r&&Cm(e,r),i}(Vy);function Lm(t){return(Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vm(t,e,n){return(Vm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function qm(t,e){return(qm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Wm(t);if(e){var o=Wm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hm(this,n)}}function Hm(t,e){return!e||"object"!==Lm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wm(t){return(Wm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qm(t,e)}(i,t);var e,n,r,o=Um(i);function i(t,e,n,r,a,c){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,c)).name=t,u.oldRange=e?e.clone():null,u.newRange=n?n.clone():null,u.affectsData=a,u._markers=r,u}return e=i,r=[{key:"fromJSON",value:function(t,e){return new i(t.name,t.oldRange?Nh.fromJSON(t.oldRange,e):null,t.newRange?Nh.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}],(n=[{key:"clone",value:function(){return new i(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new i(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=Vm(Wm(i.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}},{key:"type",get:function(){return"marker"}}])&&Fm(e.prototype,n),r&&Fm(e,r),i}(Vy);function Gm(t){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ym(t,e,n){return(Ym="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qm(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Jm(t,e){return(Jm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Qm(t);if(e){var o=Qm(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zm(this,n)}}function Zm(t,e){return!e||"object"!==Gm(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qm(t){return(Qm=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jm(t,e)}(i,t);var e,n,r,o=Xm(i);function i(t,e,n,r){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(a=o.call(this,r)).position=t,a.position.stickiness="toNext",a.oldName=e,a.newName=n,a}return e=i,r=[{key:"fromJSON",value:function(t,e){return new i(Ah.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}],(n=[{key:"clone",value:function(){return new i(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new i(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof vh))throw new u.a("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new u.a("rename-operation-wrong-name",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var t=Ym(Qm(i.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}},{key:"type",get:function(){return"rename"}}])&&Km(e.prototype,n),r&&Km(e,r),i}(Vy);function ev(t){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rv(t,e,n){return(rv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=cv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ov(t,e){return(ov=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function iv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=cv(t);if(e){var o=cv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return av(this,n)}}function av(t,e){return!e||"object"!==ev(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cv(t){return(cv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ov(t,e)}(i,t);var e,n,r,o=iv(i);function i(t,e,n,r,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,a)).root=t,c.key=e,c.oldValue=n,c.newValue=r,c}return e=i,r=[{key:"fromJSON",value:function(t,e){if(!e.getRoot(t.root))throw new u.a("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new i(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}],(n=[{key:"clone",value:function(){return new i(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new i(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new u.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new u.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new u.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=rv(cv(i.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}])&&nv(e.prototype,n),r&&nv(e,r),i}(Vy);function sv(t){return(sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fv(t,e,n){return(fv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hv(t,e){return(hv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=yv(t);if(e){var o=yv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dv(this,n)}}function dv(t,e){return!e||"object"!==sv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yv(t){return(yv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hv(t,e)}(i,t);var e,n,r,o=pv(i);function i(t,e,n,r,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,a)).sourcePosition=t.clone(),c.sourcePosition.stickiness="toPrevious",c.howMany=e,c.targetPosition=n.clone(),c.targetPosition.stickiness="toNext",c.graveyardPosition=r.clone(),c}return e=i,r=[{key:"fromJSON",value:function(t,e){var n=Ah.fromJSON(t.sourcePosition,e),r=Ah.fromJSON(t.targetPosition,e),o=Ah.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,r,o,t.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}],(n=[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Ah(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new xv(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new u.a("merge-operation-source-position-invalid",this);if(!e.parent)throw new u.a("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new u.a("merge-operation-how-many-invalid",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent;Jy(Nh._createIn(t),this.targetPosition),Jy(Nh._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=fv(yv(i.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new Ah(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Nh(this.sourcePosition,t)}}])&&lv(e.prototype,n),r&&lv(e,r),i}(Vy);function vv(t){return(vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gv(t,e,n){return(gv="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Sv(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function wv(t,e){return(wv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Sv(t);if(e){var o=Sv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _v(this,n)}}function _v(t,e){return!e||"object"!==vv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sv(t){return(Sv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wv(t,e)}(i,t);var e,n,r,o=kv(i);function i(t,e,n,r,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(c=o.call(this,a)).splitPosition=t.clone(),c.splitPosition.stickiness="toNext",c.howMany=e,c.insertionPosition=n,c.graveyardPosition=r?r.clone():null,c.graveyardPosition&&(c.graveyardPosition.stickiness="toNext"),c}return e=i,r=[{key:"getInsertionPosition",value:function(t){var e=t.path.slice(0,-1);return e[e.length-1]++,new Ah(t.root,e,"toPrevious")}},{key:"fromJSON",value:function(t,e){var n=Ah.fromJSON(t.splitPosition,e),r=Ah.fromJSON(t.insertionPosition,e),o=t.graveyardPosition?Ah.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,r,o,t.baseVersion)}},{key:"className",get:function(){return"SplitOperation"}}],(n=[{key:"clone",value:function(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,e=new Ah(t,[0]);return new mv(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new u.a("split-operation-position-invalid",this);if(!t.parent)throw new u.a("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new u.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new u.a("split-operation-graveyard-position-invalid",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)Jy(Nh._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var e=t._clone();Ky(this.insertionPosition,e)}Jy(new Nh(Ah._createAt(t,this.splitPosition.offset),Ah._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=gv(Sv(i.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new Ah(this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Nh(this.splitPosition,t)}}])&&bv(e.prototype,n),r&&bv(e,r),i}(Vy);function Ov(t){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ev(t,e){return(Ev=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jv(t);if(e){var o=jv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tv(this,n)}}function Tv(t,e){return!e||"object"!==Ov(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jv(t){return(jv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ev(t,e)}(i,t);var e,n,r,o=Rv(i);function i(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return Av(this,i),(n=o.call(this,e))._document=t,n.rootName=r,n}return e=i,(n=[{key:"is",value:function(t,e){return e?e===this.name&&("rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t):"rootElement"===t||"model:rootElement"===t||"element"===t||"model:element"===t||"node"===t||"model:node"===t}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}])&&Pv(e.prototype,n),r&&Pv(e,r),i}(vh);function Iv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Dv(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mv(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Dv(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Dv(t,e){if(t){if("string"==typeof t)return Nv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nv(t,e):void 0}}function Nv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zv=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.batch=n}var e,n,r;return e=t,(n=[{key:"createText",value:function(t,e){return new Qf(t,e)}},{key:"createElement",value:function(t,e){return new vh(t,e)}},{key:"createDocumentFragment",value:function(){return new Wy}},{key:"cloneElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t._clone(e)}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(t instanceof Qf&&""==t.data)){var r=Ah._createAt(e,n);if(t.parent){if(Uv(t.root,r.root))return void this.move(Nh._createOn(t),r);if(t.root.document)throw new u.a("model-writer-insert-forbidden-move",this);this.remove(t)}var o=r.root.document?r.root.document.version:null,i=new zm(r,t,o);if(t instanceof Qf&&(i.shouldReceiveAttributes=!0),this.batch.addOperation(i),this.model.applyOperation(i),t instanceof Wy){var a,c=Mv(t.markers);try{for(c.s();!(a=c.n()).done;){var s=Iv(a.value,2),l=s[0],f=s[1],h=Ah._createAt(f.root,0),p=new Nh(f.start._getCombined(h,r),f.end._getCombined(h,r)),d={range:p,usingOperation:!0,affectsData:!0};this.model.markers.has(l)?this.updateMarker(l,d):this.addMarker(l,d)}}catch(t){c.e(t)}finally{c.f()}}}}},{key:"insertText",value:function(t,e,n,r){e instanceof Wy||e instanceof vh||e instanceof Ah?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,r)}},{key:"insertElement",value:function(t,e,n,r){e instanceof Wy||e instanceof vh||e instanceof Ah?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,r)}},{key:"append",value:function(t,e){this.insert(t,e,"end")}},{key:"appendText",value:function(t,e,n){e instanceof Wy||e instanceof vh?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}},{key:"appendElement",value:function(t,e,n){e instanceof Wy||e instanceof vh?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}},{key:"setAttribute",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Nh){var r,o=Mv(n.getMinimalFlatRanges());try{for(o.s();!(r=o.n()).done;)Lv(this,t,e,r.value)}catch(t){o.e(t)}finally{o.f()}}else Fv(this,t,e,n)}},{key:"setAttributes",value:function(t,e){var n,r=Mv(wo(t));try{for(r.s();!(n=r.n()).done;){var o=Iv(n.value,2),i=o[0],a=o[1];this.setAttribute(i,a,e)}}catch(t){r.e(t)}finally{r.f()}}},{key:"removeAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Nh){var n,r=Mv(e.getMinimalFlatRanges());try{for(r.s();!(n=r.n()).done;)Lv(this,t,null,n.value)}catch(t){r.e(t)}finally{r.f()}}else Fv(this,t,null,e)}},{key:"clearAttributes",value:function(t){var e=this;this._assertWriterUsedCorrectly();var n=function(t){var n,r=Mv(t.getAttributeKeys());try{for(r.s();!(n=r.n()).done;){var o=n.value;e.removeAttribute(o,t)}}catch(t){r.e(t)}finally{r.f()}};if(t instanceof Nh){var r,o=Mv(t.getItems());try{for(o.s();!(r=o.n()).done;)n(r.value)}catch(t){o.e(t)}finally{o.f()}}else n(t)}},{key:"move",value:function(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Nh))throw new u.a("writer-move-invalid-range",this);if(!t.isFlat)throw new u.a("writer-move-range-not-flat",this);var r=Ah._createAt(e,n);if(!r.isEqual(t.start)){if(this._addOperationForAffectedMarkers("move",t),!Uv(t.root,r.root))throw new u.a("writer-move-different-document",this);var o=t.root.document?t.root.document.version:null,i=new Pm(t.start,t.end.offset-t.start.offset,r,o);this.batch.addOperation(i),this.model.applyOperation(i)}}},{key:"remove",value:function(t){this._assertWriterUsedCorrectly();var e,n=Mv((t instanceof Nh?t:Nh._createOn(t)).getMinimalFlatRanges().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;this._addOperationForAffectedMarkers("move",r),qv(r.start,r.end.offset-r.start.offset,this.batch,this.model)}}catch(t){n.e(t)}finally{n.f()}}},{key:"merge",value:function(t){this._assertWriterUsedCorrectly();var e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof vh))throw new u.a("writer-merge-no-element-before",this);if(!(n instanceof vh))throw new u.a("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}},{key:"createPositionFromPath",value:function(t,e,n){return this.model.createPositionFromPath(t,e,n)}},{key:"createPositionAt",value:function(t,e){return this.model.createPositionAt(t,e)}},{key:"createPositionAfter",value:function(t){return this.model.createPositionAfter(t)}},{key:"createPositionBefore",value:function(t){return this.model.createPositionBefore(t)}},{key:"createRange",value:function(t,e){return this.model.createRange(t,e)}},{key:"createRangeIn",value:function(t){return this.model.createRangeIn(t)}},{key:"createRangeOn",value:function(t){return this.model.createRangeOn(t)}},{key:"createSelection",value:function(t,e,n){return this.model.createSelection(t,e,n)}},{key:"_mergeDetached",value:function(t){var e=t.nodeBefore,n=t.nodeAfter;this.move(Nh._createIn(n),Ah._createAt(e,"end")),this.remove(n)}},{key:"_merge",value:function(t){var e=Ah._createAt(t.nodeBefore,"end"),n=Ah._createAt(t.nodeAfter,0),r=t.root.document.graveyard,o=new Ah(r,[0]),i=t.root.document.version,a=new mv(n,t.nodeAfter.maxOffset,e,o,i);this.batch.addOperation(a),this.model.applyOperation(a)}},{key:"rename",value:function(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof vh))throw new u.a("writer-rename-not-element-instance",this);var n=t.root.document?t.root.document.version:null,r=new tv(Ah._createBefore(t),t.name,e,n);this.batch.addOperation(r),this.model.applyOperation(r)}},{key:"split",value:function(t,e){this._assertWriterUsedCorrectly();var n,r,o=t.parent;if(!o.parent)throw new u.a("writer-split-element-no-parent",this);if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new u.a("writer-split-invalid-limit-element",this);do{var i=o.root.document?o.root.document.version:null,a=o.maxOffset-t.offset,c=xv.getInsertionPosition(t),s=new xv(t,a,c,null,i);this.batch.addOperation(s),this.model.applyOperation(s),n||r||(n=o,r=t.parent.nextSibling),o=(t=this.createPositionAfter(t.parent)).parent}while(o!==e);return{position:t,range:new Nh(Ah._createAt(n,"end"),Ah._createAt(r,0))}}},{key:"wrap",value:function(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new u.a("writer-wrap-range-not-flat",this);var n=e instanceof vh?e:new vh(e);if(n.childCount>0)throw new u.a("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new u.a("writer-wrap-element-attached",this);this.insert(n,t.start);var r=new Nh(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(r,Ah._createAt(n,0))}},{key:"unwrap",value:function(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new u.a("writer-unwrap-element-no-parent",this);this.move(Nh._createIn(t),this.createPositionAfter(t)),this.remove(t)}},{key:"addMarker",value:function(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new u.a("writer-addmarker-no-usingoperation",this);var n=e.usingOperation,r=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new u.a("writer-addmarker-marker-exists",this);if(!r)throw new u.a("writer-addmarker-no-range",this);return n?(Vv(this,t,null,r,o),this.model.markers.get(t)):this.model.markers._set(t,r,n,o)}},{key:"updateMarker",value:function(t,e){this._assertWriterUsedCorrectly();var n="string"==typeof t?t:t.name,r=this.model.markers.get(n);if(!r)throw new u.a("writer-updatemarker-marker-not-exists",this);if(e){var o="boolean"==typeof e.usingOperation,i="boolean"==typeof e.affectsData,a=i?e.affectsData:r.affectsData;if(!o&&!e.range&&!i)throw new u.a("writer-updatemarker-wrong-options",this);var c=r.getRange(),s=e.range?e.range:c;o&&e.usingOperation!==r.managedUsingOperations?e.usingOperation?Vv(this,n,null,s,a):(Vv(this,n,c,null,a),this.model.markers._set(n,s,void 0,a)):r.managedUsingOperations?Vv(this,n,c,s,a):this.model.markers._set(n,s,void 0,a)}else this.model.markers._refresh(r)}},{key:"removeMarker",value:function(t){this._assertWriterUsedCorrectly();var e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new u.a("writer-removemarker-no-marker",this);var n=this.model.markers.get(e);n.managedUsingOperations?Vv(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}},{key:"setSelection",value:function(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}},{key:"setSelectionFocus",value:function(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}},{key:"setSelectionAttribute",value:function(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else{var n,r=Mv(wo(t));try{for(r.s();!(n=r.n()).done;){var o=Iv(n.value,2),i=o[0],a=o[1];this._setSelectionAttribute(i,a)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"removeSelectionAttribute",value:function(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else{var e,n=Mv(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._removeSelectionAttribute(r)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(t){this.model.document.selection._restoreGravity(t)}},{key:"_setSelectionAttribute",value:function(t,e){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var r=Rp._getStoreAttributeKey(t);this.setAttribute(r,e,n.anchor.parent)}n._setAttribute(t,e)}},{key:"_removeSelectionAttribute",value:function(t){var e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){var n=Rp._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new u.a("writer-incorrect-use",this)}},{key:"_addOperationForAffectedMarkers",value:function(t,e){var n,r=Mv(this.model.markers);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.managedUsingOperations){var i=o.getRange(),a=!1;if("move"===t)a=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{var c=e.nodeBefore,u=e.nodeAfter,s=i.start.parent==c&&i.start.isAtEnd,l=i.end.parent==u&&0==i.end.offset,f=i.end.nodeAfter==u,h=i.start.nodeAfter==u;a=s||l||f||h}a&&this.updateMarker(o.name,{range:i})}}}catch(t){r.e(t)}finally{r.f()}}}])&&Bv(e.prototype,n),r&&Bv(e,r),t}();function Lv(t,e,n,r){var o,i,a,c,u=t.model,s=u.document,l=r.start,f=Mv(r.getWalker({shallow:!0}));try{for(f.s();!(c=f.n()).done;){var h=c.value;a=h.item.getAttribute(e),o&&i!=a&&(i!=n&&p(),l=o),o=h.nextPosition,i=a}}catch(t){f.e(t)}finally{f.f()}function p(){var r=new Nh(l,o),a=r.root.document?s.version:null,c=new fm(r,e,i,n,a);t.batch.addOperation(c),u.applyOperation(c)}o instanceof Ah&&o!=l&&i!=n&&p()}function Fv(t,e,n,r){var o,i,a=t.model,c=a.document,u=r.getAttribute(e);if(u!=n){if(r.root===r){var s=r.document?c.version:null;i=new uv(r,e,u,n,s)}else{var l=(o=new Nh(Ah._createBefore(r),t.createPositionAfter(r))).root.document?c.version:null;i=new fm(o,e,u,n,l)}t.batch.addOperation(i),a.applyOperation(i)}}function Vv(t,e,n,r,o){var i=t.model,a=i.document,c=new $m(e,n,r,i.markers,o,a.version);t.batch.addOperation(c),i.applyOperation(c)}function qv(t,e,n,r){var o;if(t.root.document){var i=r.document,a=new Ah(i.graveyard,[0]);o=new Pm(t,e,a,i.version)}else o=new gm(t,e);n.addOperation(o),r.applyOperation(o)}function Uv(t,e){return t===e||t instanceof Cv&&e instanceof Cv}function Hv(t){return function(t){if(Array.isArray(t))return Kv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Gv(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Gv(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $v(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Gv(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Gv(t,e){if(t){if("string"==typeof t)return Kv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kv(t,e):void 0}}function Kv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Jv=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._markerCollection=e,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}var e,n,r;return e=t,(n=[{key:"refreshItem",value:function(t){if(!this._isInInsertedElement(t.parent)){this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);var e,n=Nh._createOn(t),r=$v(this._markerCollection.getMarkersIntersectingRange(n));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=o.getRange();this.bufferMarkerChange(o.name,i,i,o.affectsData)}}catch(t){r.e(t)}finally{r.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var e,n=$v(t.range.getItems({shallow:!0}));try{for(n.s();!(e=n.n()).done;){var r=e.value;this._isInInsertedElement(r.parent)||this._markAttribute(r)}}catch(t){n.e(t)}finally{n.f()}break;case"remove":case"move":case"reinsert":if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;var o=this._isInInsertedElement(t.sourcePosition.parent),i=this._isInInsertedElement(t.targetPosition.parent);o||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),i||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break;case"rename":if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);var a,c=Nh._createFromPositionAndShift(t.position,1),u=$v(this._markerCollection.getMarkersIntersectingRange(c));try{for(u.s();!(a=u.n()).done;){var s=a.value,l=s.getRange();this.bufferMarkerChange(s.name,l,l,s.affectsData)}}catch(t){u.e(t)}finally{u.f()}break;case"split":var f=t.splitPosition.parent;this._isInInsertedElement(f)||this._markRemove(f,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break;case"merge":var h=t.sourcePosition.parent;this._isInInsertedElement(h.parent)||this._markRemove(h.parent,h.startOffset,1);var p=t.graveyardPosition.parent;this._markInsert(p,t.graveyardPosition.offset,1);var d=t.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,t.targetPosition.offset,h.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(t,e,n,r){var o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=r,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:r})}},{key:"getMarkersToRemove",value:function(){var t,e=[],n=$v(this._changedMarkers);try{for(n.s();!(t=n.n()).done;){var r=Wv(t.value,2),o=r[0],i=r[1];null!=i.oldRange&&e.push({name:o,range:i.oldRange})}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getMarkersToAdd",value:function(){var t,e=[],n=$v(this._changedMarkers);try{for(n.s();!(t=n.n()).done;){var r=Wv(t.value,2),o=r[0],i=r[1];null!=i.newRange&&e.push({name:o,range:i.newRange})}}catch(t){n.e(t)}finally{n.f()}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(t){return{name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}})}},{key:"hasDataChanges",value:function(){var t,e=$v(this._changedMarkers);try{for(e.s();!(t=e.n()).done;)if(Wv(t.value,2)[1].affectsData)return!0}catch(t){e.e(t)}finally{e.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var e,n=[],r=$v(this._changesInElement.keys());try{for(r.s();!(e=r.n()).done;){var o,i=e.value,a=this._changesInElement.get(i).sort(function(t,e){return t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1}),c=this._elementSnapshots.get(i),u=Xv(i.getChildren()),s=Zv(c.length,a),l=0,f=0,h=$v(s);try{for(h.s();!(o=h.n()).done;){var p=o.value;if("i"===p)n.push(this._getInsertDiff(i,l,u[l].name)),l++;else if("r"===p)n.push(this._getRemoveDiff(i,l,c[f].name)),f++;else if("a"===p){var d,y=u[l].attributes,m=c[f].attributes,v=void 0;if("$text"==u[l].name)v=new Nh(Ah._createAt(i,l),Ah._createAt(i,l+1));else{var b=i.offsetToIndex(l);v=new Nh(Ah._createAt(i,l),Ah._createAt(i.getChild(b),0))}(d=n).push.apply(d,Hv(this._getAttributesDiff(v,m,y))),l++,f++}else l++,f++}}catch(t){h.e(t)}finally{h.f()}}}catch(t){r.e(t)}finally{r.f()}n.sort(function(t,e){return t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1});for(var g=1,w=0;g<n.length;g++){var k=n[w],_=n[g],S="remove"==k.type&&"remove"==_.type&&"$text"==k.name&&"$text"==_.name&&k.position.isEqual(_.position),x="insert"==k.type&&"insert"==_.type&&"$text"==k.name&&"$text"==_.name&&k.position.parent==_.position.parent&&k.position.offset+k.length==_.position.offset,O="attribute"==k.type&&"attribute"==_.type&&k.position.parent==_.position.parent&&k.range.isFlat&&_.range.isFlat&&k.position.offset+k.length==_.position.offset&&k.attributeKey==_.attributeKey&&k.attributeOldValue==_.attributeOldValue&&k.attributeNewValue==_.attributeNewValue;S||x||O?(k.length++,O&&(k.range.end=k.range.end.getShiftedBy(1)),n[g]=null):w=g}var A,P=$v(n=n.filter(function(t){return t}));try{for(P.s();!(A=P.n()).done;){var E=A.value;delete E.changeCount,"attribute"==E.type&&(delete E.position,delete E.length)}}catch(t){P.e(t)}finally{P.f()}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.filter(Qv),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(t,e,n){var r={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r)}},{key:"_markRemove",value:function(t,e,n){var r={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,r),this._removeAllNestedChanges(t,e,n)}},{key:"_markAttribute",value:function(t){var e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}},{key:"_markChange",value:function(t,e){this._makeSnapshot(t);var n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(var r=0;r<n.length;r++)n[r].howMany<1&&(n.splice(r,1),r--)}},{key:"_getChangesForElement",value:function(t){var e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}},{key:"_makeSnapshot",value:function(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Xv(t.getChildren()))}},{key:"_handleChange",value:function(t,e){t.nodesToHandle=t.howMany;var n,r=$v(e);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=t.offset+t.howMany,a=o.offset+o.howMany;if("insert"==t.type&&("insert"==o.type&&(t.offset<=o.offset?o.offset+=t.howMany:t.offset<a&&(o.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==o.type&&t.offset<o.offset&&(o.offset+=t.howMany),"attribute"==o.type))if(t.offset<=o.offset)o.offset+=t.howMany;else if(t.offset<a){var c=o.howMany;o.howMany=t.offset-o.offset,e.unshift({type:"attribute",offset:i,howMany:c-o.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==o.type)if(i<=o.offset)o.offset-=t.howMany;else if(i<=a)if(t.offset<o.offset){var u=i-o.offset;o.offset=t.offset,o.howMany-=u,t.nodesToHandle-=u}else o.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=o.offset)t.nodesToHandle-=o.howMany,o.howMany=0;else if(t.offset<a){var s=a-t.offset;o.howMany-=s,t.nodesToHandle-=s}if("remove"==o.type&&(i<=o.offset?o.offset-=t.howMany:t.offset<o.offset&&(t.nodesToHandle+=o.howMany,o.howMany=0)),"attribute"==o.type)if(i<=o.offset)o.offset-=t.howMany;else if(t.offset<o.offset){var l=i-o.offset;o.offset=t.offset,o.howMany-=l}else if(t.offset<a)if(i<=a){var f=o.howMany;o.howMany=t.offset-o.offset;var h=f-o.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:h,count:this._changeCount++})}else o.howMany-=a-t.offset}if("attribute"==t.type){if("insert"==o.type)if(t.offset<o.offset&&i>o.offset){if(i>a){var p={type:"attribute",offset:a,howMany:i-a,count:this._changeCount++};this._handleChange(p,e),e.push(p)}t.nodesToHandle=o.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=o.offset&&t.offset<a&&(i>a?(t.nodesToHandle=i-a,t.offset=a):t.nodesToHandle=0);if("remove"==o.type&&t.offset<o.offset&&i>o.offset){var d={type:"attribute",offset:o.offset,howMany:i-o.offset,count:this._changeCount++};this._handleChange(d,e),e.push(d),t.nodesToHandle=o.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==o.type&&(t.offset>=o.offset&&i<=a?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=o.offset&&i>=a&&(o.howMany=0))}}}catch(t){r.e(t)}finally{r.f()}t.howMany=t.nodesToHandle,delete t.nodesToHandle}},{key:"_getInsertDiff",value:function(t,e,n){return{type:"insert",position:Ah._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(t,e,n){return{type:"remove",position:Ah._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(t,e,n){var r=[];n=new Map(n);var o,i=$v(e);try{for(i.s();!(o=i.n()).done;){var a=Wv(o.value,2),c=a[0],u=a[1],s=n.has(c)?n.get(c):null;s!==u&&r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:c,attributeOldValue:u,attributeNewValue:s,changeCount:this._changeCount++}),n.delete(c)}}catch(t){i.e(t)}finally{i.f()}var l,f=$v(n);try{for(f.s();!(l=f.n()).done;){var h=Wv(l.value,2),p=h[0],d=h[1];r.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:p,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++})}}catch(t){f.e(t)}finally{f.f()}return r}},{key:"_isInInsertedElement",value:function(t){var e=t.parent;if(!e)return!1;var n=this._changesInElement.get(e),r=t.startOffset;if(n){var o,i=$v(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if("insert"==a.type&&r>=a.offset&&r<a.offset+a.howMany)return!0}}catch(t){i.e(t)}finally{i.f()}}return this._isInInsertedElement(e)}},{key:"_removeAllNestedChanges",value:function(t,e,n){var r,o=$v(new Nh(Ah._createAt(t,e),Ah._createAt(t,e+n)).getItems({shallow:!0}));try{for(o.s();!(r=o.n()).done;){var i=r.value;i.is("element")&&(this._elementSnapshots.delete(i),this._changesInElement.delete(i),this._removeAllNestedChanges(i,0,i.maxOffset))}}catch(t){o.e(t)}finally{o.f()}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}])&&Yv(e.prototype,n),r&&Yv(e,r),t}();function Xv(t){var e,n=[],r=$v(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(o.is("$text"))for(var i=0;i<o.data.length;i++)n.push({name:"$text",attributes:new Map(o.getAttributes())});else n.push({name:o.name,attributes:new Map(o.getAttributes())})}}catch(t){r.e(t)}finally{r.f()}return n}function Zv(t,e){var n,r=[],o=0,i=0,a=$v(e);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c.offset>o){for(var u=0;u<c.offset-o;u++)r.push("e");i+=c.offset-o}if("insert"==c.type){for(var s=0;s<c.howMany;s++)r.push("i");o=c.offset+c.howMany}else if("remove"==c.type){for(var l=0;l<c.howMany;l++)r.push("r");o=c.offset,i+=c.howMany}else r.push.apply(r,Hv("a".repeat(c.howMany).split(""))),o=c.offset+c.howMany,i+=c.howMany}}catch(t){a.e(t)}finally{a.f()}if(i<t)for(var f=0;f<t-i-o;f++)r.push("e");return r}function Qv(t){var e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}function tb(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function eb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var rb=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}var e,n,r;return e=t,(n=[{key:"addOperation",value:function(t){this._operations.includes(t)||this._operations.push(t)}},{key:"getOperations",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NEGATIVE_INFINITY,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=[],o=tb(this._operations);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.baseVersion>=e&&i.baseVersion<n&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"getOperation",value:function(t){var e,n=tb(this._operations);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.baseVersion==t)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"setOperationAsUndone",value:function(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}},{key:"isUndoingOperation",value:function(t){return this._undoPairs.has(t)}},{key:"isUndoneOperation",value:function(t){return this._undoneOperations.has(t)}},{key:"getUndoneOperation",value:function(t){return this._undoPairs.get(t)}}])&&nb(e.prototype,n),r&&nb(e,r),t}();function ob(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function ib(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}function ab(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cb(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function cb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ub(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var sb=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.version=0,this.history=new rb(this),this.selection=new Rp(this),this.roots=new Dr({idProperty:"rootName"}),this.differ=new Jv(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(e,"applyOperation",function(t,e){var r=e[0];if(r.isDocumentOperation&&r.baseVersion!==n.version)throw new u.a("model-document-applyoperation-wrong-version",n,{operation:r})},{priority:"highest"}),this.listenTo(e,"applyOperation",function(t,e){var r=e[0];r.isDocumentOperation&&n.differ.bufferOperation(r)},{priority:"high"}),this.listenTo(e,"applyOperation",function(t,e){var r=e[0];r.isDocumentOperation&&(n.version++,n.history.addOperation(r))},{priority:"low"}),this.listenTo(this.selection,"change",function(){n._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",function(t,e,r,o){n.differ.bufferMarkerChange(e.name,r,o,e.affectsData),null===r&&e.on("change",function(t,r){n.differ.bufferMarkerChange(e.name,r,e.getRange(),e.affectsData)})})}var e,n,r;return e=t,(n=[{key:"createRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(e))throw new u.a("model-document-createroot-name-exists",this,{name:e});var n=new Cv(this,t,e);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(t)}},{key:"getRootNames",value:function(){return Array.from(this.roots,function(t){return t.rootName}).filter(function(t){return"$graveyard"!=t})}},{key:"registerPostFixer",value:function(t){this._postFixers.add(t)}},{key:"toJSON",value:function(){var t=co(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}},{key:"_handleChangeBlock",value:function(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var t,e=ab(this.roots);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n!==this.graveyard)return n}}catch(t){e.e(t)}finally{e.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var t=this._getDefaultRoot(),e=this.model,n=e.schema,r=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(r)||e.createRange(r)}},{key:"_validateSelectionRange",value:function(t){return lb(t.start)&&lb(t.end)}},{key:"_callPostFixers",value:function(t){var e=!1;do{var n,r=ab(this._postFixers);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this.selection.refresh(),e=o(t))break}}catch(t){r.e(t)}finally{r.f()}}while(e)}},{key:"graveyard",get:function(){return this.getRoot("$graveyard")}}])&&ub(e.prototype,n),r&&ub(e,r),t}();function lb(t){var e=t.textNode;if(e){var n=e.data,r=t.offset-e.startOffset;return!ob(n,r)&&!ib(n,r)}return!0}function fb(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hb(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function hb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yb(t,e,n){return e&&db(t.prototype,e),n&&db(t,n),t}pe(sb,m);var mb=function(){function t(){pb(this,t),this._markers=new Map}return yb(t,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(t){return this._markers.has(t)}},{key:"get",value:function(t){return this._markers.get(t)||null}},{key:"_set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t instanceof vb?t.name:t;if(o.includes(","))throw new u.a("markercollection-incorrect-marker-name",this);var i=this._markers.get(o);if(i){var a=i.getRange(),c=!1;return a.isEqual(e)||(i._attachLiveRange(hp.fromRange(e)),c=!0),n!=i.managedUsingOperations&&(i._managedUsingOperations=n,c=!0),"boolean"==typeof r&&r!=i.affectsData&&(i._affectsData=r,c=!0),c&&this.fire("update:"+o,i,a,e),i}var s=hp.fromRange(e),l=new vb(o,s,n,r);return this._markers.set(o,l),this.fire("update:"+o,l,null,e),l}},{key:"_remove",value:function(t){var e=t instanceof vb?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(t){var e=t instanceof vb?t.name:t,n=this._markers.get(e);if(!n)throw new u.a("markercollection-refresh-marker-not-exists",this);var r=n.getRange();this.fire("update:"+e,n,r,r,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:regeneratorRuntime.mark(function t(e){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=fb(this),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(!(o=r.value).getRange().containsPosition(e)){t.next=8;break}return t.next=8,o;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[1,12,15,18]])})},{key:"getMarkersIntersectingRange",value:regeneratorRuntime.mark(function t(e){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=fb(this),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(null===(o=r.value).getRange().getIntersection(e)){t.next=8;break}return t.next=8,o;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[1,12,15,18]])})},{key:"destroy",value:function(){var t,e=fb(this._markers.values());try{for(e.s();!(t=e.n()).done;){var n=t.value;this._destroyMarker(n)}}catch(t){e.e(t)}finally{e.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:regeneratorRuntime.mark(function t(e){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=fb(this._markers.values()),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=10;break}if(!(o=r.value).name.startsWith(e+":")){t.next=8;break}return t.next=8,o;case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),n.e(t.t0);case 15:return t.prev=15,n.f(),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[1,12,15,18]])})},{key:"_destroyMarker",value:function(t){t.stopListening(),t._detachLiveRange()}}]),t}();pe(mb,m);var vb=function(){function t(e,n,r,o){pb(this,t),this.name=e,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=r,this._affectsData=o}return yb(t,[{key:"getStart",value:function(){if(!this._liveRange)throw new u.a("marker-destroyed",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new u.a("marker-destroyed",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new u.a("marker-destroyed",this);return this._liveRange.toRange()}},{key:"is",value:function(t){return"marker"===t||"model:marker"===t}},{key:"_attachLiveRange",value:function(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new u.a("marker-destroyed",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new u.a("marker-destroyed",this);return this._affectsData}}]),t}();function bb(t){return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kb(t,e){return(kb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=xb(t);if(e){var o=xb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sb(this,n)}}function Sb(t,e){return!e||"object"!==bb(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xb(t){return(xb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(vb,m);var Ob=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kb(t,e)}(i,t);var e,n,r,o=_b(i);function i(){return gb(this,i),o.apply(this,arguments)}return e=i,r=[{key:"className",get:function(){return"NoOperation"}}],(n=[{key:"clone",value:function(){return new i(this.baseVersion)}},{key:"getReversed",value:function(){return new i(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}])&&wb(e.prototype,n),r&&wb(e,r),i}(Vy);function Ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Pb={};Pb[fm.className]=fm,Pb[zm.className]=zm,Pb[$m.className]=$m,Pb[Pm.className]=Pm,Pb[Ob.className]=Ob,Pb[Vy.className]=Vy,Pb[tv.className]=tv,Pb[uv.className]=uv,Pb[xv.className]=xv,Pb[mv.className]=mv;var Eb=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"fromJSON",value:function(t,e){return Pb[t.__className].fromJSON(t,e)}}],(n=null)&&Ab(e.prototype,n),r&&Ab(e,r),t}();function Rb(t){return(Rb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cb(t,e){return(Cb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ib(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Nb(t);if(e){var o=Nb(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mb(this,n)}}function Mb(t,e){return!e||"object"!==Rb(e)&&"function"!=typeof e?Db(t):e}function Db(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nb(t){return(Nb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cb(t,e)}(i,t);var e,n,r,o=Ib(i);function i(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(Tb(this,i),!(n=o.call(this,t,e,r)).root.is("rootElement"))throw new u.a("model-liveposition-root-not-rootelement",t);return zb.call(Db(n)),n}return e=i,r=[{key:"fromPosition",value:function(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}],(n=[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return"livePosition"===t||"model:livePosition"===t||"position"==t||"model:position"===t}},{key:"toPosition",value:function(){return new Ah(this.root,this.path.slice(),this.stickiness)}}])&&jb(e.prototype,n),r&&jb(e,r),i}(Ah);function zb(){var t=this;this.listenTo(this.root.document.model,"applyOperation",function(e,n){var r=n[0];r.isDocumentOperation&&Lb.call(t,r)},{priority:"low"})}function Lb(t){var e=this.getTransformedByOperation(t);if(!this.isEqual(e)){var n=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",n)}}function Fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Bb,m);var Vb=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.writer=n,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=n.createDocumentFragment(),this._documentFragmentPosition=n.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}var e,n,r;return e=t,(n=[{key:"handleNodes",value:function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e];this._handleNode(r)}this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"_updateLastNodeFromAutoParagraph",value:function(t){var e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new u.a("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?Nh._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new Nh(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(t){if(this.schema.isObject(t))this._handleObject(t);else{var e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t))?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}}},{key:"_insertPartialFragment",value:function(){if(!this._documentFragment.isEmpty){var t=Bb.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}}},{key:"_handleObject",value:function(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}},{key:"_handleDisallowedNode",value:function(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}},{key:"_appendToFragment",value:function(t){if(!this.schema.checkChild(this.position,t))throw new u.a("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}},{key:"_setAffectedBoundaries",value:function(t){this._affectedStart||(this._affectedStart=Bb.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Bb.fromPosition(t,"toNext"))}},{key:"_mergeOnLeft",value:function(){var t=this._firstNode;if(t instanceof vh&&this._canMergeLeft(t)){var e=Bb._createBefore(t);e.stickiness="toNext";var n=Bb.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Bb._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Bb._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_mergeOnRight",value:function(){var t=this._lastNode;if(t instanceof vh&&this._canMergeRight(t)){var e=Bb._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new u.a("insertcontent-invalid-insertion-position",this);this.position=Ah._createAt(e.nodeBefore,"end");var n=Bb.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Bb._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Bb._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}}},{key:"_canMergeLeft",value:function(t){var e=t.previousSibling;return e instanceof vh&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}},{key:"_canMergeRight",value:function(t){var e=t.nextSibling;return e instanceof vh&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}},{key:"_tryAutoparagraphing",value:function(t){var e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}},{key:"_checkAndAutoParagraphToAllowedPosition",value:function(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();var e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}},{key:"_checkAndSplitToAllowedPosition",value:function(t){var e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}},{key:"_getAllowedIn",value:function(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}])&&Fb(e.prototype,n),r&&Fb(e,r),t}();function qb(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Hb(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ub(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Hb(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hb(t,e){if(t){if("string"==typeof t)return Wb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wb(t,e):void 0}}function Wb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $b(t){var e=t.root.document.model,n=t.start,r=t.end;if(e.hasContent(t,{ignoreMarkers:!0})){var o=function(t){var e,n=t.parent,r=n.root.document.model.schema,o=qb(n.getAncestors({parentFirst:!0,includeSelf:!0}));try{for(o.s();!(e=o.n()).done;){var i=e.value;if(r.isLimit(i))return null;if(r.isBlock(i))return i}}catch(t){o.e(t)}finally{o.f()}}(r);if(o&&r.isTouching(e.createPositionAt(o,0))){var i=e.createSelection(t);e.modifySelection(i,{direction:"backward"});var a=i.getLastPosition(),c=e.createRange(a,r);e.hasContent(c,{ignoreMarkers:!0})||(r=a)}}return[Bb.fromPosition(n,"toPrevious"),Bb.fromPosition(r,"toNext")]}function Gb(t,e,n){var r=t.model;if(Kb(t.model.schema,e,n)){var o=Ub(function(t,e){var n=t.getAncestors(),r=e.getAncestors(),o=0;for(;n[o]&&n[o]==r[o];)o++;return[n[o],r[o]]}(e,n),2),i=o[0],a=o[1];i&&a&&(!r.hasContent(i,{ignoreMarkers:!0})&&r.hasContent(a,{ignoreMarkers:!0})?function t(e,n,r,o){var i=n.parent,a=r.parent;if(i==o||a==o)return;n=e.createPositionAfter(i),(r=e.createPositionBefore(a)).isEqual(n)||e.insert(i,r);for(;n.parent.isEmpty;){var c=n.parent;n=e.createPositionBefore(c),e.remove(c)}if(r=e.createPositionBefore(a),function(t,e){var n=e.nodeBefore,r=e.nodeAfter;n.name!=r.name&&t.rename(n,r.name);t.clearAttributes(n),t.setAttributes(Object.fromEntries(r.getAttributes()),n),t.merge(e)}(e,r),!Kb(e.model.schema,n,r))return;t(e,n,r,o)}(t,e,n,i.parent):function t(e,n,r,o){var i=n.parent,a=r.parent;if(i==o||a==o)return;n=e.createPositionAfter(i),(r=e.createPositionBefore(a)).isEqual(n)||e.insert(a,n);e.merge(n);for(;r.parent.isEmpty;){var c=r.parent;r=e.createPositionBefore(c),e.remove(c)}if(!Kb(e.model.schema,n,r))return;t(e,n,r,o)}(t,e,n,i.parent))}}function Kb(t,e,n){var r=e.parent,o=n.parent;return r!=o&&(!t.isLimit(r)&&!t.isLimit(o)&&function(t,e,n){var r,o=qb(new Nh(t,e).getWalker());try{for(o.s();!(r=o.n()).done;){var i=r.value;if(n.isLimit(i.item))return!1}}catch(t){o.e(t)}finally{o.f()}return!0}(e,n,t))}function Yb(t,e){var n=t.checkChild(e,"$text"),r=t.checkChild(e,"paragraph");return!n&&r}function Jb(t,e,n){var r=t.createElement("paragraph");t.insert(r,e),Qb(t,n,t.createPositionAt(r,0))}function Xb(t,e){var n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),Jb(t,t.createPositionAt(n,0),e)}function Zb(t,e){var n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;var r=e.getFirstRange();return r.start.parent!=r.end.parent&&t.checkChild(n,"paragraph")}function Qb(t,e,n){e instanceof Rp?t.setSelection(n):e.setTo(n)}function tg(t){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eg(t,e){var n=t.isForward,r=t.walker,o=t.unit,i=t.schema,a=e.type,c=e.item,u=e.nextPosition;if("text"==a)return"word"===t.unit?function(t,e){var n=t.position.textNode;if(n)for(var r=t.position.offset-n.startOffset;!rg(n.data,r,e)&&!og(n,r,e);){t.next();var o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is("$text")){var i=o.data.charAt(e?0:o.data.length-1);' ,.?!:;"-()'.includes(i)||(t.next(),n=t.position.textNode)}r=t.position.offset-n.startOffset}return t.position}(r,n):function(t,e){var n=t.position.textNode;if(n)for(var r=n.data,o=t.position.offset-n.startOffset;ob(r,o)||"character"==e&&ib(r,o);)t.next(),o=t.position.offset-n.startOffset;return t.position}(r,o);if(a==(n?"elementStart":"elementEnd")){if(i.isSelectable(c))return Ah._createAt(c,n?"after":"before");if(i.checkChild(u,"$text"))return u}else{if(i.isLimit(c))return void r.skip(function(){return!0});if(i.checkChild(u,"$text"))return u}}function ng(t,e){var n=t.root,r=Ah._createAt(n,e?"end":0);return e?new Nh(t,r):new Nh(r,t)}function rg(t,e,n){var r=e+(n?0:-1);return' ,.?!:;"-()'.includes(t.charAt(r))}function og(t,e,n){return e===(n?t.endOffset:0)}function ig(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ag(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ag(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ag(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(t,e){var n=[];Array.from(t.getItems({direction:"backward"})).map(function(t){return e.createRangeOn(t)}).filter(function(e){return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}).forEach(function(t){n.push(t.start.parent),e.remove(t)}),n.forEach(function(t){for(var n=t;n.parent&&n.isEmpty;){var r=e.createRangeOn(n);n=n.parent,e.remove(r)}})}function ug(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return sg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sg(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function sg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lg(t){t.document.registerPostFixer(function(e){return function(t,e){var n,r=e.document.selection,o=e.schema,i=[],a=!1,c=ug(r.getRanges());try{for(c.s();!(n=c.n()).done;){var u=n.value,s=fg(u,o);s&&!s.isEqual(u)?(i.push(s),a=!0):i.push(u)}}catch(t){c.e(t)}finally{c.f()}a&&t.setSelection(function(t){var e=[];e.push(t.shift());var n,r=ug(t);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=e.pop();if(o.isEqual(i))e.push(i);else if(o.isIntersecting(i)){var a=i.start.isAfter(o.start)?o.start:i.start,c=i.end.isAfter(o.end)?i.end:o.end,u=new Nh(a,c);e.push(u)}else e.push(i),e.push(o)}}catch(t){r.e(t)}finally{r.f()}return e}(i),{backward:r.isBackward})}(e,t)})}function fg(t,e){return t.isCollapsed?function(t,e){var n=t.start,r=e.getNearestSelectionRange(n);if(!r)return null;if(!r.isCollapsed)return r;var o=r.start;if(n.isEqual(o))return null;return new Nh(o)}(t,e):function(t,e){var n=t.start,r=t.end,o=e.checkChild(n,"$text"),i=e.checkChild(r,"$text"),a=e.getLimitElement(n),c=e.getLimitElement(r);if(a===c){if(o&&i)return null;if(function(t,e,n){var r=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return r||o}(n,r,e)){var u=n.nodeAfter&&e.isSelectable(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),s=r.nodeBefore&&e.isSelectable(r.nodeBefore)?null:e.getNearestSelectionRange(r,"backward"),l=u?u.start:n,f=s?s.end:r;return new Nh(l,f)}}var h=a&&!a.is("rootElement"),p=c&&!c.is("rootElement");if(h||p){var d=n.nodeAfter&&r.nodeBefore&&n.nodeAfter.parent===r.nodeBefore.parent,y=h&&(!d||!pg(n.nodeAfter,e)),m=p&&(!d||!pg(r.nodeBefore,e)),v=n,b=r;return y&&(v=Ah._createBefore(hg(a,e))),m&&(b=Ah._createAfter(hg(c,e))),new Nh(v,b)}return null}(t,e)}function hg(t,e){for(var n=t,r=n;e.isLimit(r)&&r.parent;)n=r,r=r.parent;return n}function pg(t,e){return t&&e.isSelectable(t)}function dg(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return yg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yg(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function yg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var vg=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.markers=new mb,this.document=new sb(this),this.schema=new $d,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(t){return e.decorate(t)}),this.on("applyOperation",function(t,e){e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(function(t,e){if("$marker"===e.name)return!0}),lg(this),this.document.registerPostFixer(ed)}var e,n,r;return e=t,(n=[{key:"change",value:function(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ly,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){u.a.rethrowUnexpectedError(t,this)}}},{key:"enqueueChange",value:function(t,e){try{"string"==typeof t?t=new Ly(t):"function"==typeof t&&(e=t,t=new Ly),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){u.a.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(t){t._execute()}},{key:"insertContent",value:function(t,e,n){return function(t,e,n,r){return t.change(function(o){var i;(i=n?n instanceof tp||n instanceof Rp?n:o.createSelection(n,r):t.document.selection).isCollapsed||t.deleteContent(i,{doNotAutoparagraph:!0});var a,c=new Vb(t,o,i.anchor);a=e.is("documentFragment")?e.getChildren():[e],c.handleNodes(a);var u=c.getSelectionRange();u&&(i instanceof Rp?o.setSelection(u):i.setTo(u));var s=c.getAffectedRange()||t.createRange(i.anchor);return c.destroy(),s})}(this,t,e,n)}},{key:"deleteContent",value:function(t,e){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.isCollapsed){var r=e.getFirstRange();if("$graveyard"!=r.root.rootName){var o=t.schema;t.change(function(t){if(n.doNotResetEntireContent||!Zb(o,e)){var i=Ub($b(r),2),a=i[0],c=i[1];a.isTouching(c)||t.remove(t.createRange(a,c)),n.leaveUnmerged||(Gb(t,a,c),o.removeDisallowedAttributes(a.parent.getChildren(),t)),Qb(t,e,a),!n.doNotAutoparagraph&&Yb(o,a)&&Jb(t,a,e),a.detach(),c.detach()}else Xb(t,e)})}}}(this,t,e)}},{key:"modifySelection",value:function(t,e){!function(t,e){for(var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.schema,i="backward"!=r.direction,a=r.unit?r.unit:"character",c=e.focus,u=new wh({boundaries:ng(c,i),singleCharacters:!0,direction:i?"forward":"backward"}),s={walker:u,schema:o,isForward:i,unit:a},l=function(){if(n.done)return{v:void 0};var r=eg(s,n.value);return r?(e instanceof Rp?t.change(function(t){t.setSelectionFocus(r)}):e.setFocus(r),{v:void 0}):void 0};n=u.next();){var f=l();if("object"===tg(f))return f.v}}(this,t,e)}},{key:"getSelectedContent",value:function(t){return function(t,e){return t.change(function(t){var n=t.createDocumentFragment(),r=e.getFirstRange();if(!r||r.isCollapsed)return n;var o,i,a=r.start.root,c=r.start.getCommonPath(r.end),u=a.getNodeByPath(c),s=(o=r.start.parent==r.end.parent?r:t.createRange(t.createPositionAt(u,r.start.path[c.length]),t.createPositionAt(u,r.end.path[c.length]+1))).end.offset-o.start.offset,l=ig(o.getItems({shallow:!0}));try{for(l.s();!(i=l.n()).done;){var f=i.value;f.is("$textProxy")?t.appendText(f.data,f.getAttributes(),n):t.append(t.cloneElement(f,!0),n)}}catch(t){l.e(t)}finally{l.f()}if(o!=r){var h=r._getTransformedByMove(o.start,t.createPositionAt(n,0),s)[0],p=t.createRange(t.createPositionAt(n,0),h.start);cg(t.createRange(h.end,t.createPositionAt(n,"end")),t),cg(p,t)}return n})}(this,t)}},{key:"hasContent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t instanceof vh?Nh._createIn(t):t;if(n.isCollapsed)return!1;var r=e.ignoreWhitespaces,o=void 0!==r&&r,i=e.ignoreMarkers,a=void 0!==i&&i;if(!a){var c,u=dg(this.markers.getMarkersIntersectingRange(n));try{for(u.s();!(c=u.n()).done;){var s=c.value;if(s.affectsData)return!0}}catch(t){u.e(t)}finally{u.f()}}var l,f=dg(n.getItems());try{for(f.s();!(l=f.n()).done;){var h=l.value;if(this.schema.isContent(h)){if(!h.is("$textProxy"))return!0;if(!o)return!0;if(-1!==h.data.search(/\S/))return!0}}}catch(t){f.e(t)}finally{f.f()}return!1}},{key:"createPositionFromPath",value:function(t,e,n){return new Ah(t,e,n)}},{key:"createPositionAt",value:function(t,e){return Ah._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return Ah._createAfter(t)}},{key:"createPositionBefore",value:function(t){return Ah._createBefore(t)}},{key:"createRange",value:function(t,e){return new Nh(t,e)}},{key:"createRangeIn",value:function(t){return Nh._createIn(t)}},{key:"createRangeOn",value:function(t){return Nh._createOn(t)}},{key:"createSelection",value:function(t,e,n){return new tp(t,e,n)}},{key:"createBatch",value:function(t){return new Ly(t)}},{key:"createOperationFromJSON",value:function(t){return Eb.fromJSON(t,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var e=this._pendingChanges[0].batch;this._currentWriter=new zv(this,e);var n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}])&&mg(e.prototype,n),r&&mg(e,r),t}();function bg(t){return(bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wg(t,e,n){return(wg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xg(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kg(t,e){return(kg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=xg(t);if(e){var o=xg(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sg(this,n)}}function Sg(t,e){return!e||"object"!==bg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xg(t){return(xg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(vg,oe);var Og=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kg(t,e)}(i,t);var e,n,r,o=_g(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).editor=t,e}return e=i,(n=[{key:"set",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e){var o=e;e=function(t,e){n.editor.execute(o),e()}}wg(xg(i.prototype),"set",this).call(this,t,e,r)}}])&&gg(e.prototype,n),r&&gg(e,r),i}(wf);function Ag(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Eg=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ag(this,t),this._context=n.context||new ro({language:n.language}),this._context._addEditor(this,!n.context);var r=Array.from(this.constructor.builtinPlugins||[]);this.config=new Or(n,this.constructor.defaultConfig),this.config.define("plugins",r),this.config.define(this._context._getEditorConfig()),this.plugins=new Ur(this,r,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Ad,this.set("state","initializing"),this.once("ready",function(){return e.state="ready"},{priority:"high"}),this.once("destroy",function(){return e.state="destroyed"},{priority:"high"}),this.set("isReadOnly",!1),this.model=new vg;var o=new wi;this.data=new Oy(this.model,o),this.editing=new _d(this.model,o),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Cy([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Og(this),this.keystrokes.listenTo(this.editing.view.document)}var e,n,r;return e=t,(n=[{key:"initPlugins",value:function(){var t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],r=t.get("extraPlugins")||[],o=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(r),n,o)}},{key:"destroy",value:function(){var t=this,e=Promise.resolve();return"initializing"==this.state&&(e=new Promise(function(e){return t.once("ready",e)})),e.then(function(){t.fire("destroy"),t.stopListening(),t.commands.destroy()}).then(function(){return t.plugins.destroy()}).then(function(){t.model.destroy(),t.data.destroy(),t.editing.destroy(),t.keystrokes.destroy()}).then(function(){return t._context._removeEditor(t)})}},{key:"execute",value:function(){try{var t;return(t=this.commands).execute.apply(t,arguments)}catch(t){u.a.rethrowUnexpectedError(t,this)}}},{key:"focus",value:function(){this.editing.view.focus()}}])&&Pg(e.prototype,n),r&&Pg(e,r),t}();function Rg(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tg(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Tg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}pe(Eg,oe);var Cg=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this._components=new Map}var e,n,r;return e=t,(n=[{key:"names",value:regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=Rg(this._components.values()),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,t.next=7,r.originalName;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[1,11,14,17]])})},{key:"add",value:function(t,e){this._components.set(Ig(t),{callback:e,originalName:t})}},{key:"create",value:function(t){if(!this.has(t))throw new u.a("componentfactory-item-missing",this,{name:t});return this._components.get(Ig(t)).callback(this.editor.locale)}},{key:"has",value:function(t){return this._components.has(Ig(t))}}])&&jg(e.prototype,n),r&&jg(e,r),t}();function Ig(t){return String(t).toLowerCase()}function Mg(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Dg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dg(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ng(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Bg=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.componentFactory=new Cg(e),this.focusTracker=new bf,this._editableElementsMap=new Map,this.listenTo(e.editing.view.document,"layoutChanged",function(){return n.update()})}var e,n,r;return e=t,(n=[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var t,e=Mg(this._editableElementsMap.values());try{for(e.s();!(t=e.n()).done;)t.value.ckeditorInstance=null}catch(t){e.e(t)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(t)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}])&&Ng(e.prototype,n),r&&Ng(e,r),t}();pe(Bg,m);var zg={setData:function(t){this.data.set(t)},getData:function(t){return this.data.get(t)}},Lg={updateSourceElement:function(){if(!this.sourceElement)throw new u.a("editor-missing-sourceelement",this);var t,e;t=this.sourceElement,e=this.data.get(),t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}};function Fg(t){return(Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ug(t,e){return(Ug=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=$g(t);if(e){var o=$g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wg(this,n)}}function Wg(t,e){return!e||"object"!==Fg(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $g(t){return($g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ug(t,e)}(i,t);var e,n,r,o=Hg(i);function i(){return Vg(this,i),o.apply(this,arguments)}return e=i,n=[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Dr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if("string"!=typeof t)throw new u.a("pendingactions-add-invalid-message",this);var e=Object.create(oe);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],r=[{key:"pluginName",get:function(){return"PendingActions"}}],n&&qg(e.prototype,n),r&&qg(e,r),i}(io),Kg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',Yg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',Jg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Xg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',Zg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',Qg='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',tw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',ew='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',nw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',rw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',ow='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',iw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',aw='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';function cw(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return uw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uw(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function uw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sw(t){var e=t.emitter,n=t.activator,r=t.callback,o=t.contextElements;e.listenTo(document,"mousedown",function(t,e){if(n()){var i,a="function"==typeof e.composedPath?e.composedPath():[],c=cw(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;if(u.contains(e.target)||a.includes(u))return}}catch(t){c.e(t)}finally{c.f()}r()}})}function lw(t){return(lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fw(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function hw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yw(t,e){return(yw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=bw(t);if(e){var o=bw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vw(this,n)}}function vw(t,e){return!e||"object"!==lw(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bw(t){return(bw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yw(t,e)}(i,t);var e,n,r,o=mw(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return pw(this,i),(t=o.call(this,e,{idProperty:"viewUid"})).on("add",function(e,n,r){t._renderViewIntoCollectionParent(n,r)}),t.on("remove",function(e,n){n.element&&t._parentElement&&n.element.remove()}),t._parentElement=null,t}return e=i,(n=[{key:"destroy",value:function(){this.map(function(t){return t.destroy()})}},{key:"setParent",value:function(t){this._parentElement=t;var e,n=fw(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._renderViewIntoCollectionParent(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"delegate",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length||!ww(n))throw new u.a("ui-viewcollection-delegate-wrong-events",this);return{to:function(e){var r,o=fw(t);try{for(o.s();!(r=o.n()).done;){var i,a=r.value,c=fw(n);try{for(c.s();!(i=c.n()).done;){var u=i.value;a.delegate(u).to(e)}}catch(t){c.e(t)}finally{c.f()}}}catch(t){o.e(t)}finally{o.f()}t.on("add",function(t,r){var o,i=fw(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.delegate(a).to(e)}}catch(t){i.e(t)}finally{i.f()}}),t.on("remove",function(t,r){var o,i=fw(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;r.stopDelegating(a,e)}}catch(t){i.e(t)}finally{i.f()}})}}}},{key:"_renderViewIntoCollectionParent",value:function(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}])&&dw(e.prototype,n),r&&dw(e,r),i}(Dr);function ww(t){return t.every(function(t){return"string"==typeof t})}n(386);function kw(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var xw=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Dr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(t,n){n.locale=e}),this.decorate("render")}var e,n,r;return e=t,(n=[{key:"createCollection",value:function(t){var e=new gw(t);return this._viewCollections.add(e),e}},{key:"registerChild",value:function(t){Er(t)||(t=[t]);var e,n=kw(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._unboundChildren.add(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"deregisterChild",value:function(t){Er(t)||(t=[t]);var e,n=kw(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this._unboundChildren.remove(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"setTemplate",value:function(t){this.template=new Fw(t)}},{key:"extendTemplate",value:function(t){Fw.extend(this.template,t)}},{key:"render",value:function(){if(this.isRendered)throw new u.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(t){return t.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Fw.bind(this,this)}}])&&Sw(e.prototype,n),r&&Sw(e,r),t}();function Ow(t){return(Ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Aw(t){return function(t){if(Array.isArray(t))return Nw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Dw(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pw(t,e,n){return(Pw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Cw(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Ew(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rw(t,e)}function Rw(t,e){return(Rw=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Cw(t);if(e){var o=Cw(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jw(this,n)}}function jw(t,e){return!e||"object"!==Ow(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cw(t){return(Cw=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Iw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Dw(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mw(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Dw(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Dw(t,e){if(t){if("string"==typeof t)return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nw(t,e):void 0}}function Nw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bw(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lw(t,e,n){return e&&zw(t.prototype,e),n&&zw(t,n),t}pe(xw,rs),pe(xw,oe);var Fw=function(){function t(e){Bw(this,t),Object.assign(this,Jw(Yw(e))),this._isRendered=!1,this._revertData=null}return Lw(t,[{key:"render",value:function(){var t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}},{key:"apply",value:function(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}},{key:"revert",value:function(t){if(!this._revertData)throw new u.a("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}},{key:"getViews",value:regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.children){e.next=23;break}r=Mw(t.children),e.prev=2,r.s();case 4:if((o=r.n()).done){e.next=15;break}if(!ek(i=o.value)){e.next=11;break}return e.next=9,i;case 9:e.next=13;break;case 11:if(!nk(i)){e.next=13;break}return e.delegateYield(n(i),"t0",13);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),r.e(e.t1);case 20:return e.prev=20,r.f(),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[2,17,20,23]])},e=regeneratorRuntime.mark(n),t.delegateYield(n(this),"t0",3);case 3:case"end":return t.stop()}},t,this)})},{key:"_renderNode",value:function(t){if(t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new u.a("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}},{key:"_renderElement",value:function(t){var e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}},{key:"_renderText",value:function(t){var e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Hw(this.text)?this._bindToObservable({schema:this.text,updater:$w(e),data:t}):e.textContent=this.text.join(""),e}},{key:"_renderAttributes",value:function(t){var e,n,r,o;if(this.attributes){var i=t.node,a=t.revertData;for(e in this.attributes)if(r=i.getAttribute(e),n=this.attributes[e],a&&(a.attributes[e]=r),o=A(n[0])&&n[0].ns?n[0].ns:null,Hw(n)){var c=o?n[0].value:n;a&&ok(e)&&c.unshift(r),this._bindToObservable({schema:c,updater:Gw(i,e,o),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(a&&r&&ok(e)&&n.unshift(r),tk(n=n.map(function(t){return t&&t.value||t}).reduce(function(t,e){return t.concat(e)},[]).reduce(Zw,""))||i.setAttributeNS(o,e,n))}}},{key:"_renderStyleAttribute",value:function(t,e){var n=e.node;for(var r in t){var o=t[r];Hw(o)?this._bindToObservable({schema:[o],updater:Kw(n,r),data:e}):n.style[r]=o}}},{key:"_renderElementChildren",value:function(t){var e,n=t.node,r=t.intoFragment?document.createDocumentFragment():n,o=t.isApplying,i=0,a=Mw(this.children);try{for(a.s();!(e=a.n()).done;){var c=e.value;if(rk(c)){if(!o){c.setParent(n);var u,s=Mw(c);try{for(s.s();!(u=s.n()).done;){var l=u.value;r.appendChild(l.element)}}catch(t){s.e(t)}finally{s.f()}}}else if(ek(c))o||(c.isRendered||c.render(),r.appendChild(c.element));else if(Iu(c))r.appendChild(c);else if(o){var f=t.revertData,h={children:[],bindings:[],attributes:{}};f.children.push(h),c._renderNode({node:r.childNodes[i++],isApplying:!0,revertData:h})}else r.appendChild(c.render())}}catch(t){a.e(t)}finally{a.f()}t.intoFragment&&n.appendChild(r)}},{key:"_setUpListeners",value:function(t){var e=this;if(this.eventListeners){var n=function(n){var r=e.eventListeners[n].map(function(e){var r=Iw(n.split("@"),2),o=r[0],i=r[1];return e.activateDomEventListener(o,i,t)});t.revertData&&t.revertData.bindings.push(r)};for(var r in this.eventListeners)n(r)}}},{key:"_bindToObservable",value:function(t){var e=t.schema,n=t.updater,r=t.data,o=r.revertData;Ww(e,n,r);var i=e.filter(function(t){return!tk(t)}).filter(function(t){return t.observable}).map(function(t){return t.activateAttributeListener(e,n,r)});o&&o.bindings.push(i)}},{key:"_revertTemplateFromNode",value:function(t,e){var n,r=Mw(e.bindings);try{for(r.s();!(n=r.n()).done;){var o,i=Mw(n.value);try{for(i.s();!(o=i.n()).done;){(0,o.value)()}}catch(t){i.e(t)}finally{i.f()}}}catch(t){r.e(t)}finally{r.f()}if(e.text)t.textContent=e.text;else{for(var a in e.attributes){var c=e.attributes[a];null===c?t.removeAttribute(a):t.setAttribute(a,c)}for(var u=0;u<e.children.length;++u)this._revertTemplateFromNode(t.childNodes[u],e.children[u])}}}],[{key:"bind",value:function(t,e){return{to:function(n,r){return new qw({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:r})},if:function(n,r,o){return new Uw({observable:t,emitter:e,attribute:n,valueIfTrue:r,callback:o})}}}},{key:"extend",value:function(t,e){if(t._isRendered)throw new u.a("template-extend-render",[this,t]);!function t(e,n){n.attributes&&(e.attributes||(e.attributes={}),Qw(e.attributes,n.attributes));n.eventListeners&&(e.eventListeners||(e.eventListeners={}),Qw(e.eventListeners,n.eventListeners));var r;n.text&&(r=e.text).push.apply(r,Aw(n.text));if(n.children&&n.children.length){if(e.children.length!=n.children.length)throw new u.a("ui-template-extend-children-mismatch",e);var o,i=0,a=Mw(n.children);try{for(a.s();!(o=a.n()).done;){var c=o.value;t(e.children[i++],c)}}catch(t){a.e(t)}finally{a.f()}}}(t,Jw(Yw(e)))}}]),t}();pe(Fw,m);var Vw=function(){function t(e){Bw(this,t),Object.assign(this,e)}return Lw(t,[{key:"getValue",value:function(t){var e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}},{key:"activateAttributeListener",value:function(t,e,n){var r=this,o=function(){return Ww(t,e,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){r.emitter.stopListening(r.observable,"change:"+r.attribute,o)}}}]),t}(),qw=function(t){Ew(n,t);var e=Tw(n);function n(){return Bw(this,n),e.apply(this,arguments)}return Lw(n,[{key:"activateDomEventListener",value:function(t,e,n){var r=this,o=function(t,n){e&&!n.target.matches(e)||("function"==typeof r.eventNameOrFunction?r.eventNameOrFunction(n):r.observable.fire(r.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,o),function(){r.emitter.stopListening(n.node,t,o)}}}]),n}(Vw),Uw=function(t){Ew(n,t);var e=Tw(n);function n(){return Bw(this,n),e.apply(this,arguments)}return Lw(n,[{key:"getValue",value:function(t){return!tk(Pw(Cw(n.prototype),"getValue",this).call(this,t))&&(this.valueIfTrue||!0)}}]),n}(Vw);function Hw(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Hw):t instanceof Vw)}function Ww(t,e,n){var r=function(t,e){return t.map(function(t){return t instanceof Vw?t.getValue(e):t})}(t,n.node);tk(r=1==t.length&&t[0]instanceof Uw?r[0]:r.reduce(Zw,""))?e.remove():e.set(r)}function $w(t){return{set:function(e){t.textContent=e},remove:function(){t.textContent=""}}}function Gw(t,e,n){return{set:function(r){t.setAttributeNS(n,e,r)},remove:function(){t.removeAttributeNS(n,e)}}}function Kw(t,e){return{set:function(n){t.style[e]=n},remove:function(){t.style[e]=null}}}function Yw(t){return wr(t,function(t){if(t&&(t instanceof Vw||nk(t)||ek(t)||rk(t)))return t})}function Jw(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=Hr(t.text)}(t),t.on&&(t.eventListeners=function(t){for(var e in t)Xw(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(var e in t)t[e].value&&(t[e].value=Hr(t[e].value)),Xw(t,e)}(t.attributes);var e=[];if(t.children)if(rk(t.children))e.push(t.children);else{var n,r=Mw(t.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;nk(o)||ek(o)||Iu(o)?e.push(o):e.push(new Fw(o))}}catch(t){r.e(t)}finally{r.f()}}t.children=e}return t}function Xw(t,e){t[e]=Hr(t[e])}function Zw(t,e){return tk(e)?t:tk(t)?e:"".concat(t," ").concat(e)}function Qw(t,e){for(var n in e){var r;if(t[n])(r=t[n]).push.apply(r,Aw(e[n]));else t[n]=e[n]}}function tk(t){return!t&&0!==t}function ek(t){return t instanceof xw}function nk(t){return t instanceof Fw}function rk(t){return t instanceof gw}function ok(t){return"class"==t||"style"==t}function ik(t){return(ik="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ak(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uk(t,e,n){return(uk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function sk(t,e){return(sk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=hk(t);if(e){var o=hk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fk(this,n)}}function fk(t,e){return!e||"object"!==ik(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hk(t){return(hk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sk(t,e)}(i,t);var e,n,r,o=lk(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ak(this,i),(e=o.call(this,n)).locale=t,e}return e=i,(n=[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new Fw({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var t=document.querySelector(".ck-body-wrapper");t||(t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=n&&n.xmlns,i=o?t.createElementNS(o,e):t.createElement(e);for(var a in n)i.setAttribute(a,n[a]);!Yl(r)&&Er(r)||(r=[r]);var c,u=Jl(r);try{for(u.s();!(c=u.n()).done;){var s=c.value;Yl(s)&&(s=t.createTextNode(s)),i.appendChild(s)}}catch(t){u.e(t)}finally{u.f()}return i}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){uk(hk(i.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}])&&ck(e.prototype,n),r&&ck(e,r),i}(gw);n(388);function dk(t){return(dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mk(t,e,n){return(mk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function vk(t,e){return(vk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=wk(t);if(e){var o=wk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gk(this,n)}}function gk(t,e){return!e||"object"!==dk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wk(t){return(wk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vk(t,e)}(i,t);var e,n,r,o=bk(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=(t=o.call(this)).bindTemplate;return t.set("content",""),t.set("viewBox","0 0 20 20"),t.set("fillColor",""),t.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:e.to("viewBox")}}),t}return e=i,(n=[{key:"render",value:function(){var t=this;mk(wk(i.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){t._updateXMLContent(),t._colorFillPaths()}),this.on("change:fillColor",function(){t._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(e){e.style.fill=t.fillColor})}}])&&yk(e.prototype,n),r&&yk(e,r),i}(xw);n(390);function _k(t){return(_k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sk(t,e){return(Sk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Ak(t);if(e){var o=Ak(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ok(this,n)}}function Ok(t,e){return!e||"object"!==_k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ak(t){return(Ak=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sk(t,e)}(n,t);var e=xk(n);function n(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).set("text",""),r.set("position","s");var o=r.bindTemplate;return r.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",o.to("position",function(t){return"ck-tooltip_"+t}),o.if("text","ck-hidden",function(t){return!t.trim()})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:o.to("text")}]}]}),r}return n}(xw);n(392);function Ek(t){return(Ek="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tk(t,e,n){return(Tk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jk(t,e){return(jk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ck(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Dk(t);if(e){var o=Dk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ik(this,n)}}function Ik(t,e){return!e||"object"!==Ek(e)&&"function"!=typeof e?Mk(t):e}function Mk(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dk(t){return(Dk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jk(t,e)}(i,t);var e,n,r,o=Ck(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this,t)).bindTemplate,r=a();return e.set("class"),e.set("labelStyle"),e.set("icon"),e.set("isEnabled",!0),e.set("isOn",!1),e.set("isVisible",!0),e.set("isToggleable",!1),e.set("keystroke"),e.set("label"),e.set("tabindex",-1),e.set("tooltip"),e.set("tooltipPosition","s"),e.set("type","button"),e.set("withText",!1),e.set("withKeystroke",!1),e.children=e.createCollection(),e.tooltipView=e._createTooltipView(),e.labelView=e._createLabelView(r),e.iconView=new kk,e.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),e.keystrokeView=e._createKeystrokeView(),e.bind("_tooltipString").to(Mk(e),"tooltip",Mk(e),"label",Mk(e),"keystroke",e._getTooltipString.bind(Mk(e))),e.setTemplate({tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",function(t){return!t}),n.if("isVisible","ck-hidden",function(t){return!t}),n.to("isOn",function(t){return t?"ck-on":"ck-off"}),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],type:n.to("type",function(t){return t||"button"}),tabindex:n.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_".concat(r),"aria-disabled":n.if("isEnabled",!0,function(t){return!t}),"aria-pressed":n.to("isOn",function(t){return!!e.isToggleable&&String(t)})},children:e.children,on:{mousedown:n.to(function(t){t.preventDefault()}),click:n.to(function(t){e.isEnabled?e.fire("execute"):t.preventDefault()})}}),e}return e=i,(n=[{key:"render",value:function(){Tk(Dk(i.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var t=new Pk;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}},{key:"_createLabelView",value:function(t){var e=new xw,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:"ck-editor__aria-label_".concat(t)},children:[{text:this.bindTemplate.to("label")}]}),e}},{key:"_createKeystrokeView",value:function(){var t=new xw;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",function(t){return Ec(t)})}]}),t}},{key:"_getTooltipString",value:function(t,e,n){return t?"string"==typeof t?t:(n&&(n=Ec(n)),t instanceof Function?t(e,n):"".concat(e).concat(n?" (".concat(n,")"):"")):""}}])&&Rk(e.prototype,n),r&&Rk(e,r),i}(xw);n(394);function Bk(t){return(Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lk(t,e,n){return(Lk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Uk(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Fk(t,e){return(Fk=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vk(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Uk(t);if(e){var o=Uk(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qk(this,n)}}function qk(t,e){return!e||"object"!==Bk(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Uk(t){return(Uk=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hk=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fk(t,e)}(i,t);var e,n,r,o=Vk(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).isToggleable=!0,e.toggleSwitchView=e._createToggleView(),e.extendTemplate({attributes:{class:"ck-switchbutton"}}),e}return e=i,(n=[{key:"render",value:function(){Lk(Uk(i.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var t=new xw;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}])&&zk(e.prototype,n),r&&zk(e,r),i}(Nk);function Wk(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function $k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Kk=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Object.assign(this,e),e.actions&&e.keystrokeHandler){var r=function(t){var r=e.actions[t];"string"==typeof r&&(r=[r]);var o,i=Wk(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;e.keystrokeHandler.set(a,function(e,r){n[t](),r()})}}catch(t){i.e(t)}finally{i.f()}};for(var o in e.actions)r(o)}}var e,n,r;return e=t,(n=[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(t){t&&t.focus()}},{key:"_getFocusableItem",value:function(t){var e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];var r=(e+n+t)%n;do{var o=this.focusables.get(r);if(Yk(o))return o;r=(r+n+t)%n}while(r!==e);return null}},{key:"first",get:function(){return this.focusables.find(Yk)||null}},{key:"last",get:function(){return this.focusables.filter(Yk).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var t=this,e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(function(n,r){var o=n.element===t.focusTracker.focusedElement;return o&&(e=r),o}),e)}}])&&Gk(e.prototype,n),r&&Gk(e,r),t}();function Yk(t){return!(!t.focus||"none"==Vu.window.getComputedStyle(t.element).display)}n(396);var Jk='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';function Xk(t){return(Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qk(t,e,n){return(Qk="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function t_(t,e){return(t_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function e_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=o_(t);if(e){var o=o_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return n_(this,n)}}function n_(t,e){return!e||"object"!==Xk(e)&&"function"!=typeof e?r_(t):e}function r_(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o_(t){return(o_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&t_(t,e)}(i,t);var e,n,r,o=e_(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).arrowView=e._createArrowView(),e.extendTemplate({attributes:{"aria-haspopup":!0}}),e.delegate("execute").to(r_(e),"open"),e}return e=i,(n=[{key:"render",value:function(){Qk(o_(i.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var t=new kk;return t.content=Jk,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}])&&Zk(e.prototype,n),r&&Zk(e,r),i}(Nk);n(398);function a_(t){return(a_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u_(t,e,n){return(u_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s_(t,e){return(s_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h_(t);if(e){var o=h_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f_(this,n)}}function f_(t,e){return!e||"object"!==a_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h_(t){return(h_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s_(t,e)}(i,t);var e,n,r,o=l_(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this,t)).bindTemplate;return e.set("class"),e.set("icon"),e.set("isEnabled",!0),e.set("isOn",!1),e.set("isToggleable",!1),e.set("isVisible",!0),e.set("keystroke"),e.set("label"),e.set("tabindex",-1),e.set("tooltip"),e.set("tooltipPosition","s"),e.set("type","button"),e.set("withText",!1),e.children=e.createCollection(),e.actionView=e._createActionView(),e.arrowView=e._createArrowView(),e.keystrokes=new wf,e.focusTracker=new bf,e.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",function(t){return!t}),e.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:e.children}),e}return e=i,(n=[{key:"render",value:function(){var t=this;u_(h_(i.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(e,n){t.focusTracker.focusedElement===t.actionView.element&&(t.arrowView.focus(),n())}),this.keystrokes.set("arrowleft",function(e,n){t.focusTracker.focusedElement===t.arrowView.element&&(t.actionView.focus(),n())})}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var t=new Nk;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}},{key:"_createArrowView",value:function(){var t=new Nk,e=t.bindTemplate;return t.icon=Jk,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":e.to("isOn",function(t){return String(t)})}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}])&&c_(e.prototype,n),r&&c_(e,r),i}(xw);function d_(t){return(d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m_(t,e){return(m_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=g_(t);if(e){var o=g_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(t,e){return!e||"object"!==d_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g_(t){return(g_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m_(t,e)}(i,t);var e,n,r,o=v_(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this,t)).bindTemplate;return e.set("isVisible",!1),e.set("position","se"),e.children=e.createCollection(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",n.to("position",function(t){return"ck-dropdown__panel_".concat(t)}),n.if("isVisible","ck-dropdown__panel-visible")]},children:e.children,on:{selectstart:n.to(function(t){return t.preventDefault()})}}),e}return e=i,(n=[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}])&&y_(e.prototype,n),r&&y_(e,r),i}(xw);n(400);function k_(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=S_(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function __(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||S_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S_(t,e){if(t){if("string"==typeof t)return x_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x_(t,e):void 0}}function x_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O_(t){var e=t.element,n=t.target,r=t.positions,o=t.limiter,i=t.fitInViewport;L(n)&&(n=n()),L(o)&&(o=o());var a,c,u=function(t){return t&&t.parentNode?t.offsetParent===Vu.document.body?null:t.offsetParent:null}(e),s=new of(e),l=new of(n);if(o||i){var f=function(t,e){var n=e.elementRect,r=e.viewportRect,o=n.getArea(),i=function(t,e){var n,r=e.targetRect,o=e.elementRect,i=e.limiterRect,a=e.viewportRect,c=[],u=o.getArea(),s=k_(t);try{for(s.s();!(n=s.n()).done;){var l=A_(n.value,r,o);if(l){var f=__(l,2),h=f[0],p=f[1],d=0,y=0;if(i)if(a){var m=i.getIntersection(a);m&&(d=m.getIntersectionArea(p))}else d=i.getIntersectionArea(p);a&&(y=a.getIntersectionArea(p));var v={positionName:h,positionRect:p,limiterIntersectArea:d,viewportIntersectArea:y};if(d===u)return[v];c.push(v)}}}catch(t){s.e(t)}finally{s.f()}return c}(t,e);if(r){var a=P_(i.filter(function(t){return t.viewportIntersectArea===o}),o);if(a)return a}return P_(i,o)}(r,{targetRect:l,elementRect:s,limiterRect:o&&new of(o).getVisible(),viewportRect:i&&new of(Vu.window)}),h=__(f||A_(r[0],l,s),2);c=h[0],a=h[1]}else{var p=__(A_(r[0],l,s),2);c=p[0],a=p[1]}var d=E_(a);return u&&(d=function(t,e){var n=t.left,r=t.top,o=E_(new of(e)),i=Ql(e);return n-=o.left,r-=o.top,n+=e.scrollLeft,r+=e.scrollTop,n-=i.left,r-=i.top,{left:n,top:r}}(d,u)),{left:d.left,top:d.top,name:c}}function A_(t,e,n){var r=t(e,n);if(!r)return null;var o=r.left,i=r.top;return[r.name,n.clone().moveTo(o,i)]}function P_(t,e){var n,r,o,i=0,a=k_(t);try{for(a.s();!(o=a.n()).done;){var c=o.value,u=c.positionName,s=c.positionRect,l=c.limiterIntersectArea,f=c.viewportIntersectArea;if(l===e)return[u,s];var h=Math.pow(f,2)+Math.pow(l,2);h>i&&(i=h,n=s,r=u)}}catch(t){a.e(t)}finally{a.f()}return n?[r,n]:null}function E_(t){var e=t.left,n=t.top,r=Vu.window;return{left:e+r.scrollX,top:n+r.scrollY}}function R_(t){return(R_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j_(t,e,n){return(j_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D_(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function C_(t,e){return(C_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=D_(t);if(e){var o=D_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(t,e){return!e||"object"!==R_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D_(t){return(D_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C_(t,e)}(i,t);var e,n,r,o=I_(i);function i(t,e,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var a=(r=o.call(this,t)).bindTemplate;return r.buttonView=e,r.panelView=n,r.set("isOpen",!1),r.set("isEnabled",!0),r.set("class"),r.set("id"),r.set("panelPosition","auto"),r.keystrokes=new wf,r.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",function(t){return!t})],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),r}return e=i,(n=[{key:"render",value:function(){var t=this;j_(D_(i.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",function(){t.isOpen=!t.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){t.isOpen&&("auto"===t.panelPosition?t.panelView.position=i._getOptimalPosition({element:t.panelView.element,target:t.buttonView.element,fitInViewport:!0,positions:t._panelPositions}).name:t.panelView.position=t.panelPosition)}),this.keystrokes.listenTo(this.element);var e=function(e,n){t.isOpen&&(t.buttonView.focus(),t.isOpen=!1,n())};this.keystrokes.set("arrowdown",function(e,n){t.buttonView.isEnabled&&!t.isOpen&&(t.isOpen=!0,n())}),this.keystrokes.set("arrowright",function(e,n){t.isOpen&&n()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var t=i.defaultPanelPositions,e=t.south,n=t.north,r=t.southEast,o=t.southWest,a=t.northEast,c=t.northWest,u=t.southMiddleEast,s=t.southMiddleWest,l=t.northMiddleEast,f=t.northMiddleWest;return"rtl"!==this.locale.uiLanguageDirection?[r,o,u,s,e,a,c,l,f,n]:[o,r,s,u,e,c,a,f,l,n]}}])&&T_(e.prototype,n),r&&T_(e,r),i}(xw);function B_(t){return(B_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z_(t,e){return(z_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=V_(t);if(e){var o=V_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F_(this,n)}}function F_(t,e){return!e||"object"!==B_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V_(t){return(V_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}N_.defaultPanelPositions={south:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}},southEast:function(t){return{top:t.bottom,left:t.left,name:"se"}},southWest:function(t,e){return{top:t.bottom,left:t.left-e.width+t.width,name:"sw"}},southMiddleEast:function(t,e){return{top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}},southMiddleWest:function(t,e){return{top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}},north:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}},northEast:function(t,e){return{top:t.top-e.height,left:t.left,name:"ne"}},northWest:function(t,e){return{top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}},northMiddleEast:function(t,e){return{top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}},northMiddleWest:function(t,e){return{top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"}}},N_._getOptimalPosition=O_;var q_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z_(t,e)}(n,t);var e=L_(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),r}return n}(xw);function U_(t){return(U_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H_(t,e){return(H_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W_(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=G_(t);if(e){var o=G_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $_(this,n)}}function $_(t,e){return!e||"object"!==U_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G_(t){return(G_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H_(t,e)}(n,t);var e=W_(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}}),r}return n}(xw);function Y_(t){return Array.isArray(t)?{items:t,removeItems:[]}:t?Object.assign({items:[],removeItems:[]},t):{items:[],removeItems:[]}}n(402);function J_(t){return(J_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X_(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Z_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Q_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eS(t,e,n){return e&&tS(t.prototype,e),n&&tS(t,n),t}function nS(t,e,n){return(nS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=uS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function rS(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oS(t,e)}function oS(t,e){return(oS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function iS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=uS(t);if(e){var o=uS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aS(this,n)}}function aS(t,e){return!e||"object"!==J_(e)&&"function"!=typeof e?cS(t):e}function cS(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uS(t){return(uS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sS=function(t){rS(n,t);var e=iS(n);function n(t,r){var o;Q_(this,n);var i=(o=e.call(this,t)).bindTemplate,a=o.t;o.options=r||{},o.set("ariaLabel",a("Editor toolbar")),o.set("maxWidth","auto"),o.items=o.createCollection(),o.focusTracker=new bf,o.keystrokes=new wf,o.set("class"),o.set("isCompact",!1),o.itemsView=new lS(t),o.children=o.createCollection(),o.children.add(o.itemsView),o.focusables=o.createCollection();var c="rtl"===t.uiLanguageDirection;o._focusCycler=new Kk({focusables:o.focusables,focusTracker:o.focusTracker,keystrokeHandler:o.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});var u,s=["ck","ck-toolbar",i.to("class"),i.if("isCompact","ck-toolbar_compact")];return o.options.shouldGroupWhenFull&&o.options.isFloating&&s.push("ck-toolbar_floating"),o.setTemplate({tag:"div",attributes:{class:s,role:"toolbar","aria-label":i.to("ariaLabel"),style:{maxWidth:i.to("maxWidth")}},children:o.children,on:{mousedown:(u=cS(o),u.bindTemplate.to(function(t){t.target===u.element&&t.preventDefault()}))}}),o._behavior=o.options.shouldGroupWhenFull?new hS(cS(o)):new fS(cS(o)),o}return eS(n,[{key:"render",value:function(){var t=this;nS(uS(n.prototype),"render",this).call(this);var e,r=X_(this.items);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.focusTracker.add(o.element)}}catch(t){r.e(t)}finally{r.f()}this.items.on("add",function(e,n){t.focusTracker.add(n.element)}),this.items.on("remove",function(e,n){t.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),nS(uS(n.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(t,e){var n=this,r=Y_(t),o=r.items.filter(function(t,o,i){return"|"===t||-1===r.removeItems.indexOf(t)&&("-"===t?!n.options.shouldGroupWhenFull||(Object(u.b)("toolbarview-line-break-ignored-when-grouping-items",i),!1):!!e.has(t)||(Object(u.b)("toolbarview-item-unavailable",{name:t}),!1))}),i=this._cleanSeparators(o).map(function(t){return"|"===t?new q_:"-"===t?new K_:e.create(t)});this.items.addMany(i)}},{key:"_cleanSeparators",value:function(t){var e=function(t){return"-"!==t&&"|"!==t},n=t.length,r=t.findIndex(e),o=n-t.slice().reverse().findIndex(e);return t.slice(r,o).filter(function(t,n,r){return!!e(t)||!(n>0&&r[n-1]===t)})}}]),n}(xw),lS=function(t){rS(n,t);var e=iS(n);function n(t){var r;return Q_(this,n),(r=e.call(this,t)).children=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:r.children}),r}return n}(xw),fS=function(){function t(e){Q_(this,t);var n=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(function(t){return t}),e.focusables.bindTo(e.items).using(function(t){return t}),e.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return eS(t,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),t}(),hS=function(){function t(e){var n=this;Q_(this,t),this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(function(t){return t}),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),e.children.on("add",this._updateFocusCycleableItems.bind(this)),e.children.on("remove",this._updateFocusCycleableItems.bind(this)),e.items.on("change",function(t,e){var r,o=e.index,i=X_(e.removed);try{for(i.s();!(r=i.n()).done;){var a=r.value;o>=n.ungroupedItems.length?n.groupedItems.remove(a):n.ungroupedItems.remove(a)}}catch(t){i.e(t)}finally{i.f()}for(var c=o;c<o+e.added.length;c++){var u=e.added[c-o];c>n.ungroupedItems.length?n.groupedItems.add(u,c-n.ungroupedItems.length):n.ungroupedItems.add(u,c)}n._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return eS(t,[{key:"render",value:function(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement))if(this.viewElement.offsetParent){for(var t,e=this.groupedItems.length;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}else this.shouldUpdateGroupingOnNextResize=!0}},{key:"_enableGroupingOnResize",value:function(){var t,e=this;this.resizeObserver=new pf(this.viewElement,function(n){t&&t===n.contentRect.width&&!e.shouldUpdateGroupingOnNextResize||(e.shouldUpdateGroupingOnNextResize=!1,e._updateGrouping(),t=n.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(t){var e=this;t.on("change:maxWidth",function(){e._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new q_),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var t=this.viewLocale,e=t.t,n=zS(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",LS(n,[]),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:aw}),n.toolbarView.items.bindTo(this.groupedItems).using(function(t){return t}),n}},{key:"_updateFocusCycleableItems",value:function(){var t=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(e){t.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new of(t.lastChild),r=new of(t);if(!this.cachedPadding){var o=Vu.window.getComputedStyle(t),i="ltr"===e?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[i])}return"ltr"===e?n.right>r.right-this.cachedPadding:n.left<r.left+this.cachedPadding}}]),t}();n(404);function pS(t){return(pS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dS(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return yS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yS(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function yS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vS(t,e,n){return(vS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=kS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function bS(t,e){return(bS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=kS(t);if(e){var o=kS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wS(this,n)}}function wS(t,e){return!e||"object"!==pS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kS(t){return(kS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bS(t,e)}(i,t);var e,n,r,o=gS(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).items=t.createCollection(),t.focusTracker=new bf,t.keystrokes=new wf,t._focusCycler=new Kk({focusables:t.items,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),t.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:t.items}),t}return e=i,(n=[{key:"render",value:function(){var t=this;vS(kS(i.prototype),"render",this).call(this);var e,n=dS(this.items);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.focusTracker.add(r.element)}}catch(t){n.e(t)}finally{n.f()}this.items.on("add",function(e,n){t.focusTracker.add(n.element)}),this.items.on("remove",function(e,n){t.focusTracker.remove(n.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}])&&mS(e.prototype,n),r&&mS(e,r),i}(xw);function SS(t){return(SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OS(t,e){return(OS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function AS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ES(t);if(e){var o=ES(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PS(this,n)}}function PS(t,e){return!e||"object"!==SS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ES(t){return(ES=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var RS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OS(t,e)}(i,t);var e,n,r,o=AS(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).children=e.createCollection(),e.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:e.children}),e}return e=i,(n=[{key:"focus",value:function(){this.children.first.focus()}}])&&xS(e.prototype,n),r&&xS(e,r),i}(xw);function TS(t){return(TS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jS(t,e){return(jS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=MS(t);if(e){var o=MS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IS(this,n)}}function IS(t,e){return!e||"object"!==TS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MS(t){return(MS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jS(t,e)}(n,t);var e=CS(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),r}return n}(xw);n(406),n(408);function NS(t){return function(t){if(Array.isArray(t))return BS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return BS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BS(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zS(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i_,n=new e(t),r=new w_(t),o=new N_(t,n,r);return n.bind("isEnabled").to(o),n instanceof i_?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),VS(o),o}function LS(t,e){var n=t.locale,r=n.t,o=t.toolbarView=new sS(n);o.set("ariaLabel",r("Dropdown toolbar")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.map(function(t){return o.items.add(t)}),t.panelView.children.add(o),o.items.delegate("execute").to(t)}function FS(t,e){var n=t.locale,r=t.listView=new _S(n);r.items.bindTo(e).using(function(t){var e=t.type,r=t.model;if("separator"===e)return new DS(n);if("button"===e||"switchbutton"===e){var o,i,a=new RS(n);return(o=i="button"===e?new Nk(n):new Hk(n)).bind.apply(o,NS(Object.keys(r))).to(r),i.delegate("execute").to(a),a.children.add(i),a}}),t.panelView.children.add(r),r.items.delegate("execute").to(t)}function VS(t){!function(t){t.on("render",function(){sw({emitter:t,activator:function(){return t.isOpen},callback:function(){t.isOpen=!1},contextElements:[t.element]})})}(t),function(t){t.on("execute",function(e){e.source instanceof Hk||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",function(e,n){t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",function(e,n){t.isOpen&&(t.panelView.focusLast(),n())})}(t)}n(410);function qS(t){return(qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function US(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HS(t,e,n){return(HS="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=KS(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function WS(t,e){return(WS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=KS(t);if(e){var o=KS(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GS(this,n)}}function GS(t,e){return!e||"object"!==qS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KS(t){return(KS=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YS=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WS(t,e)}(i,t);var e,n,r,o=$S(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).body=new pk(t),e}return e=i,(n=[{key:"render",value:function(){HS(KS(i.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),HS(KS(i.prototype),"destroy",this).call(this)}}])&&US(e.prototype,n),r&&US(e,r),i}(xw);n(412);function JS(t){return(JS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XS(t,e){return(XS=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZS(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=tx(t);if(e){var o=tx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QS(this,n)}}function QS(t,e){return!e||"object"!==JS(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tx(t){return(tx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ex=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XS(t,e)}(n,t);var e=ZS(n);function n(t){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).set("text"),r.set("for"),r.id="ck-editor__label_".concat(a());var o=r.bindTemplate;return r.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:r.id,for:o.to("for")},children:[{text:o.to("text")}]}),r}return n}(xw);function nx(t){return(nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ox(t,e){return(ox=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ix(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=cx(t);if(e){var o=cx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ax(this,n)}}function ax(t,e){return!e||"object"!==nx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cx(t){return(cx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ux=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ox(t,e)}(i,t);var e,n,r,o=ix(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).top=e.createCollection(),e.main=e.createCollection(),e._voiceLabelView=e._createVoiceLabel(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":e._voiceLabelView.id},children:[e._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:e.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:e.main}]}),e}return e=i,(n=[{key:"_createVoiceLabel",value:function(){var t=this.t,e=new ex;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}])&&rx(e.prototype,n),r&&rx(e,r),i}(YS);function sx(t){return(sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fx(t,e,n){return(fx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hx(t,e){return(hx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function px(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=yx(t);if(e){var o=yx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dx(this,n)}}function dx(t,e){return!e||"object"!==sx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yx(t){return(yx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mx(t){return(mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bx(t,e,n){return(bx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_x(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function gx(t,e){return(gx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=_x(t);if(e){var o=_x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kx(this,n)}}function kx(t,e){return!e||"object"!==mx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _x(t){return(_x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Sx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gx(t,e)}(i,t);var e,n,r,o=wx(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t,e,n)).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),r}return e=i,(n=[{key:"render",value:function(){var t=this;bx(_x(i.prototype),"render",this).call(this);var e=this._editingView,n=this.t;e.change(function(r){var o=e.document.getRoot(t.name);r.setAttribute("aria-label",n("Rich Text Editor, %0",t.name),o)})}}])&&vx(e.prototype,n),r&&vx(e,r),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hx(t,e)}(i,t);var e,n,r,o=px(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,t)).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),r.name=null,r.set("isFocused",!1),r._editableElement=n,r._hasExternalElement=!!r._editableElement,r._editingView=e,r}return e=i,(n=[{key:"render",value:function(){var t=this;fx(yx(i.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return t._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),fx(yx(i.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var t=this._editingView;function e(e){t.change(function(n){var r=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",r),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",r)})}t.isRenderingInProgress?function n(r){t.once("change:isRenderingInProgress",function(t,o,i){i?n(r):e(r)})}(this):e(this)}}])&&lx(e.prototype,n),r&&lx(e,r),i}(xw));n(414);n(416);function xx(t){return(xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ox(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ax(t,e,n){return(Ax="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=jx(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Px(t,e){return(Px=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ex(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jx(t);if(e){var o=jx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rx(this,n)}}function Rx(t,e){return!e||"object"!==xx(e)&&"function"!=typeof e?Tx(t):e}function Tx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jx(t){return(jx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Px(t,e)}(i,t);var e,n,r,o=Ex(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).set("value"),e.set("id"),e.set("placeholder"),e.set("isReadOnly",!1),e.set("hasError",!1),e.set("ariaDescribedById"),e.focusTracker=new bf,e.bind("isFocused").to(e.focusTracker),e.set("isEmpty",!0);var n=e.bindTemplate;return e.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById")},on:{input:n.to("input"),change:n.to(e._updateIsEmpty.bind(Tx(e)))}}),e}return e=i,(n=[{key:"render",value:function(){var t=this;Ax(jx(i.prototype),"render",this).call(this),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",function(e,n,r){t._setDomElementValue(r),t._updateIsEmpty()})}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}},{key:"_updateIsEmpty",value:function(){this.isEmpty=!this.element.value}},{key:"_setDomElementValue",value:function(t){this.element.value=t||0===t?t:""}}])&&Ox(e.prototype,n),r&&Ox(e,r),i}(xw);n(418);function Ix(t){return(Ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Dx(t,e){return(Dx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nx(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Lx(t);if(e){var o=Lx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bx(this,n)}}function Bx(t,e){return!e||"object"!==Ix(e)&&"function"!=typeof e?zx(t):e}function zx(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lx(t){return(Lx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Fx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dx(t,e)}(i,t);var e,n,r,o=Nx(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,t);var r="ck-labeled-field-view-".concat(a()),c="ck-labeled-field-view-status-".concat(a());n.fieldView=e(zx(n),r,c),n.set("label"),n.set("isEnabled",!0),n.set("isEmpty",!0),n.set("isFocused",!1),n.set("errorText",null),n.set("infoText",null),n.set("class"),n.set("placeholder"),n.labelView=n._createLabelView(r),n.statusView=n._createStatusView(c),n.bind("_statusText").to(zx(n),"errorText",zx(n),"infoText",function(t,e){return t||e});var u=n.bindTemplate;return n.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",function(t){return!t}),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[n.fieldView,n.labelView]},n.statusView]}),n}return e=i,(n=[{key:"_createLabelView",value:function(t){var e=new ex(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}},{key:"_createStatusView",value:function(t){var e=new xw(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",function(t){return!t})],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}},{key:"focus",value:function(){this.fieldView.focus()}}])&&Mx(e.prototype,n),r&&Mx(e,r),i}(xw);function Vx(t,e,n){var r=new Cx(t.locale);return r.set({id:e,ariaDescribedById:n}),r.bind("isReadOnly").to(t,"isEnabled",function(t){return!t}),r.bind("hasError").to(t,"errorText",function(t){return!!t}),r.on("input",function(){t.errorText=null}),t.bind("isEmpty","isFocused","placeholder").to(r),r}function qx(t){return(qx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ux(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wx(t,e){return(Wx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Kx(t);if(e){var o=Kx(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gx(this,n)}}function Gx(t,e){return!e||"object"!==qx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Kx(t){return(Kx=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yx=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wx(t,e)}(i,t);var e,n,r,o=$x(i);function i(){return Ux(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Notification"}}],(n=[{key:"init",value:function(){this.on("show:warning",function(t,e){window.alert(e.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}},{key:"showInfo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}},{key:"showWarning",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}},{key:"_showNotification",value:function(t){var e="show:".concat(t.type)+(t.namespace?":".concat(t.namespace):"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}])&&Hx(e.prototype,n),r&&Hx(e,r),i}(io);var Jx=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n&&Gt(this,n),e&&this.set(e)};pe(Jx,oe);n(420);function Xx(t){return(Xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qx(t,e){return(Qx=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=nO(t);if(e){var o=nO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eO(this,n)}}function eO(t,e){return!e||"object"!==Xx(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nO(t){return(nO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rO=yf("px"),oO=Vu.document.body,iO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qx(t,e)}(i,t);var e,n,r,o=tO(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this,t)).bindTemplate;return e.set("top",0),e.set("left",0),e.set("position","arrow_nw"),e.set("isVisible",!1),e.set("withArrow",!0),e.set("class"),e.content=e.createCollection(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",function(t){return"ck-balloon-panel_".concat(t)}),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",rO),left:n.to("left",rO)}},children:e.content}),e}return e=i,(n=[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(t){this.show();var e=i.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:oO,fitInViewport:!0},t),r=i._getOptimalPosition(n),o=parseInt(r.left),a=parseInt(r.top),c=r.name;Object.assign(this,{top:a,left:o,position:c})}},{key:"pin",value:function(t){var e=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){e.isVisible?e._startPinning(t):e._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(t){var e=this;this.attachTo(t);var n=aO(t.target),r=t.limiter?aO(t.limiter):oO;this.listenTo(Vu.document,"scroll",function(o,i){var a=i.target,c=n&&a.contains(n),u=r&&a.contains(r);!c&&!u&&n&&r||e.attachTo(t)},{useCapture:!0}),this.listenTo(Vu.window,"resize",function(){e.attachTo(t)})}},{key:"_stopPinning",value:function(){this.stopListening(Vu.document,"scroll"),this.stopListening(Vu.window,"resize")}}])&&Zx(e.prototype,n),r&&Zx(e,r),i}(xw);function aO(t){return kr(t)?t:Zl(t)?t.commonAncestorContainer:"function"==typeof t?aO(t()):null}function cO(t,e){return t.top-e.height-iO.arrowVerticalOffset}function uO(t){return t.bottom+iO.arrowVerticalOffset}iO.arrowHorizontalOffset=25,iO.arrowVerticalOffset=10,iO._getOptimalPosition=O_,iO.defaultPositions={northWestArrowSouthWest:function(t,e){return{top:cO(t,e),left:t.left-iO.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(t,e){return{top:cO(t,e),left:t.left-.25*e.width-iO.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(t,e){return{top:cO(t,e),left:t.left-e.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(t,e){return{top:cO(t,e),left:t.left-.75*e.width+iO.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(t,e){return{top:cO(t,e),left:t.left-e.width+iO.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(t,e){return{top:cO(t,e),left:t.left+t.width/2-iO.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(t,e){return{top:cO(t,e),left:t.left+t.width/2-.25*e.width-iO.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(t,e){return{top:cO(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(t,e){return{top:cO(t,e),left:t.left+t.width/2-.75*e.width+iO.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(t,e){return{top:cO(t,e),left:t.left+t.width/2-e.width+iO.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(t,e){return{top:cO(t,e),left:t.right-iO.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(t,e){return{top:cO(t,e),left:t.right-.25*e.width-iO.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(t,e){return{top:cO(t,e),left:t.right-e.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(t,e){return{top:cO(t,e),left:t.right-.75*e.width+iO.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(t,e){return{top:cO(t,e),left:t.right-e.width+iO.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(t,e){return{top:uO(t),left:t.left-iO.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(t,e){return{top:uO(t),left:t.left-.25*e.width-iO.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(t,e){return{top:uO(t),left:t.left-e.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(t,e){return{top:uO(t),left:t.left-.75*e.width+iO.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(t,e){return{top:uO(t),left:t.left-e.width+iO.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(t,e){return{top:uO(t),left:t.left+t.width/2-iO.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(t,e){return{top:uO(t),left:t.left+t.width/2-.25*e.width-iO.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(t,e){return{top:uO(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(t,e){return{top:uO(t),left:t.left+t.width/2-.75*e.width+iO.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(t,e){return{top:uO(t),left:t.left+t.width/2-e.width+iO.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(t,e){return{top:uO(t),left:t.right-iO.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(t,e){return{top:uO(t),left:t.right-.25*e.width-iO.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(t,e){return{top:uO(t),left:t.right-e.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(t,e){return{top:uO(t),left:t.right-.75*e.width+iO.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(t,e){return{top:uO(t),left:t.right-e.width+iO.arrowHorizontalOffset,name:"arrow_ne"}}};n(422),n(424);function sO(t){return(sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lO(t,e,n){return(lO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=bO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function fO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pO(t,e,n){return e&&hO(t.prototype,e),n&&hO(t,n),t}function dO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yO(t,e)}function yO(t,e){return(yO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=bO(t);if(e){var o=bO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(t,e){return!e||"object"!==sO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bO(t){return(bO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gO=yf("px"),wO=function(t){dO(n,t);var e=mO(n);function n(t){var r;return fO(this,n),(r=e.call(this,t)).positionLimiter=function(){var t=r.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},r.set("visibleView",null),r.view=new iO(t.locale),t.ui.view.body.add(r.view),t.ui.focusTracker.add(r.view.element),r._viewToStack=new Map,r._idToStack=new Map,r.set("_numberOfStacks",0),r.set("_singleViewMode",!1),r._rotatorView=r._createRotatorView(),r._fakePanelsView=r._createFakePanelsView(),r}return pO(n,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),pO(n,[{key:"hasView",value:function(t){return Array.from(this._viewToStack.keys()).includes(t)}},{key:"add",value:function(t){if(this.hasView(t.view))throw new u.a("contextualballoon-add-view-exist",[this,t]);var e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));var n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}},{key:"remove",value:function(t){if(!this.hasView(t))throw new u.a("contextualballoon-remove-view-not-exist",[this,t]);var e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}},{key:"updatePosition",value:function(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(t){this.visibleStack=t;var e=this._idToStack.get(t);if(!e)throw new u.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find(function(e){return e[1]===t})[0]}},{key:"_showNextStack",value:function(){var t=Array.from(this._idToStack.values()),e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}},{key:"_showPrevStack",value:function(){var t=Array.from(this._idToStack.values()),e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}},{key:"_createRotatorView",value:function(){var t=this,e=new kO(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(t,e){return!e&&t>1}),e.on("change:isNavigationVisible",function(){return t.updatePosition()},{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(e,r){if(r<2)return"";var o=Array.from(t._idToStack.values()).indexOf(t._visibleStack)+1;return n("%0 of %1",[o,r])}),e.buttonNextView.on("execute",function(){e.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showNextStack()}),e.buttonPrevView.on("execute",function(){e.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showPrevStack()}),e}},{key:"_createFakePanelsView",value:function(){var t=new _O(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(t,e){return!e&&t>=2?Math.min(t-1,2):0}),t.listenTo(this.view,"change:top",function(){return t.updatePosition()}),t.listenTo(this.view,"change:left",function(){return t.updatePosition()}),this.editor.ui.view.body.add(t),t}},{key:"_showView",value:function(t){var e=t.view,n=t.balloonClassName,r=void 0===n?"":n,o=t.withArrow,i=void 0===o||o,a=t.singleViewMode,c=void 0!==a&&a;this.view.class=r,this.view.withArrow=i,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),c&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),n}(ye),kO=function(t){dO(n,t);var e=mO(n);function n(t){var r;fO(this,n),r=e.call(this,t);var o=t.t,i=r.bindTemplate;return r.set("isNavigationVisible",!0),r.focusTracker=new bf,r.buttonPrevView=r._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),r.buttonNextView=r._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),r.content=r.createCollection(),r.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",i.to("isNavigationVisible",function(t){return t?"":"ck-hidden"})]},children:[r.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:i.to("counter")}]},r.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:r.content}]}),r}return pO(n,[{key:"render",value:function(){lO(bO(n.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(t){this.hideView(),this.content.add(t)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(t,e){var n=new Nk(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}]),n}(xw),_O=function(t){dO(n,t);var e=mO(n);function n(t,r){var o;fO(this,n);var i=(o=e.call(this,t)).bindTemplate;return o.set("top",0),o.set("left",0),o.set("height",0),o.set("width",0),o.set("numberOfPanels",0),o.content=o.createCollection(),o._balloonPanelView=r,o.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",i.to("numberOfPanels",function(t){return t?"":"ck-hidden"})],style:{top:i.to("top",gO),left:i.to("left",gO),width:i.to("width",gO),height:i.to("height",gO)}},children:o.content}),o.on("change:numberOfPanels",function(t,e,n,r){n>r?o._addPanels(n-r):o._removePanels(r-n),o.updatePosition()}),o}return pO(n,[{key:"_addPanels",value:function(t){for(;t--;){var e=new xw;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}},{key:"_removePanels",value:function(t){for(;t--;){var e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var t=this._balloonPanelView,e=t.top,n=t.left,r=new of(this._balloonPanelView.element),o=r.width,i=r.height;Object.assign(this,{top:e,left:n,width:o,height:i})}}}]),n}(xw);n(426);function SO(t){return(SO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OO(t,e,n){return(OO="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=RO(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function AO(t,e){return(AO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function PO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=RO(t);if(e){var o=RO(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EO(this,n)}}function EO(t,e){return!e||"object"!==SO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function RO(t){return(RO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var TO=yf("px"),jO=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AO(t,e)}(i,t);var e,n,r,o=PO(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this,t)).bindTemplate;return e.set("isActive",!1),e.set("isSticky",!1),e.set("limiterElement",null),e.set("limiterBottomOffset",50),e.set("viewportTopOffset",0),e.set("_marginLeft",null),e.set("_isStickyToTheLimiter",!1),e.set("_hasViewportTopOffset",!1),e.content=e.createCollection(),e._contentPanelPlaceholder=new Fw({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:n.to("isSticky",function(t){return t?"block":"none"}),height:n.to("isSticky",function(t){return t?TO(e._panelRect.height):null})}}}).render(),e._contentPanel=new Fw({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",n.if("isSticky","ck-sticky-panel__content_sticky"),n.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:n.to("isSticky",function(t){return t?TO(e._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:n.to("_hasViewportTopOffset",function(t){return t?TO(e.viewportTopOffset):null}),bottom:n.to("_isStickyToTheLimiter",function(t){return t?TO(e.limiterBottomOffset):null}),marginLeft:n.to("_marginLeft")}},children:e.content}).render(),e.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[e._contentPanelPlaceholder,e._contentPanel]}),e}return e=i,(n=[{key:"render",value:function(){var t=this;OO(RO(i.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Vu.window,"scroll",function(){t._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){t._checkIfShouldBeSticky()})}},{key:"_checkIfShouldBeSticky",value:function(){var t,e=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(t=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&t.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<t.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=t.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:TO(-Vu.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}])&&xO(e.prototype,n),r&&xO(e,r),i}(xw);yf("px");n(428);yf("px");yf("px"),n(430);function CO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||MO(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IO(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=MO(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function MO(t,e){if(t){if("string"==typeof t)return DO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DO(t,e):void 0}}function DO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var NO=new WeakMap;function BO(t){var e=t.view,n=t.element,r=t.text,o=t.isDirectHost,i=void 0===o||o,a=t.keepOnFocus,c=void 0!==a&&a,u=e.document;NO.has(u)||(NO.set(u,new Map),u.registerPostFixer(function(t){return LO(u,t)})),NO.get(u).set(n,{text:r,isDirectHost:i,keepOnFocus:c,hostElement:i?n:null}),e.change(function(t){return LO(u,t)})}function zO(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function LO(t,e){var n,r=NO.get(t),o=[],i=!1,a=IO(r);try{for(a.s();!(n=a.n()).done;){var c=CO(n.value,2),u=c[0],s=c[1];s.isDirectHost&&(o.push(u),FO(e,u,s)&&(i=!0))}}catch(t){a.e(t)}finally{a.f()}var l,f=IO(r);try{for(f.s();!(l=f.n()).done;){var h=CO(l.value,2),p=h[0],d=h[1];if(!d.isDirectHost){var y=VO(p);y&&(o.includes(y)||(d.hostElement=y,FO(e,p,d)&&(i=!0)))}}}catch(t){f.e(t)}finally{f.f()}return i}function FO(t,e,n){var r=n.text,o=n.isDirectHost,i=n.hostElement,a=!1;return i.getAttribute("data-placeholder")!==r&&(t.setAttribute("data-placeholder",r,i),a=!0),(o||1==e.childCount)&&function(t,e){if(!t.isAttached())return!1;if(Array.from(t.getChildren()).some(function(t){return!t.is("uiElement")}))return!1;if(e)return!0;var n=t.document;if(!n.isFocused)return!0;var r=n.selection.anchor;return r&&r.parent!==t}(i,n.keepOnFocus)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,i)&&(a=!0):zO(t,i)&&(a=!0),a}function VO(t){if(t.childCount){var e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}function qO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HO(t){return function(t){if(Array.isArray(t))return GO(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||$O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WO(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=$O(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function $O(t,e){if(t){if("string"==typeof t)return GO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GO(t,e):void 0}}function GO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KO=new Map;function YO(t,e,n){var r=KO.get(t);r||(r=new Map,KO.set(t,r)),r.set(e,n)}function JO(t,e){var n=KO.get(t);return n&&n.has(e)?n.get(e):XO}function XO(t){return[t]}function ZO(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=JO(t.constructor,e.constructor);try{return r(t=t.clone(),e,n)}catch(t){throw t}}function QO(t,e,n){t=t.slice(),e=e.slice();var r=new tA(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);var o=r.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:o};var i,a=new WeakMap,c=WO(t);try{for(c.s();!(i=c.n()).done;){var u=i.value;a.set(u,0)}}catch(t){c.e(t)}finally{c.f()}for(var s={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},l=0;l<t.length;){var f,h,p=t[l],d=a.get(p);if(d!=e.length){var y=e[d],m=ZO(p,y,r.getContext(p,y,!0)),v=ZO(y,p,r.getContext(y,p,!1));r.updateRelation(p,y),r.setOriginalOperations(m,p),r.setOriginalOperations(v,y);var b,g=WO(m);try{for(g.s();!(b=g.n()).done;){var w=b.value;a.set(w,d+v.length)}}catch(t){g.e(t)}finally{g.f()}(f=t).splice.apply(f,[l,1].concat(HO(m))),(h=e).splice.apply(h,[d,1].concat(HO(v)))}else l++}if(n.padWithNoOps){var k=t.length-s.originalOperationsACount,_=e.length-s.originalOperationsBCount;nA(t,_-k),nA(e,k-_)}return eA(t,s.nextBaseVersionB),eA(e,s.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:o}}var tA=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];qO(this,t),this.originalOperations=new Map,this._history=e.history,this._useRelations=n,this._forceWeakRemove=!!r,this._relations=new Map}var e,n,r;return e=t,(n=[{key:"setOriginalOperations",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n?this.originalOperations.get(n):null,o=WO(t);try{for(o.s();!(e=o.n()).done;){var i=e.value;this.originalOperations.set(i,r||i)}}catch(t){o.e(t)}finally{o.f()}}},{key:"updateRelation",value:function(t,e){switch(t.constructor){case Pm:switch(e.constructor){case mv:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case Pm:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case xv:switch(e.constructor){case mv:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case Pm:if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{var n=Nh._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)){var r=n.end.offset-t.splitPosition.offset,o=t.splitPosition.offset-n.start.offset;this._setRelation(t,e,{howMany:r,offset:o})}}}break;case mv:switch(e.constructor){case mv:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case xv:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case $m:var i=t.newRange;if(!i)return;switch(e.constructor){case Pm:var a=Nh._createFromPositionAndShift(e.sourcePosition,e.howMany),c=a.containsPosition(i.start)||a.start.isEqual(i.start),u=a.containsPosition(i.end)||a.end.isEqual(i.end);!c&&!u||a.containsRange(i)||this._setRelation(t,e,{side:c?"left":"right",path:c?i.start.path.slice():i.end.path.slice()});break;case mv:var s=i.start.isEqual(e.targetPosition),l=i.start.isEqual(e.deletionPosition),f=i.end.isEqual(e.deletionPosition),h=i.end.isEqual(e.sourcePosition);(s||l||f||h)&&this._setRelation(t,e,{wasInLeftElement:s,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:f,wasInRightElement:h})}}}},{key:"getContext",value:function(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(t){var e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}},{key:"_getRelation",value:function(t,e){var n=this.originalOperations.get(e),r=this._history.getUndoneOperation(n);if(!r)return null;var o=this.originalOperations.get(t),i=this._relations.get(o);return i&&i.get(r)||null}},{key:"_setRelation",value:function(t,e,n){var r=this.originalOperations.get(t),o=this.originalOperations.get(e),i=this._relations.get(r);i||(i=new Map,this._relations.set(r,i)),i.set(o,n)}}])&&UO(e.prototype,n),r&&UO(e,r),t}();function eA(t,e){var n,r=WO(t);try{for(r.s();!(n=r.n()).done;){n.value.baseVersion=e++}}catch(t){r.e(t)}finally{r.f()}}function nA(t,e){for(var n=0;n<e;n++)t.push(new Ob(0))}function rA(t,e,n){var r=t.nodes.getNode(0).getAttribute(e);if(r==n)return null;var o=new Nh(t.position,t.position.getShiftedBy(t.howMany));return new fm(o,e,r,n,0)}function oA(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function iA(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=new Pm(o.start,o.end.offset-o.start.offset,e,0);n.push(i);for(var a=r+1;a<t.length;a++)t[a]=t[a]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];e=e._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return n}function aA(t){return(aA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uA(t,e){return(uA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=fA(t);if(e){var o=fA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lA(this,n)}}function lA(t,e){return!e||"object"!==aA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fA(t){return(fA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}YO(fm,fm,function(t,e,n){if(t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)){var r=t.range.getDifference(e.range).map(function(e){return new fm(e,t.key,t.oldValue,t.newValue,0)}),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&r.push(new fm(o,e.key,e.newValue,t.newValue,0)),0==r.length?[new Ob(0)]:r}return[t]}),YO(fm,zm,function(t,e){if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){var n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(function(e){return new fm(e,t.key,t.oldValue,t.newValue,t.baseVersion)});if(e.shouldReceiveAttributes){var r=rA(e,t.key,t.oldValue);r&&n.unshift(r)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),YO(fm,mv,function(t,e){var n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(Nh._createFromPositionAndShift(e.graveyardPosition,1));var r=t.range._getTransformedByMergeOperation(e);return r.isCollapsed||n.push(r),n.map(function(e){return new fm(e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),YO(fm,Pm,function(t,e){return function(t,e){var n=Nh._createFromPositionAndShift(e.sourcePosition,e.howMany),r=null,o=[];n.containsRange(t,!0)?r=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),r=t.getIntersection(n)):o=[t];var i,a=[],c=WO(o);try{for(c.s();!(i=c.n()).done;){var u=i.value;u=u._getTransformedByDeletion(e.sourcePosition,e.howMany);var s=e.getMovedRangeStart(),l=u.start.hasSameParentAs(s);u=u._getTransformedByInsertion(s,e.howMany,l),a.push.apply(a,HO(u))}}catch(t){c.e(t)}finally{c.f()}r&&a.push(r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return a}(t.range,e).map(function(e){return new fm(e,t.key,t.oldValue,t.newValue,t.baseVersion)})}),YO(fm,xv,function(t,e){if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){var n=t.clone();return n.range=new Nh(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),YO(zm,fm,function(t,e){var n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){var r=rA(t,e.key,e.newValue);r&&n.push(r)}return n}),YO(zm,zm,function(t,e,n){return t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t]}),YO(zm,Pm,function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]}),YO(zm,xv,function(t,e){return t.position=t.position._getTransformedBySplitOperation(e),[t]}),YO(zm,mv,function(t,e){return t.position=t.position._getTransformedByMergeOperation(e),[t]}),YO($m,zm,function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t]}),YO($m,$m,function(t,e,n){if(t.name==e.name){if(!n.aIsStrong)return[new Ob(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),YO($m,mv,function(t,e){return t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t]}),YO($m,Pm,function(t,e,n){if(t.oldRange&&(t.oldRange=Nh._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){var r=Nh._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=r.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=r.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=Nh._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),YO($m,xv,function(t,e,n){if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){var r=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=Ah._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=Ah._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=Ah._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=Ah._createAt(e.insertionPosition):t.newRange.end=r.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),YO(mv,zm,function(t,e){return t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t]}),YO(mv,mv,function(t,e,n){if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){var r=e.graveyardPosition.path.slice();return r.push(0),t.sourcePosition=new Ah(e.graveyardPosition.root,r),t.howMany=0,[t]}return[new Ob(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var o="$graveyard"==t.targetPosition.root.rootName,i="$graveyard"==e.targetPosition.root.rootName;if(i&&!o||!(o&&!i)&&n.aIsStrong){var a=e.targetPosition._getTransformedByMergeOperation(e),c=t.targetPosition._getTransformedByMergeOperation(e);return[new Pm(a,t.howMany,c,0)]}return[new Ob(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),YO(mv,Pm,function(t,e,n){var r=Nh._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.sourcePosition)?[new Ob(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),YO(mv,xv,function(t,e,n){if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){var r=0!=e.howMany,o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(r||o||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),YO(Pm,zm,function(t,e){var n=Nh._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),YO(Pm,Pm,function(t,e,n){var r,o=Nh._createFromPositionAndShift(t.sourcePosition,t.howMany),i=Nh._createFromPositionAndShift(e.sourcePosition,e.howMany),a=n.aIsStrong,c=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?c=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(c=!1),r=t.targetPosition.isEqual(e.targetPosition)&&c?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),oA(t,e)&&oA(e,t))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),iA([o],r);if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),iA([o],r);var u=ao(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==u||"extension"==u)return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),iA([o],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;var s,l=[],f=WO(o.getDifference(i));try{for(f.s();!(s=f.n()).done;){var h=s.value;h.start=h.start._getTransformedByDeletion(e.sourcePosition,e.howMany),h.end=h.end._getTransformedByDeletion(e.sourcePosition,e.howMany);var p="same"==ao(h.start.getParentPath(),e.getMovedRangeStart().getParentPath()),d=h._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,p);l.push.apply(l,HO(d))}}catch(t){f.e(t)}finally{f.f()}var y=o.getIntersection(i);return null!==y&&a&&(y.start=y.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),y.end=y.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(y):1==l.length?i.start.isBefore(o.start)||i.start.isEqual(o.start)?l.unshift(y):l.push(y):l.splice(1,0,y)),0===l.length?[new Ob(t.baseVersion)]:iA(l,r)}),YO(Pm,xv,function(t,e,n){var r=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(r=t.targetPosition._getTransformedBySplitOperation(e));var o=Nh._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=r,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){var i=new Nh(e.splitPosition,o.end);return i=i._getTransformedBySplitOperation(e),iA([new Nh(o.start,e.splitPosition),i],r)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(r=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(r=t.targetPosition);var a=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){var c=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&c&&!n.aWasUndone&&a.push(Nh._createFromPositionAndShift(e.insertionPosition,1))}return iA(a,r)}),YO(Pm,mv,function(t,e,n){var r=Nh._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&r.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Ob(0)]}else if(!n.aWasUndone){var o=[],i=e.graveyardPosition.clone(),a=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(o.push(new Pm(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),a=a._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));var c=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),u=new Pm(i,1,c,0),s=u.getMovedRangeStart().path.slice();s.push(0);var l=new Ah(u.targetPosition.root,s);a=a._getTransformedByMove(i,c,1);var f=new Pm(a,e.howMany,l,0);return o.push(u),o.push(f),o}var h=Nh._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=h.start,t.howMany=h.end.offset-h.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),YO(tv,zm,function(t,e){return t.position=t.position._getTransformedByInsertOperation(e),[t]}),YO(tv,mv,function(t,e){return t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])}),YO(tv,Pm,function(t,e){return t.position=t.position._getTransformedByMoveOperation(e),[t]}),YO(tv,tv,function(t,e,n){if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Ob(0)];t.oldName=e.newName}return[t]}),YO(tv,xv,function(t,e){if("same"==ao(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){var n=new tv(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,n]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),YO(uv,uv,function(t,e,n){if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Ob(0)];t.oldValue=e.newValue}return[t]}),YO(xv,zm,function(t,e){return t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e),[t]}),YO(xv,mv,function(t,e,n){if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){var r=e.graveyardPosition.path.slice();r.push(0);var o=new Ah(e.graveyardPosition.root,r),i=xv.getInsertionPosition(new Ah(e.graveyardPosition.root,r)),a=new xv(o,0,i,null,0);return t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=xv.getInsertionPosition(t.splitPosition),t.graveyardPosition=a.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[a,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=xv.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),YO(xv,Pm,function(t,e,n){var r=Nh._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){var o=r.start.isEqual(t.graveyardPosition)||r.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&o){var i=t.splitPosition._getTransformedByMoveOperation(e),a=t.graveyardPosition._getTransformedByMoveOperation(e),c=a.path.slice();c.push(0);var u=new Ah(a.root,c);return[new Pm(i,t.howMany,u,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}var s=t.splitPosition.isEqual(e.targetPosition);if(s&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=xv.getInsertionPosition(t.splitPosition),[t];if(s&&n.abRelation&&n.abRelation.howMany){var l=n.abRelation,f=l.howMany,h=l.offset;return t.howMany+=f,t.splitPosition=t.splitPosition.getShiftedBy(h),[t]}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(t.splitPosition)){var p=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=p,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=xv.getInsertionPosition(t.splitPosition),[t]}return e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=xv.getInsertionPosition(t.splitPosition),[t]}),YO(xv,xv,function(t,e,n){if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Ob(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Ob(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){var r="$graveyard"==t.splitPosition.root.rootName,o="$graveyard"==e.splitPosition.root.rootName;if(o&&!r||!(r&&!o)&&n.aIsStrong){var i=[];return e.howMany&&i.push(new Pm(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&i.push(new Pm(t.splitPosition,t.howMany,t.moveTargetPosition,0)),i}return[new Ob(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){var a=e.insertionPosition.path.slice();a.push(0);var c=new Ah(e.insertionPosition.root,a);return[t,new Pm(t.insertionPosition,1,c,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=xv.getInsertionPosition(t.splitPosition),[t]});var hA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uA(t,e)}(i,t);var e,n,r,o=sA(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType="click",e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}])&&cA(e.prototype,n),r&&cA(e,r),i}(Ws);function pA(t){return(pA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yA(t,e){return(yA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=bA(t);if(e){var o=bA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vA(this,n)}}function vA(t,e){return!e||"object"!==pA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function bA(t){return(bA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yA(t,e)}(i,t);var e,n,r,o=mA(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType=["mousedown","mouseup","mouseover","mouseout"],e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}])&&dA(e.prototype,n),r&&dA(e,r),i}(Ws);function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var kA=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e}var e,n,r;return e=t,(n=[{key:"createDocumentFragment",value:function(t){return new Qc(this.document,t)}},{key:"createElement",value:function(t,e,n){return new Di(this.document,t,e,n)}},{key:"createText",value:function(t){return new vo(this.document,t)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t._clone(e)}},{key:"appendChild",value:function(t,e){return e._appendChild(t)}},{key:"insertChild",value:function(t,e,n){return n._insertChild(t,e)}},{key:"removeChildren",value:function(t,e,n){return n._removeChildren(t,e)}},{key:"remove",value:function(t){var e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}},{key:"replace",value:function(t,e){var n=t.parent;if(n){var r=n.getChildIndex(t);return this.removeChildren(r,1,n),this.insertChild(r,e,n),!0}return!1}},{key:"unwrapElement",value:function(t){var e=t.parent;if(e){var n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}},{key:"rename",value:function(t,e){var n=new Di(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}},{key:"setAttribute",value:function(t,e,n){n._setAttribute(t,e)}},{key:"removeAttribute",value:function(t,e){e._removeAttribute(t)}},{key:"addClass",value:function(t,e){e._addClass(t)}},{key:"removeClass",value:function(t,e){e._removeClass(t)}},{key:"setStyle",value:function(t,e,n){Me(t)&&void 0===n&&(n=e),n._setStyle(t,e)}},{key:"removeStyle",value:function(t,e){e._removeStyle(t)}},{key:"setCustomProperty",value:function(t,e,n){n._setCustomProperty(t,e)}},{key:"removeCustomProperty",value:function(t,e){return e._removeCustomProperty(t)}},{key:"createPositionAt",value:function(t,e){return da._createAt(t,e)}},{key:"createPositionAfter",value:function(t){return da._createAfter(t)}},{key:"createPositionBefore",value:function(t){return da._createBefore(t)}},{key:"createRange",value:function(t,e){return new ga(t,e)}},{key:"createRangeOn",value:function(t){return ga._createOn(t)}},{key:"createRangeIn",value:function(t){return ga._createIn(t)}},{key:"createSelection",value:function(t,e,n){return new Ea(t,e,n)}}])&&wA(e.prototype,n),r&&wA(e,r),t}();new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","rebeccapurple","currentcolor","transparent"]);function _A(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t)return{top:void 0,right:void 0,bottom:void 0,left:void 0};var e=AA(t),n=e[0],r=e[2]||n,o=e[1]||n,i=e[3]||o;return{top:n,bottom:r,right:o,left:i}}function SA(t){return function(e){var n=e.top,r=e.right,o=e.bottom,i=e.left,a=[];return[n,r,i,o].every(function(t){return!!t})?a.push([t,xA(e)]):(n&&a.push([t+"-top",n]),r&&a.push([t+"-right",r]),o&&a.push([t+"-bottom",o]),i&&a.push([t+"-left",i])),a}}function xA(t){var e=t.top,n=t.right,r=t.bottom,o=t.left,i=[];return o!==n?i.push(e,n,r,o):r!==e?i.push(e,n,r):n!==e?i.push(e,n):i.push(e),i.join(" ")}function OA(t){return function(e){return{path:t,value:_A(e)}}}function AA(t){return t.replace(/, /g,",").split(" ").map(function(t){return t.replace(/,/g,", ")})}function PA(t){t.setNormalizer("margin",OA("margin")),t.setNormalizer("margin-top",function(t){return{path:"margin.top",value:t}}),t.setNormalizer("margin-right",function(t){return{path:"margin.right",value:t}}),t.setNormalizer("margin-bottom",function(t){return{path:"margin.bottom",value:t}}),t.setNormalizer("margin-left",function(t){return{path:"margin.left",value:t}}),t.setReducer("margin",SA("margin")),t.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"])}function EA(t){return(EA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TA(t,e,n){return(TA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=MA(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function jA(t,e){return(jA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=MA(t);if(e){var o=MA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IA(this,n)}}function IA(t,e){return!e||"object"!==EA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MA(t){return(MA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jA(t,e)}(i,t);var e,n,r,o=CA(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).view=e,n._toolbarConfig=Y_(t.config.get("toolbar")),n._elementReplacer=new Kl,n}return e=i,(n=[{key:"init",value:function(t){var e=this.editor,n=this.view,r=e.editing.view,o=n.editable,i=r.document.getRoot();o.name=i.rootName,n.render();var a=o.element;this.setEditableElement(o.name,a),this.focusTracker.add(a),n.editable.bind("isFocused").to(this.focusTracker),r.attachDomRoot(a),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),TA(MA(i.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function(t){var e=t.origin,n=t.originKeystrokeHandler,r=t.originFocusTracker,o=t.toolbar,i=t.beforeFocus,a=t.afterBlur;r.add(o.element),n.set("Alt+F10",function(t,e){r.isFocused&&!o.focusTracker.isFocused&&(i&&i(),o.focus(),e())}),o.keystrokes.set("Esc",function(t,n){o.focusTracker.isFocused&&(e.focus(),a&&a(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}},{key:"_initPlaceholder",value:function(){var t=this.editor,e=t.editing.view,n=e.document.getRoot(),r=t.sourceElement,o=t.config.get("placeholder")||r&&"textarea"===r.tagName.toLowerCase()&&r.getAttribute("placeholder");o&&BO({view:e,element:n,text:o,isDirectHost:!1,keepOnFocus:!0})}},{key:"element",get:function(){return this.view.element}}])&&RA(e.prototype,n),r&&RA(e,r),i}(Bg);n(432);function NA(t){return(NA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LA(t,e,n){return(LA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=UA(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function FA(t,e){return(FA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function VA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=UA(t);if(e){var o=UA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qA(this,n)}}function qA(t,e){return!e||"object"!==NA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UA(t){return(UA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var HA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FA(t,e)}(i,t);var e,n,r,o=VA(i);function i(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return BA(this,i),(n=o.call(this,t)).stickyPanel=new jO(t),n.toolbar=new sS(t,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),n.editable=new Sx(t,e),n}return e=i,(n=[{key:"render",value:function(){LA(UA(i.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}])&&zA(e.prototype,n),r&&zA(e,r),i}(ux);function WA(t){return(WA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GA(t,e,n){return(GA="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ZA(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function KA(t,e){return(KA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function YA(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ZA(t);if(e){var o=ZA(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return JA(this,n)}}function JA(t,e){return!e||"object"!==WA(e)&&"function"!=typeof e?XA(t):e}function XA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZA(t){return(ZA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QA=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KA(t,e)}(i,t);var e,n,r,o=YA(i);function i(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,e),kr(t)&&(n.sourceElement=t),n.model.document.createRoot();var r=!n.config.get("toolbar.shouldNotGroupWhenFull"),a=new HA(n.locale,n.editing.view,{shouldToolbarGroupWhenFull:r});return n.ui=new DA(XA(n),a),function(t){if(!L(t.updateSourceElement))throw new u.a("attachtoform-missing-elementapi-interface",t);var e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){var n,r=e.form,o=function(){return t.updateSourceElement()};L(r.submit)&&(n=r.submit,r.submit=function(){o(),n.apply(r)}),r.addEventListener("submit",o),t.on("destroy",function(){r.removeEventListener("submit",o),n&&(r.submit=n)})}}(XA(n)),n}return e=i,r=[{key:"create",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(r){var o=new e(t,n);r(o.initPlugins().then(function(){return o.ui.init(kr(t)?t:null)}).then(function(){if(!kr(t)&&n.initialData)throw new u.a("editor-create-initial-data",null);var e=void 0!==n.initialData?n.initialData:tP(t);return o.data.init(e)}).then(function(){return o.fire("ready")}).then(function(){return o}))})}}],(n=[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),GA(ZA(i.prototype),"destroy",this).call(this)}}])&&$A(e.prototype,n),r&&$A(e,r),i}(Eg);function tP(t){return kr(t)?(e=t)instanceof HTMLTextAreaElement?e.value:e.innerHTML:t;var e}function eP(t){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nP(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rP(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function rP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iP(t,e){return(iP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=uP(t);if(e){var o=uP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cP(this,n)}}function cP(t,e){return!e||"object"!==eP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uP(t){return(uP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(QA,zg),pe(QA,Lg);var sP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iP(t,e)}(i,t);var e,n,r,o=aP(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).attributeKey=e,n}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,o=r.selection,i=void 0===e.forceValue?!this.value:e.forceValue;n.change(function(e){if(o.isCollapsed)i?e.setSelectionAttribute(t.attributeKey,!0):e.removeSelectionAttribute(t.attributeKey);else{var r,a=nP(n.schema.getValidRanges(o.getRanges(),t.attributeKey));try{for(a.s();!(r=a.n()).done;){var c=r.value;i?e.setAttribute(t.attributeKey,i,c):e.removeAttribute(t.attributeKey,c)}}catch(t){a.e(t)}finally{a.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var r,o=nP(n.getRanges());try{for(o.s();!(r=o.n()).done;){var i,a=nP(r.value.getItems());try{for(a.s();!(i=a.n()).done;){var c=i.value;if(e.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey)}}catch(t){a.e(t)}finally{a.f()}}}catch(t){o.e(t)}finally{o.f()}return!1}}])&&oP(e.prototype,n),r&&oP(e,r),i}(be);function lP(t){return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pP(t,e){return(pP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=mP(t);if(e){var o=mP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yP(this,n)}}function yP(t,e){return!e||"object"!==lP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mP(t){return(mP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pP(t,e)}(i,t);var e,n,r,o=dP(i);function i(){return fP(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"BoldEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(t){var e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new sP(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}])&&hP(e.prototype,n),r&&hP(e,r),i}(ye);function bP(t){return(bP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kP(t,e){return(kP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=xP(t);if(e){var o=xP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SP(this,n)}}function SP(t,e){return!e||"object"!==bP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xP(t){return(xP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kP(t,e)}(i,t);var e,n,r,o=_P(i);function i(){return gP(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"BoldUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("bold",function(r){var o=e.commands.get("bold"),i=new Nk(r);return i.set({label:n("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",function(){e.execute("bold"),e.editing.view.focus()}),i})}}])&&wP(e.prototype,n),r&&wP(e,r),i}(ye);function AP(t){return(AP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RP(t,e){return(RP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=CP(t);if(e){var o=CP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jP(this,n)}}function jP(t,e){return!e||"object"!==AP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CP(t){return(CP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RP(t,e)}(i,t);var e,n,r,o=TP(i);function i(){return PP(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[vP,OP]}},{key:"pluginName",get:function(){return"Bold"}}],(n=null)&&EP(e.prototype,n),r&&EP(e,r),i}(ye);function MP(t){return(MP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BP(t,e){return(BP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zP(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=FP(t);if(e){var o=FP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LP(this,n)}}function LP(t,e){return!e||"object"!==MP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FP(t){return(FP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var VP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BP(t,e)}(i,t);var e,n,r,o=zP(i);function i(){return DP(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ItalicEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new sP(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}])&&NP(e.prototype,n),r&&NP(e,r),i}(ye);function qP(t){return(qP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WP(t,e){return(WP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=KP(t);if(e){var o=KP(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GP(this,n)}}function GP(t,e){return!e||"object"!==qP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KP(t){return(KP=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YP=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WP(t,e)}(i,t);var e,n,r,o=$P(i);function i(){return UP(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ItalicUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("italic",function(r){var o=e.commands.get("italic"),i=new Nk(r);return i.set({label:n("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",function(){e.execute("italic"),e.editing.view.focus()}),i})}}])&&HP(e.prototype,n),r&&HP(e,r),i}(ye);function JP(t){return(JP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XP(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QP(t,e){return(QP=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=nE(t);if(e){var o=nE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eE(this,n)}}function eE(t,e){return!e||"object"!==JP(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nE(t){return(nE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QP(t,e)}(i,t);var e,n,r,o=tE(i);function i(){return XP(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[VP,YP]}},{key:"pluginName",get:function(){return"Italic"}}],(n=null)&&ZP(e.prototype,n),r&&ZP(e,r),i}(ye),oE=regeneratorRuntime.mark(cE);function iE(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function aE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cE(t,e){var n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=iE(e),i.prev=1,n.s();case 3:if((r=n.n()).done){i.next=10;break}if(!(o=r.value)||!t.getAttributeProperties(o[0]).copyOnEnter){i.next=8;break}return i.next=8,o;case 8:i.next=3;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i.catch(1),n.e(i.t0);case 15:return i.prev=15,n.f(),i.finish(15);case 18:case"end":return i.stop()}},oE,null,[[1,12,15,18]])}function uE(t){return(uE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fE(t,e){return(fE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=dE(t);if(e){var o=dE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pE(this,n)}}function pE(t,e){return!e||"object"!==uE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dE(t){return(dE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fE(t,e)}(i,t);var e,n,r,o=hE(i);function i(){return sE(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document;e.change(function(r){!function(t,e,n,r){var o=n.isCollapsed,i=n.getFirstRange(),a=i.start.parent,c=i.end.parent;if(r.isLimit(a)||r.isLimit(c))o||a!=c||t.deleteContent(n);else if(o){var u=cE(e.model.schema,n.getAttributes());mE(e,i.start),e.setSelectionAttribute(u)}else{var s=!(i.start.isAtStart&&i.end.isAtEnd),l=a==c;t.deleteContent(n,{leaveUnmerged:s}),s&&(l?mE(e,n.focus):e.setSelection(c,0))}}(t.editor.model,r,n.selection,e.schema),t.fire("afterExecute",{writer:r})})}}])&&lE(e.prototype,n),r&&lE(e,r),i}(be);function mE(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}function vE(t){return(vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gE(t,e){return(gE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=_E(t);if(e){var o=_E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kE(this,n)}}function kE(t,e){return!e||"object"!==vE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _E(t){return(_E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gE(t,e)}(i,t);var e,n,r,o=wE(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(e=o.call(this,t)).document;return n.on("keydown",function(t,r){if(e.isEnabled&&r.keyCode==xc.enter){var o=new za(n,"enter",n.selection.getFirstRange());n.fire(o,new zs(n,r.domEvent,{isSoft:r.shiftKey})),o.stop.called&&t.stop()}}),e}return e=i,(n=[{key:"observe",value:function(){}}])&&bE(e.prototype,n),r&&bE(e,r),i}(cs);function xE(t){return(xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PE(t,e){return(PE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function EE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=TE(t);if(e){var o=TE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RE(this,n)}}function RE(t,e){return!e||"object"!==xE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TE(t){return(TE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PE(t,e)}(i,t);var e,n,r,o=EE(i);function i(){return OE(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Enter"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.editing.view,n=e.document;e.addObserver(SE),t.commands.add("enter",new yE(t)),this.listenTo(n,"enter",function(n,r){r.preventDefault(),r.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}])&&AE(e.prototype,n),r&&AE(e,r),i}(ye);function CE(t){return(CE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function IE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ME(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DE(t,e){return(DE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function NE(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=zE(t);if(e){var o=zE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return BE(this,n)}}function BE(t,e){return!e||"object"!==CE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function zE(t){return(zE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var LE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&DE(t,e)}(i,t);var e,n,r,o=NE(i);function i(){return IE(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document;e.change(function(r){!function(t,e,n){var r=n.isCollapsed,o=n.getFirstRange(),i=o.start.parent,a=o.end.parent,c=i==a;if(r){var u=cE(t.schema,n.getAttributes());FE(t,e,o.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(u)}else{var s=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:s}),c?FE(t,e,n.focus):s&&e.setSelection(a,0)}}(e,r,n.selection),t.fire("afterExecute",{writer:r})})}},{key:"refresh",value:function(){var t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;var n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;var r=e.getFirstRange(),o=r.start.parent,i=r.end.parent;return!VE(o,t)&&!VE(i,t)||o===i}(t.schema,e.selection)}}])&&ME(e.prototype,n),r&&ME(e,r),i}(be);function FE(t,e,n){var r=e.createElement("softBreak");t.insertContent(r,n),e.setSelection(r,"after")}function VE(t,e){return!t.is("rootElement")&&(e.isLimit(t)||VE(t.parent,e))}function qE(t){return(qE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WE(t,e){return(WE=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=KE(t);if(e){var o=KE(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return GE(this,n)}}function GE(t,e){return!e||"object"!==qE(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function KE(t){return(KE=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YE=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&WE(t,e)}(i,t);var e,n,r,o=$E(i);function i(){return UE(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ShiftEnter"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.model.schema,n=t.conversion,r=t.editing.view,o=r.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:function(t,e){return e.writer.createEmptyElement("br")}}),r.addObserver(SE),t.commands.add("shiftEnter",new LE(t)),this.listenTo(o,"enter",function(e,n){n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),r.scrollToTheSelection())},{priority:"low"})}}])&&HE(e.prototype,n),r&&HE(e,r),i}(ye);function JE(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return XE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XE(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function XE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZE(t){var e,n=t.t,r=t.config.get("codeBlock.languages"),o=JE(r);try{for(o.s();!(e=o.n()).done;){var i=e.value;"Plain text"===i.label&&(i.label=n("Plain text")),void 0===i.class&&(i.class="language-".concat(i.language))}}catch(t){o.e(t)}finally{o.f()}return r}function QE(t,e,n){var r,o={},i=JE(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;"class"===e?o[a[e].split(" ").shift()]=a[n]:o[a[e]]=a[n]}}catch(t){i.e(t)}finally{i.f()}return o}function tR(t){return t.data.match(/^(\s*)/)[0]}function eR(t){var e=t.document.selection,n=[];if(e.isCollapsed)n.push(e.anchor);else{var r,o=JE(e.getFirstRange().getWalker({ignoreElementEnd:!0,direction:"backward"}));try{for(o.s();!(r=o.n()).done;){var i=r.value.item;if(i.is("$textProxy")&&i.parent.is("element","codeBlock")){var a=tR(i.textNode),c=i.textNode,u=c.parent,s=c.startOffset,l=t.createPositionAt(u,s+a.length);n.push(l)}}}catch(t){o.e(t)}finally{o.f()}}return n}function nR(t){var e=mf(t.getSelectedBlocks());return e&&e.is("element","codeBlock")}function rR(t){return(rR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oR(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return iR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iR(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function iR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cR(t,e){return(cR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=lR(t);if(e){var o=lR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sR(this,n)}}function sR(t,e){return!e||"object"!==rR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lR(t){return(lR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cR(t,e)}(i,t);var e,n,r,o=uR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._lastLanguage=null,e}return e=i,(n=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.model,o=r.document.selection,i=ZE(n),a=i[0],c=Array.from(o.getSelectedBlocks()),u=void 0===e.forceValue?!this.value:e.forceValue,s=pR(e,this._lastLanguage,a.language);r.change(function(e){u?t._applyCodeBlock(e,c,s):t._removeCodeBlock(e,c)})}},{key:"_getValue",value:function(){var t=mf(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!t.is("element","codeBlock"))&&t.getAttribute("language")}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=mf(t.getSelectedBlocks());return!!n&&hR(e,n)}},{key:"_applyCodeBlock",value:function(t,e,n){this._lastLanguage=n;var r,o=this.editor.model.schema,i=e.filter(function(t){return hR(o,t)}),a=oR(i);try{var c=function(){var e=r.value;t.rename(e,"codeBlock"),t.setAttribute("language",n,e),o.removeDisallowedAttributes([e],t),Array.from(e.getChildren()).filter(function(t){return!o.checkChild(e,t)}).forEach(function(e){return t.remove(e)})};for(a.s();!(r=a.n()).done;)c()}catch(t){a.e(t)}finally{a.f()}i.reverse().forEach(function(e,n){var r=i[n+1];e.previousSibling===r&&(t.appendElement("softBreak",r),t.merge(t.createPositionBefore(e)))})}},{key:"_removeCodeBlock",value:function(t,e){var n,r=oR(e.filter(function(t){return t.is("element","codeBlock")}));try{for(r.s();!(n=r.n()).done;){var o,i=n.value,a=t.createRangeOn(i),c=oR(Array.from(a.getItems()).reverse());try{for(c.s();!(o=c.n()).done;){var u=o.value;if(u.is("element","softBreak")&&u.parent.is("element","codeBlock")){var s=t.split(t.createPositionBefore(u)).position;t.rename(s.nodeAfter,"paragraph"),t.removeAttribute("language",s.nodeAfter),t.remove(u)}}}catch(t){c.e(t)}finally{c.f()}t.rename(i,"paragraph"),t.removeAttribute("language",i)}}catch(t){r.e(t)}finally{r.f()}}}])&&aR(e.prototype,n),r&&aR(e,r),i}(be);function hR(t,e){return!e.is("rootElement")&&!t.isLimit(e)&&t.checkChild(e.parent,"codeBlock")}function pR(t,e,n){return t.language?t.language:t.usePreviousLanguageChoice&&e?e:n}function dR(t){return(dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yR(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mR(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function mR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bR(t,e){return(bR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=kR(t);if(e){var o=kR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wR(this,n)}}function wR(t,e){return!e||"object"!==dR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kR(t){return(kR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bR(t,e)}(i,t);var e,n,r,o=gR(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._indentSequence=t.config.get("codeBlock.indentSequence"),e}return e=i,(n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=this.editor.model;e.change(function(n){var r,o=yR(eR(e));try{for(o.s();!(r=o.n()).done;){var i=r.value;n.insertText(t._indentSequence,i)}}catch(t){o.e(t)}finally{o.f()}})}},{key:"_checkEnabled",value:function(){return!!this._indentSequence&&nR(this.editor.model.document.selection)}}])&&vR(e.prototype,n),r&&vR(e,r),i}(be);function SR(t){return(SR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xR(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function OR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PR(t,e){return(PR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ER(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=TR(t);if(e){var o=TR(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RR(this,n)}}function RR(t,e){return!e||"object"!==SR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TR(t){return(TR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PR(t,e)}(i,t);var e,n,r,o=ER(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._indentSequence=t.config.get("codeBlock.indentSequence"),e}return e=i,(n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=this.editor.model;e.change(function(n){var r,o=xR(eR(e));try{for(o.s();!(r=o.n()).done;){var i=r.value,a=CR(t.editor.model,i,t._indentSequence);a&&n.remove(a)}}catch(t){o.e(t)}finally{o.f()}})}},{key:"_checkEnabled",value:function(){var t=this;if(!this._indentSequence)return!1;var e=this.editor.model;return!!nR(e.document.selection)&&eR(e).some(function(n){return CR(e,n,t._indentSequence)})}}])&&AR(e.prototype,n),r&&AR(e,r),i}(be);function CR(t,e,n){var r=function(t){var e=t.parent.getChild(t.index);e&&!e.is("element","softBreak")||(e=t.nodeBefore);if(!e||e.is("element","softBreak"))return null;return e}(e);if(!r)return null;var o=tR(r),i=o.lastIndexOf(n);if(i+n.length!==o.length)return null;if(-1===i)return null;var a=r.parent,c=r.startOffset;return t.createRange(t.createPositionAt(a,c+i),t.createPositionAt(a,c+i+n.length))}function IR(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=DR(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function MR(t){return function(t){if(Array.isArray(t))return NR(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||DR(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DR(t,e){if(t){if("string"==typeof t)return NR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NR(t,e):void 0}}function NR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BR(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=QE(e,"language","class"),o=QE(e,"language","label");return function(e,i,a){var c=a.writer,u=a.mapper;if(a.consumable.consume(i.item,"insert")){var s=i.item.getAttribute("language"),l=u.toViewPosition(t.createPositionBefore(i.item)),f={};n&&(f["data-language"]=o[s],f.spellcheck="false");var h=c.createContainerElement("pre",f),p=c.createContainerElement("code",{class:r[s]||null});c.insert(c.createPositionAt(h,0),p),c.insert(l,h),u.bindElements(i.item,p)}}}function zR(t){return(zR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return FR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FR(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qR(t,e,n){return e&&VR(t.prototype,e),n&&VR(t,n),t}function UR(t,e){return(UR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function HR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=$R(t);if(e){var o=$R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WR(this,n)}}function WR(t,e){return!e||"object"!==zR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $R(t){return($R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var GR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UR(t,e)}(n,t);var e=HR(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=e.call(this,t),t.config.define("codeBlock",{languages:[{language:"plaintext",label:"Plain text"},{language:"c",label:"C"},{language:"cs",label:"C#"},{language:"cpp",label:"C++"},{language:"css",label:"CSS"},{language:"diff",label:"Diff"},{language:"html",label:"HTML"},{language:"java",label:"Java"},{language:"javascript",label:"JavaScript"},{language:"php",label:"PHP"},{language:"python",label:"Python"},{language:"ruby",label:"Ruby"},{language:"typescript",label:"TypeScript"},{language:"xml",label:"XML"}],indentSequence:"\t"}),r}return qR(n,null,[{key:"pluginName",get:function(){return"CodeBlockEditing"}},{key:"requires",get:function(){return[YE]}}]),qR(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.model.schema,r=e.model,o=(e.editing.view,ZE(e));e.commands.add("codeBlock",new fR(e)),e.commands.add("indentCodeBlock",new _R(e)),e.commands.add("outdentCodeBlock",new jR(e));var i,a,c,u=function(e){return function(n,r){t.editor.commands.get(e).isEnabled&&(t.editor.execute(e),r())}};e.keystrokes.set("Tab",u("indentCodeBlock")),e.keystrokes.set("Shift+Tab",u("outdentCodeBlock")),n.register("codeBlock",{allowWhere:"$block",allowChildren:"$text",isBlock:!0,allowAttributes:["language"]}),n.addAttributeCheck(function(t){if(t.endsWith("codeBlock $text"))return!1}),e.model.schema.addChildCheck(function(t,e){if(t.endsWith("codeBlock")&&e.isObject)return!1}),e.editing.downcastDispatcher.on("insert:codeBlock",BR(r,o,!0)),e.data.downcastDispatcher.on("insert:codeBlock",BR(r,o)),e.data.downcastDispatcher.on("insert:softBreak",function(t){return function(e,n,r){if("codeBlock"===n.item.parent.name){var o=r.writer,i=r.mapper;if(r.consumable.consume(n.item,"insert")){var a=i.toViewPosition(t.createPositionBefore(n.item));o.insert(a,o.createText("\n"))}}}}(r),{priority:"high"}),e.data.upcastDispatcher.on("element:code",(a=QE(i=o,"class","language"),c=i[0].language,function(t,e,n){var r=e.viewItem,o=r.parent;if(o&&o.is("element","pre")&&!e.modelCursor.findAncestor("codeBlock")){var i=n.consumable,u=n.writer;if(i.test(r,{name:!0})){var s=u.createElement("codeBlock"),l=MR(r.getClassNames());l.length||l.push("");var f,h=IR(l);try{for(h.s();!(f=h.n()).done;){var p=f.value,d=a[p];if(d){u.setAttribute("language",d,s);break}}}catch(t){h.e(t)}finally{h.f()}s.hasAttribute("language")||u.setAttribute("language",c,s),n.convertChildren(r,s),n.safeInsert(s,e.modelCursor)&&(i.consume(r,{name:!0}),n.updateConversionResult(s,e))}}})),e.data.upcastDispatcher.on("text",function(t,e,n){var r=n.consumable,o=n.writer,i=e.modelCursor;if(r.test(e.viewItem)&&i.findAncestor("codeBlock")){r.consume(e.viewItem);var a,c=e.viewItem.data.split("\n").map(function(t){return o.createText(t)}),u=c[c.length-1],s=IR(c);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(o.insert(l,i),i=i.getShiftedBy(l.offsetSize),l!==u){var f=o.createElement("softBreak");o.insert(f,i),i=o.createPositionAfter(f)}}}catch(t){s.e(t)}finally{s.f()}e.modelRange=o.createRange(e.modelCursor,i),e.modelCursor=i}}),this.listenTo(e.editing.view.document,"clipboardInput",function(t,n){var o=r.createRange(r.document.selection.anchor);if(n.targetRanges&&(o=e.editing.mapper.toModelRange(n.targetRanges[0])),o.start.parent.is("element","codeBlock")){var i=n.dataTransfer.getData("text/plain"),a=new kA(e.editing.view.document);n.content=function(t,e){var n=t.createDocumentFragment(),r=e.split("\n"),o=r.reduce(function(e,n,o){return e.push(n),o<r.length-1&&e.push(t.createElement("br")),e},[]);return t.appendChild(o,n),n}(a,i)}}),this.listenTo(r,"getSelectedContent",function(t,e){var o=LR(e,1)[0],i=o.anchor;!o.isCollapsed&&i.parent.is("element","codeBlock")&&i.hasSameParentAs(o.focus)&&r.change(function(e){var r=t.return;if(r.childCount>1||o.containsEntireContent(i.parent)){var a=e.createElement("codeBlock",i.parent.getAttributes());e.append(r,a);var c=e.createDocumentFragment();e.append(a,c),t.return=c}else{var u=r.getChild(0);n.checkAttribute(u,"code")&&e.setAttribute("code",!0,u)}})})}},{key:"afterInit",value:function(){var t=this.editor,e=t.commands,n=e.get("indent"),r=e.get("outdent");n&&n.registerChildCommand(e.get("indentCodeBlock")),r&&r.registerChildCommand(e.get("outdentCodeBlock")),this.listenTo(t.editing.view.document,"enter",function(e,n){t.model.document.selection.getLastPosition().parent.is("element","codeBlock")&&(function(t,e){var n=t.model.document,r=t.editing.view,o=n.selection.getLastPosition(),i=o.nodeAfter;if(e||!n.selection.isCollapsed||!o.isAtStart)return!1;if(!i||!i.is("element","softBreak"))return!1;return t.model.change(function(e){t.execute("enter");var r=n.selection.anchor.parent.previousSibling;e.rename(r,"paragraph"),e.setSelection(r,"in"),t.model.schema.removeDisallowedAttributes([r],e),e.remove(i)}),r.scrollToTheSelection(),!0}(t,n.isSoft)||function(t,e){var n,r=t.model,o=r.document,i=t.editing.view,a=o.selection.getLastPosition(),c=a.nodeBefore;if(e||!o.selection.isCollapsed||!a.isAtEnd||!c)return!1;if(c.is("element","softBreak"))n=r.createRangeOn(c);else{if(!c.is("$text")||c.data.match(/\S/)||!c.previousSibling||!c.previousSibling.is("element","softBreak"))return!1;n=r.createRange(r.createPositionBefore(c.previousSibling),r.createPositionAfter(c))}return t.model.change(function(e){e.remove(n),t.execute("enter");var r=o.selection.anchor.parent;e.rename(r,"paragraph"),t.model.schema.removeDisallowedAttributes([r],e)}),i.scrollToTheSelection(),!0}(t,n.isSoft)||function(t){var e,n=t.model.document,r=n.selection.getLastPosition(),o=r.nodeBefore||r.textNode;o&&o.is("$text")&&(e=tR(o));t.model.change(function(r){t.execute("shiftEnter"),e&&r.insertText(e,n.selection.anchor)})}(t),n.preventDefault(),e.stop())},{context:"pre"})}}]),n}(ye);n(434);function KR(t){return(KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YR(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return JR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function JR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QR(t,e){return(QR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=nT(t);if(e){var o=nT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eT(this,n)}}function eT(t,e){return!e||"object"!==KR(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nT(t){return(nT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QR(t,e)}(i,t);var e,n,r,o=tT(i);function i(){return XR(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"CodeBlockUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t,r=e.ui.componentFactory,o=ZE(e);r.add("codeBlock",function(r){var i=e.commands.get("codeBlock"),a=zS(r,p_),c=a.buttonView;return c.set({label:n("Insert code block"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',isToggleable:!0}),c.bind("isOn").to(i,"value",function(t){return!!t}),c.on("execute",function(){e.execute("codeBlock",{usePreviousLanguageChoice:!0}),e.editing.view.focus()}),a.on("execute",function(t){e.execute("codeBlock",{language:t.source._codeBlockLanguage,forceValue:!0}),e.editing.view.focus()}),a.class="ck-code-block-dropdown",a.bind("isEnabled").to(i),FS(a,t._getLanguageListItemDefinitions(o)),a})}},{key:"_getLanguageListItemDefinitions",value:function(t){var e,n=this.editor.commands.get("codeBlock"),r=new Dr,o=YR(t);try{var i=function(){var t=e.value,o={type:"button",model:new Jx({_codeBlockLanguage:t.language,label:t.label,withText:!0})};o.model.bind("isOn").to(n,"value",function(t){return t===o.model._codeBlockLanguage}),r.add(o)};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return r}}])&&ZR(e.prototype,n),r&&ZR(e,r),i}(ye);function oT(t){return(oT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function iT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cT(t,e){return(cT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=lT(t);if(e){var o=lT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sT(this,n)}}function sT(t,e){return!e||"object"!==oT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lT(t){return(lT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cT(t,e)}(i,t);var e,n,r,o=uT(i);function i(){return iT(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[GR,rT]}},{key:"pluginName",get:function(){return"CodeBlock"}}],(n=null)&&aT(e.prototype,n),r&&aT(e,r),i}(ye);function hT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pT=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.files=function(t){var e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];if(e.length)return e;return n.filter(function(t){return"file"===t.kind}).map(function(t){return t.getAsFile()})}(e),this._native=e}var e,n,r;return e=t,(n=[{key:"getData",value:function(t){return this._native.getData(t)}},{key:"setData",value:function(t,e){this._native.setData(t,e)}},{key:"types",get:function(){return this._native.types}},{key:"effectAllowed",set:function(t){this._native.effectAllowed=t},get:function(){return this._native.effectAllowed}},{key:"dropEffect",set:function(t){this._native.dropEffect=t},get:function(){return this._native.dropEffect}},{key:"isCanceled",get:function(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}])&&hT(e.prototype,n),r&&hT(e,r),t}();function dT(t){return(dT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mT(t,e){return(mT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=gT(t);if(e){var o=gT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bT(this,n)}}function bT(t,e){return!e||"object"!==dT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gT(t){return(gT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mT(t,e)}(a,t);var e,n,r,i=vT(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(e=i.call(this,t)).document;function r(t){return function(e,r){r.preventDefault();var i=r.dropRange?[r.dropRange]:null,a=new o(n,t);n.fire(a,{dataTransfer:r.dataTransfer,method:e.name,targetRanges:i,target:r.target}),a.stop.called&&r.stopPropagation()}}return e.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],e.listenTo(n,"paste",r("clipboardInput"),{priority:"low"}),e.listenTo(n,"drop",r("clipboardInput"),{priority:"low"}),e.listenTo(n,"dragover",r("dragging"),{priority:"low"}),e}return e=a,(n=[{key:"onDomEvent",value:function(t){var e={dataTransfer:new pT(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"!=t.type&&"dragover"!=t.type||(e.dropRange=function(t,e){var n,r=e.target.ownerDocument,o=e.clientX,i=e.clientY;return r.caretRangeFromPoint&&r.caretRangeFromPoint(o,i)?n=r.caretRangeFromPoint(o,i):e.rangeParent&&((n=r.createRange()).setStart(e.rangeParent,e.rangeOffset),n.collapse(!0)),n?t.domConverter.domRangeToView(n):null}(this.view,t)),this.fire(t.type,t,e)}}])&&yT(e.prototype,n),r&&yT(e,r),a}(Ws);function kT(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _T(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function _T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ST=["figcaption","li"];function xT(t){return(xT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PT(t,e){return(PT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ET(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=TT(t);if(e){var o=TT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RT(this,n)}}function RT(t,e){return!e||"object"!==xT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TT(t){return(TT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PT(t,e)}(a,t);var e,n,r,i=ET(a);function a(){return OT(this,a),i.apply(this,arguments)}return e=a,r=[{key:"pluginName",get:function(){return"ClipboardPipeline"}}],(n=[{key:"init",value:function(){this.editor.editing.view.addObserver(wT),this._setupPasteDrop(),this._setupCopyCut()}},{key:"_setupPasteDrop",value:function(){var t=this,e=this.editor,n=e.model,r=e.editing.view,i=r.document;this.listenTo(i,"clipboardInput",function(t){e.isReadOnly&&t.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",function(e,n){var i,a=n.dataTransfer,c=n.content||"";c||(a.getData("text/html")?c=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(t,e){return 1==e.length?" ":e})}(a.getData("text/html")):a.getData("text/plain")&&(((i=(i=a.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||i.includes("<br>"))&&(i="<p>".concat(i,"</p>")),c=i),c=t.editor.data.htmlProcessor.toView(c));var u=new o(t,"inputTransformation");t.fire(u,{content:c,dataTransfer:a,targetRanges:n.targetRanges,method:n.method}),u.stop.called&&e.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(e,r){if(!r.content.isEmpty){var o=t.editor.data.toModel(r.content,"$clipboardHolder");0!=o.childCount&&(e.stop(),n.change(function(){t.fire("contentInsertion",{content:o,method:r.method,dataTransfer:r.dataTransfer,targetRanges:r.targetRanges})}))}},{priority:"low"}),this.listenTo(this,"contentInsertion",function(t,e){e.resultRange=n.insertContent(e.content)},{priority:"low"})}},{key:"_setupCopyCut",value:function(){var t=this,e=this.editor,n=e.model.document,r=e.editing.view.document;function o(t,o){var i=o.dataTransfer;o.preventDefault();var a=e.data.toView(e.model.getSelectedContent(n.selection));r.fire("clipboardOutput",{dataTransfer:i,content:a,method:t.name})}this.listenTo(r,"copy",o,{priority:"low"}),this.listenTo(r,"cut",function(t,n){e.isReadOnly?n.preventDefault():o(t,n)},{priority:"low"}),this.listenTo(r,"clipboardOutput",function(r,o){o.content.isEmpty||(o.dataTransfer.setData("text/html",t.editor.data.htmlProcessor.toData(o.content)),o.dataTransfer.setData("text/plain",function t(e){var n="";if(e.is("$text")||e.is("$textProxy"))n=e.data;else if(e.is("element","img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else if(e.is("element","br"))n="\n";else{var r,o=null,i=kT(e.getChildren());try{for(i.s();!(r=i.n()).done;){var a=r.value,c=t(a);o&&(o.is("containerElement")||a.is("containerElement"))&&(ST.includes(o.name)||ST.includes(a.name)?n+="\n":n+="\n\n"),n+=c,o=a}}catch(t){i.e(t)}finally{i.f()}}return n}(o.content))),"cut"==o.method&&e.model.deleteContent(n.selection)},{priority:"low"})}}])&&AT(e.prototype,n),r&&AT(e,r),a}(ye);function CT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var MT=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;CT(this,t),this.model=e,this.size=0,this.limit=r,this.isLocked=!1,this._changeCallback=function(t,e){"transparent"!=e.type&&e!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}var e,n,r;return e=t,(n=[{key:"input",value:function(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(t){this.isLocked&&!t||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}])&&IT(e.prototype,n),r&&IT(e,r),t}();function DT(t){return(DT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BT(t,e){return(BT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=FT(t);if(e){var o=FT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LT(this,n)}}function LT(t,e){return!e||"object"!==DT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FT(t){return(FT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var VT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BT(t,e)}(i,t);var e,n,r,o=zT(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).direction=e,n._buffer=new MT(t.model,t.config.get("typing.undoStep")),n}return e=i,(n=[{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document;n.enqueueChange(this._buffer.batch,function(o){t._buffer.lock();var i=o.createSelection(e.selection||r.selection),a=e.sequence||1,c=i.isCollapsed;if(i.isCollapsed&&n.modifySelection(i,{direction:t.direction,unit:e.unit}),t._shouldEntireContentBeReplacedWithParagraph(a))t._replaceEntireContentWithParagraph(o);else if(t._shouldReplaceFirstBlockWithParagraph(i,a))t.editor.execute("paragraph",{selection:i});else if(!i.isCollapsed){var u=0;i.getFirstRange().getMinimalFlatRanges().forEach(function(t){u+=Sa(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),n.deleteContent(i,{doNotResetEntireContent:c,direction:t.direction}),t._buffer.input(u),o.setSelection(i),t._buffer.unlock()}})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(t){if(t>1)return!1;var e=this.editor.model,n=e.document.selection,r=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(r))return!1;if(!e.schema.checkChild(r,"paragraph"))return!1;var o=r.getChild(0);return!o||"paragraph"!==o.name}},{key:"_replaceEntireContentWithParagraph",value:function(t){var e=this.editor.model,n=e.document.selection,r=e.schema.getLimitElement(n),o=t.createElement("paragraph");t.remove(t.createRangeIn(r)),t.insert(o,r),t.setSelection(o,0)}},{key:"_shouldReplaceFirstBlockWithParagraph",value:function(t,e){var n=this.editor.model;if(e>1||"backward"!=this.direction)return!1;if(!t.isCollapsed)return!1;var r=t.getFirstPosition(),o=n.schema.getLimitElement(r),i=o.getChild(0);return r.parent==i&&!!t.containsEntireContent(i)&&!!n.schema.checkChild(o,"paragraph")&&"paragraph"!=i.name}},{key:"buffer",get:function(){return this._buffer}}])&&NT(e.prototype,n),r&&NT(e,r),i}(be);function qT(t){return(qT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HT(t,e){return(HT=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WT(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=GT(t);if(e){var o=GT(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $T(this,n)}}function $T(t,e){return!e||"object"!==qT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GT(t){return(GT=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var KT=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HT(t,e)}(i,t);var e,n,r,o=WT(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var n=t.document,r=0;function a(t,e,r){var o=new za(n,"delete",n.selection.getFirstRange());n.fire(o,new zs(n,e,r)),o.stop.called&&t.stop()}return n.on("keyup",function(t,e){e.keyCode!=xc.delete&&e.keyCode!=xc.backspace||(r=0)}),n.on("keydown",function(t,e){var n={};if(e.keyCode==xc.delete)n.direction="forward",n.unit="character";else{if(e.keyCode!=xc.backspace)return;n.direction="backward",n.unit="codePoint"}var o=gc.isMac?e.altKey:e.ctrlKey;n.unit=o?"word":n.unit,n.sequence=++r,a(t,e.domEvent,n)}),gc.isAndroid&&n.on("beforeinput",function(e,n){if("deleteContentBackward"==n.domEvent.inputType){var r={unit:"codepoint",direction:"backward",sequence:1},o=n.domTarget.ownerDocument.defaultView.getSelection();o.anchorNode==o.focusNode&&o.anchorOffset+1!=o.focusOffset&&(r.selectionToRemove=t.domConverter.domSelectionToView(o)),a(e,n.domEvent,r)}}),e}return e=i,(n=[{key:"observe",value:function(){}}])&&UT(e.prototype,n),r&&UT(e,r),i}(cs);function YT(t){return(YT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JT(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return XT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XT(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function XT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tj(t,e){return(tj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ej(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=rj(t);if(e){var o=rj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nj(this,n)}}function nj(t,e){return!e||"object"!==YT(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rj(t){return(rj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tj(t,e)}(i,t);var e,n,r,o=ej(i);function i(){return ZT(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Delete"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.editing.view,n=e.document;e.addObserver(KT);var r=new VT(t,"forward");if(t.commands.add("deleteForward",r),t.commands.add("forwardDelete",r),t.commands.add("delete",new VT(t,"backward")),this.listenTo(n,"delete",function(n,r){var o={unit:r.unit,sequence:r.sequence};if(r.selectionToRemove){var i,a=t.model.createSelection(),c=[],u=JT(r.selectionToRemove.getRanges());try{for(u.s();!(i=u.n()).done;){var s=i.value;c.push(t.editing.mapper.toModelRange(s))}}catch(t){u.e(t)}finally{u.f()}a.setTo(c),o.selection=a}t.execute("forward"==r.direction?"deleteForward":"delete",o),r.preventDefault(),e.scrollToTheSelection()},{priority:"low"}),gc.isAndroid){var o=null;this.listenTo(n,"delete",function(t,e){var n=e.domTarget.ownerDocument.defaultView.getSelection();o={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",function(t,e){if(o){var n=e.domTarget.ownerDocument.defaultView.getSelection();n.collapse(o.anchorNode,o.anchorOffset),n.extend(o.focusNode,o.focusOffset),o=null}})}}}])&&QT(e.prototype,n),r&&QT(e,r),i}(ye);function ij(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var aj=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._stack=[]}var e,n,r;return e=t,(n=[{key:"add",value:function(t,e){var n=this._stack,r=n[0];this._insertDescriptor(t);var o=n[0];r===o||cj(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:e})}},{key:"remove",value:function(t,e){var n=this._stack,r=n[0];this._removeDescriptor(t);var o=n[0];r===o||cj(r,o)||this.fire("change:top",{oldDescriptor:r,newDescriptor:o,writer:e})}},{key:"_insertDescriptor",value:function(t){var e=this._stack,n=e.findIndex(function(e){return e.id===t.id});if(!cj(t,e[n])){n>-1&&e.splice(n,1);for(var r=0;e[r]&&uj(e[r],t);)r++;e.splice(r,0,t)}}},{key:"_removeDescriptor",value:function(t){var e=this._stack,n=e.findIndex(function(e){return e.id===t});n>-1&&e.splice(n,1)}}])&&ij(e.prototype,n),r&&ij(e,r),t}();function cj(t,e){return t&&e&&t.priority==e.priority&&sj(t.classes)==sj(e.classes)}function uj(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&sj(t.classes)>sj(e.classes)}function sj(t){return Array.isArray(t)?t.sort().join(","):t}pe(aj,m);function lj(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function fj(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.is("containerElement"))throw new u.a("widget-to-widget-wrong-element-type",null,{element:t});return e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=gj,n.label&&yj(t,n.label,e),n.hasSelectionHandle&&wj(t,e),dj(t,e,hj,pj),t}function hj(t,e,n){if(e.classes&&n.addClass(Hr(e.classes),t),e.attributes)for(var r in e.attributes)n.setAttribute(r,e.attributes[r],t)}function pj(t,e,n){if(e.classes&&n.removeClass(Hr(e.classes),t),e.attributes)for(var r in e.attributes)n.removeAttribute(r,t)}function dj(t,e,n,r){var o=new aj;o.on("change:top",function(e,o){o.oldDescriptor&&r(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer)}),e.setCustomProperty("addHighlight",function(t,e,n){return o.add(e,n)},t),e.setCustomProperty("removeHighlight",function(t,e,n){return o.remove(e,n)},t)}function yj(t,e,n){n.setCustomProperty("widgetLabel",e,t)}function mj(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",function(n,r,o){e.setAttribute("contenteditable",o?"false":"true",t)}),t.on("change:isFocused",function(n,r,o){o?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function vj(t,e){var n=t.getSelectedElement();if(n){var r=_j(t);if(r)return e.createRange(e.createPositionAt(n,r));if(e.schema.isObject(n)&&!e.schema.isInline(n))return e.createRangeOn(n)}var o=t.getSelectedBlocks().next().value;if(o){if(o.isEmpty)return e.createRange(e.createPositionAt(o,0));var i=e.createPositionAfter(o);return t.focus.isTouching(i)?e.createRange(i):e.createRange(e.createPositionBefore(o))}return e.createRange(t.focus)}function bj(t,e){var n=new of(Vu.window),r=n.getIntersection(t),o=e.height+iO.arrowVerticalOffset;if(t.top-o>n.top||t.bottom+o<n.bottom)return null;var i=r||t,a=i.left+i.width/2-e.width/2;return{top:Math.max(t.top,0)+iO.arrowVerticalOffset,left:a,name:"arrow_n"}}function gj(){return null}function wj(t,e){var n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(t){var e=this.toDomElement(t),n=new kk;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),e.appendChild(n.element),e});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}function kj(t,e,n){return t&&lj(t)&&!n.isInline(e)}function _j(t){return t.getAttribute("widget-type-around")}for(var Sj=[Ac("arrowUp"),Ac("arrowRight"),Ac("arrowDown"),Ac("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],xj=112;xj<=135;xj++)Sj.push(xj);function Oj(t){return!(!t.ctrlKey&&!t.metaKey)||Sj.includes(t.keyCode)}n(436);function Aj(t){return(Aj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||Rj(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ej(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Rj(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Rj(t,e){if(t){if("string"==typeof t)return Tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tj(t,e):void 0}}function Tj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cj(t,e,n){return e&&jj(t.prototype,e),n&&jj(t,n),t}function Ij(t,e){return(Ij=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Nj(t);if(e){var o=Nj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dj(this,n)}}function Dj(t,e){return!e||"object"!==Aj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nj(t){return(Nj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bj=["before","after"],zj=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Lj=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ij(t,e)}(n,t);var e=Mj(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t))._currentFakeCaretModelElement=null,r}return Cj(n,null,[{key:"pluginName",get:function(){return"WidgetTypeAround"}},{key:"requires",get:function(){return[jE,oj]}}]),Cj(n,[{key:"init",value:function(){var t=this.editor,e=t.editing.view;this.on("change:isEnabled",function(n,r,o){e.change(function(t){var n,r=Ej(e.document.roots);try{for(r.s();!(n=r.n()).done;){var i=n.value;o?t.removeClass("ck-widget__type-around_disabled",i):t.addClass("ck-widget__type-around_disabled",i)}}catch(t){r.e(t)}finally{r.f()}}),o||t.model.change(function(t){t.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}},{key:"destroy",value:function(){this._currentFakeCaretModelElement=null}},{key:"_insertParagraph",value:function(t,e){var n=this.editor,r=n.editing.view;n.execute("insertParagraph",{position:n.model.createPositionAt(t,e)}),r.focus(),r.scrollToTheSelection()}},{key:"_listenToIfEnabled",value:function(t,e,n,r){var o=this;this.listenTo(t,e,function(){o.isEnabled&&n.apply(void 0,arguments)},r)}},{key:"_insertParagraphAccordingToFakeCaretPosition",value:function(){var t=this.editor.model.document.selection,e=_j(t);if(!e)return!1;var n=t.getSelectedElement();return this._insertParagraph(n,e),!0}},{key:"_enableTypeAroundUIInjection",value:function(){var t=this.editor,e=t.model.schema,n=t.locale.t,r={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",function(t,n,o){var i=o.mapper.toViewElement(n.item);kj(i,n.item,e)&&function(t,e,n){var r=t.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(t){var n=this.toDomElement(t);return function(t,e){var n,r=Ej(Bj);try{for(r.s();!(n=r.n()).done;){var o=n.value,i=new Fw({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_".concat(o)],title:e[o]},children:[t.ownerDocument.importNode(zj,!0)]});t.appendChild(i.render())}}catch(t){r.e(t)}finally{r.f()}}(n,e),function(t){var e=new Fw({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});t.appendChild(e.render())}(n),n});t.insert(t.createPositionAt(n,"end"),r)}(o.writer,r,i)},{priority:"low"})}},{key:"_enableTypeAroundFakeCaretActivationUsingKeyboardArrows",value:function(){var t=this,e=this.editor,n=e.model,r=n.document.selection,o=n.schema,i=e.editing.view;function a(t){return"ck-widget_type-around_show-fake-caret_".concat(t)}this._listenToIfEnabled(i.document,"arrowKey",function(e,n){t._handleArrowKeyPress(e,n)},{context:[lj,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",function(t,n){n.directChange&&e.model.change(function(t){t.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(n.document,"change:data",function(){var t=r.getSelectedElement();if(t&&kj(e.editing.mapper.toViewElement(t),t,o))return;e.model.change(function(t){t.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",function(e,n,r){var i=r.writer;if(t._currentFakeCaretModelElement){var c=r.mapper.toViewElement(t._currentFakeCaretModelElement);c&&(i.removeClass(Bj.map(a),c),t._currentFakeCaretModelElement=null)}var u=n.selection.getSelectedElement();if(u){var s=r.mapper.toViewElement(u);if(kj(s,u,o)){var l=_j(n.selection);l&&(i.addClass(a(l),s),t._currentFakeCaretModelElement=u)}}}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",function(t,n,r){r||e.model.change(function(t){t.removeSelectionAttribute("widget-type-around")})})}},{key:"_handleArrowKeyPress",value:function(t,e){var n,r=this.editor,o=r.model,i=o.document.selection,a=o.schema,c=r.editing.view,u=Tc(e.keyCode,r.locale.contentLanguageDirection),s=c.document.selection.getSelectedElement();kj(s,r.editing.mapper.toModelElement(s),a)?n=this._handleArrowKeyPressOnSelectedWidget(u):i.isCollapsed&&(n=this._handleArrowKeyPressWhenSelectionNextToAWidget(u)),n&&(e.preventDefault(),t.stop())}},{key:"_handleArrowKeyPressOnSelectedWidget",value:function(t){var e=this.editor.model,n=_j(e.document.selection);return e.change(function(e){return n?n!==(t?"after":"before")&&(e.removeSelectionAttribute("widget-type-around"),!0):(e.setSelectionAttribute("widget-type-around",t?"after":"before"),!0)})}},{key:"_handleArrowKeyPressWhenSelectionNextToAWidget",value:function(t){var e=this.editor,n=e.model,r=n.schema,o=e.plugins.get("Widget"),i=o._getObjectElementNextToSelection(t);return!!kj(e.editing.mapper.toViewElement(i),i,r)&&(n.change(function(e){o._setSelectionOverElement(i),e.setSelectionAttribute("widget-type-around",t?"before":"after")}),!0)}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var t=this,e=this.editor,n=e.editing.view;this._listenToIfEnabled(n.document,"mousedown",function(r,o){var i=o.domTarget.closest(".ck-widget__type-around__button");if(i){var a=function(t){return t.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(i),c=function(t,e){var n=t.closest(".ck-widget");return e.mapDomToView(n)}(i,n.domConverter),u=e.editing.mapper.toModelElement(c);t._insertParagraph(u,a),o.preventDefault(),r.stop()}})}},{key:"_enableInsertingParagraphsOnEnterKeypress",value:function(){var t=this,e=this.editor,n=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",function(r,o){if("atTarget"==r.eventPhase){var i,a=n.getSelectedElement(),c=e.editing.mapper.toViewElement(a),u=e.model.schema;t._insertParagraphAccordingToFakeCaretPosition()?i=!0:kj(c,a,u)&&(t._insertParagraph(a,o.isSoft?"before":"after"),i=!0),i&&(o.preventDefault(),r.stop())}},{context:lj})}},{key:"_enableInsertingParagraphsOnTypingKeystroke",value:function(){var t=this,e=this.editor.editing.view,n=[xc.enter,xc.delete,xc.backspace];this._listenToIfEnabled(e.document,"keydown",function(e,r){n.includes(r.keyCode)||Oj(r)||t._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}},{key:"_enableDeleteIntegration",value:function(){var t=this.editor,e=t.editing.view,n=t.model,r=n.schema;this._listenToIfEnabled(e.document,"delete",function(e,o){if("atTarget"==e.eventPhase){var i=_j(n.document.selection);if(i){var a=o.direction,c=n.document.selection.getSelectedElement(),u="forward"==a;if("before"===i===u)t.execute("delete",{selection:n.createSelection(c,"on")});else{var s=r.getNearestSelectionRange(n.createPositionAt(c,i),a);if(s)if(s.isCollapsed){var l=n.createSelection(s.start);if(n.modifySelection(l,{direction:a}),l.focus.isEqual(s.start)){var f=function(t,e){var n,r=e,o=Ej(e.getAncestors({parentFirst:!0}));try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.childCount>1||t.isLimit(i))break;r=i}}catch(t){o.e(t)}finally{o.f()}return r}(r,s.start.parent);n.deleteContent(n.createSelection(f,"on"),{doNotAutoparagraph:!0})}else n.change(function(e){e.setSelection(s),t.execute(u?"deleteForward":"delete")})}else n.change(function(e){e.setSelection(s),t.execute(u?"deleteForward":"delete")})}o.preventDefault(),e.stop()}}},{context:lj})}},{key:"_enableInsertContentIntegration",value:function(){var t=this.editor,e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(t.model,"insertContent",function(t,r){var o=Pj(r,2),i=o[0],a=o[1];if(!a||a.is("documentSelection")){var c=_j(n);if(c)return t.stop(),e.change(function(t){var r=n.getSelectedElement(),o=e.createPositionAt(r,c),a=t.createSelection(o),u=e.insertContent(i,a);return t.setSelection(a),u})}},{priority:"high"})}},{key:"_enableDeleteContentIntegration",value:function(){var t=this.editor,e=this.editor.model.document.selection;this._listenToIfEnabled(t.model,"deleteContent",function(t,n){var r=Pj(n,1)[0];r&&!r.is("documentSelection")||_j(e)&&t.stop()},{priority:"high"})}}]),n}(ye);n(438);function Fj(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vj(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Vj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qj(t){var e=t.model;return function(n,r){var o=r.keyCode==xc.arrowup,i=r.keyCode==xc.arrowdown,a=r.shiftKey,c=e.document.selection;if(o||i){var u=i;if(!a||!function(t,e){return!t.isCollapsed&&t.isBackward==e}(c,u)){var s=function(t,e,n){var r=t.model;if(n){var o=e.isCollapsed?e.focus:e.getLastPosition(),i=Uj(r,o,"forward");if(!i)return null;var a=r.createRange(o,i),c=Hj(r.schema,a,"backward");return c&&o.isBefore(c)?r.createRange(o,c):null}var u=e.isCollapsed?e.focus:e.getFirstPosition(),s=Uj(r,u,"backward");if(!s)return null;var l=r.createRange(s,u),f=Hj(r.schema,l,"forward");return f&&u.isAfter(f)?r.createRange(f,u):null}(t,c,u);s&&!s.isCollapsed&&function(t,e,n){var r=t.model,o=t.view.domConverter;if(n){var i=r.createSelection(e.start);r.modifySelection(i),i.focus.isAtEnd||e.start.isEqual(i.focus)||(e=r.createRange(i.focus,e.end))}var a,c,u=t.mapper.toViewRange(e),s=o.viewRangeToDom(u),l=Fj(of.getDomRangeRects(s));try{for(l.s();!(c=l.n()).done;){var f=c.value;if(void 0!==a){if(Math.round(f.top)>=a)return!1;a=Math.max(a,Math.round(f.bottom))}else a=Math.round(f.bottom)}}catch(t){l.e(t)}finally{l.f()}return!0}(t,s,u)&&(e.change(function(t){var n=u?s.end:s.start;if(a){var r=e.createSelection(c.anchor);r.setFocus(n),t.setSelection(r)}else t.setSelection(n)}),n.stop(),r.preventDefault(),r.stopPropagation())}}}}function Uj(t,e,n){var r,o=t.schema,i="forward"==n?"elementStart":"elementEnd",a=Fj(t.createRangeIn(e.root).getWalker({startPosition:e,direction:n}));try{for(a.s();!(r=a.n()).done;){var c=r.value,u=c.previousPosition,s=c.item,l=c.type;if(o.isLimit(s)&&!o.isInline(s))return u;if(l==i&&o.isBlock(s))return null}}catch(t){a.e(t)}finally{a.f()}return null}function Hj(t,e,n){var r="backward"==n?e.end:e.start;if(t.checkChild(r,"$text"))return r;var o,i=Fj(e.getWalker({direction:n}));try{for(i.s();!(o=i.n()).done;){var a=o.value.nextPosition;if(t.checkChild(a,"$text"))return a}}catch(t){i.e(t)}finally{i.f()}}function Wj(t){return(Wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $j(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Gj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gj(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Gj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jj(t,e){return(Jj=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xj(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Qj(t);if(e){var o=Qj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zj(this,n)}}function Zj(t,e){return!e||"object"!==Wj(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qj(t){return(Qj=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jj(t,e)}(i,t);var e,n,r,o=Xj(i);function i(){return Kj(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[Lj,oj]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.editing.view,r=n.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",function(t,n,r){var o=r.writer,i=n.selection;if(!i.isCollapsed){var a=i.getSelectedElement();if(a){var c,u,s=e.editing.mapper.toViewElement(a);lj(s)&&r.consumable.consume(i,"selection")&&o.setSelection(o.createRangeOn(s),{fake:!0,label:(c=s,u=c.getCustomProperty("widgetLabel"),u?"function"==typeof u?u():u:"")})}}}),this.editor.editing.downcastDispatcher.on("selection",function(e,n,r){t._clearPreviouslySelectedWidgets(r.writer);var o,i=r.writer,a=null,c=$j(i.document.selection.getRanges());try{for(c.s();!(o=c.n()).done;){var u,s=$j(o.value);try{for(s.s();!(u=s.n()).done;){var l=u.value.item;lj(l)&&!eC(l,a)&&(i.addClass("ck-widget_selected",l),t._previouslySelected.add(l),a=l)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){c.e(t)}finally{c.f()}},{priority:"low"}),n.addObserver(gA),this.listenTo(r,"mousedown",function(){return t._onMousedown.apply(t,arguments)}),this.listenTo(r,"arrowKey",function(){t._handleSelectionChangeOnArrowKeyPress.apply(t,arguments)},{context:[lj,"$text"]}),this.listenTo(r,"arrowKey",function(){t._preventDefaultOnArrowKeyPress.apply(t,arguments)},{context:"$root"}),this.listenTo(r,"arrowKey",qj(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",function(e,n){t._handleDelete("forward"==n.direction)&&(n.preventDefault(),e.stop())},{context:"$root"})}},{key:"_onMousedown",value:function(t,e){var n=this.editor,r=n.editing.view,o=r.document,i=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(lj(t))return!1;t=t.parent}return!1}(i)){if((gc.isSafari||gc.isGecko)&&e.domEvent.detail>=3){var a=n.editing.mapper,c=i.is("attributeElement")?i.findAncestor(function(t){return!t.is("attributeElement")}):i,u=a.toModelElement(c);e.preventDefault(),this.editor.model.change(function(t){t.setSelection(u,"in")})}}else if(lj(i)||(i=i.findAncestor(lj))){gc.isAndroid&&e.preventDefault(),o.isFocused||r.focus();var s=n.editing.mapper.toModelElement(i);this._setSelectionOverElement(s)}}},{key:"_handleSelectionChangeOnArrowKeyPress",value:function(t,e){var n=e.keyCode,r=this.editor.model,o=r.schema,i=r.document.selection,a=i.getSelectedElement(),c=Tc(n,this.editor.locale.contentLanguageDirection);if(a&&o.isObject(a)){var u=c?i.getLastPosition():i.getFirstPosition(),s=o.getNearestSelectionRange(u,c?"forward":"backward");s&&(r.change(function(t){t.setSelection(s)}),e.preventDefault(),t.stop())}else if(i.isCollapsed){var l=this._getObjectElementNextToSelection(c);l&&o.isObject(l)&&(this._setSelectionOverElement(l),e.preventDefault(),t.stop())}}},{key:"_preventDefaultOnArrowKeyPress",value:function(t,e){var n=this.editor.model,r=n.schema,o=n.document.selection.getSelectedElement();o&&r.isObject(o)&&(e.preventDefault(),t.stop())}},{key:"_handleDelete",value:function(t){var e=this;if(!this.editor.isReadOnly){var n=this.editor.model.document.selection;if(n.isCollapsed){var r=this._getObjectElementNextToSelection(t);return r?(this.editor.model.change(function(t){for(var o=n.anchor.parent;o.isEmpty;){var i=o;o=i.parent,t.remove(i)}e._setSelectionOverElement(r)}),!0):void 0}}}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change(function(e){e.setSelection(e.createRangeOn(t))})}},{key:"_getObjectElementNextToSelection",value:function(t){var e=this.editor.model,n=e.schema,r=e.document.selection,o=e.createSelection(r);e.modifySelection(o,{direction:t?"forward":"backward"});var i=t?o.focus.nodeBefore:o.focus.nodeAfter;return i&&n.isObject(i)?i:null}},{key:"_clearPreviouslySelectedWidgets",value:function(t){var e,n=$j(this._previouslySelected);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.removeClass("ck-widget_selected",r)}}catch(t){n.e(t)}finally{n.f()}this._previouslySelected.clear()}}])&&Yj(e.prototype,n),r&&Yj(e,r),i}(ye);function eC(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}function nC(t){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var rC=function(t){var e=nC(t);return null!=t&&("object"==e||"function"==e)},oC=n(167);function iC(t){return(iC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var aC="object"==("undefined"==typeof self?"undefined":iC(self))&&self&&self.Object===Object&&self,cC=oC.a||aC||Function("return this")(),uC=function(){return cC.Date.now()},sC=/\s/;var lC=function(t){for(var e=t.length;e--&&sC.test(t.charAt(e)););return e},fC=/^\s+/;var hC=function(t){return t?t.slice(0,lC(t)+1).replace(fC,""):t},pC=cC.Symbol,dC=Object.prototype,yC=dC.hasOwnProperty,mC=dC.toString,vC=pC?pC.toStringTag:void 0;var bC=function(t){var e=yC.call(t,vC),n=t[vC];try{t[vC]=void 0;var r=!0}catch(t){}var o=mC.call(t);return r&&(e?t[vC]=n:delete t[vC]),o},gC=Object.prototype.toString;var wC=function(t){return gC.call(t)},kC=pC?pC.toStringTag:void 0;var _C=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":kC&&kC in Object(t)?bC(t):wC(t)};function SC(t){return(SC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var xC=function(t){return null!=t&&"object"==SC(t)};function OC(t){return(OC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var AC=function(t){return"symbol"==OC(t)||xC(t)&&"[object Symbol]"==_C(t)},PC=/^[-+]0x[0-9a-f]+$/i,EC=/^0b[01]+$/i,RC=/^0o[0-7]+$/i,TC=parseInt;var jC=function(t){if("number"==typeof t)return t;if(AC(t))return NaN;if(rC(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rC(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=hC(t);var n=EC.test(t);return n||RC.test(t)?TC(t.slice(2),n?2:8):PC.test(t)?NaN:+t},CC=Math.max,IC=Math.min;var MC=function(t,e,n){var r,o,i,a,c,u,s=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function d(t){return s=t,c=setTimeout(m,e),l?p(t):a}function y(t){var n=t-u;return void 0===u||n>=e||n<0||f&&t-s>=i}function m(){var t=uC();if(y(t))return v(t);c=setTimeout(m,function(t){var n=e-(t-u);return f?IC(n,i-(t-s)):n}(t))}function v(t){return c=void 0,h&&r?p(t):(r=o=void 0,a)}function b(){var t=uC(),n=y(t);if(r=arguments,o=this,u=t,n){if(void 0===c)return d(u);if(f)return clearTimeout(c),c=setTimeout(m,e),p(u)}return void 0===c&&(c=setTimeout(m,e)),a}return e=jC(e)||0,rC(n)&&(l=!!n.leading,i=(f="maxWait"in n)?CC(jC(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},b.flush=function(){return void 0===c?a:v(uC())},b};var DC=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return rC(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),MC(t,e,{leading:r,maxWait:e,trailing:o})};n(440);function NC(t){return(NC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LC(t,e,n){return(LC="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=UC(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function FC(t,e){return(FC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function VC(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=UC(t);if(e){var o=UC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qC(this,n)}}function qC(t,e){return!e||"object"!==NC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function UC(t){return(UC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var HC=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&FC(t,e)}(i,t);var e,n,r,o=VC(i);function i(){return BC(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"DragDrop"}},{key:"requires",get:function(){return[jT,tC]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=DC(function(e){return t._updateDropMarker(e)},40),this._removeDropMarkerDelayed=GC(function(){return t._removeDropMarker()},40),this._clearDraggableAttributesDelayed=GC(function(){return t._clearDraggableAttributes()},40),n.addObserver(wT),n.addObserver(gA),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",function(e,n,r){r?t.forceDisabled("readOnlyMode"):t.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",function(e,n,r){r||t._finalizeDragging(!1)}),gc.isAndroid&&this.forceDisabled("noAndroidSupport")}},{key:"destroy",value:function(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),LC(UC(i.prototype),"destroy",this).call(this)}},{key:"_setupDragging",value:function(){var t=this,e=this.editor,n=e.model,r=n.document,o=e.editing.view,i=o.document;this.listenTo(i,"dragstart",function(o,c){var u=r.selection;if(c.target&&c.target.is("editableElement"))c.preventDefault();else{var s=c.target?KC(c.target):null;if(s){var l=e.editing.mapper.toModelElement(s);t._draggedRange=hp.fromRange(n.createRangeOn(l)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!i.selection.isCollapsed){var f=i.selection.getSelectedElement();f&&lj(f)||(t._draggedRange=hp.fromRange(u.getFirstRange()))}if(t._draggedRange){t._draggingUid=a(),c.dataTransfer.effectAllowed=t.isEnabled?"copyMove":"copy",c.dataTransfer.setData("application/ckeditor5-dragging-uid",t._draggingUid);var h=n.createSelection(t._draggedRange.toRange()),p=e.data.toView(n.getSelectedContent(h));i.fire("clipboardOutput",{dataTransfer:c.dataTransfer,content:p,method:o.name}),t.isEnabled||(t._draggedRange.detach(),t._draggedRange=null,t._draggingUid="")}else c.preventDefault()}},{priority:"low"}),this.listenTo(i,"dragend",function(e,n){t._finalizeDragging(!n.dataTransfer.isCanceled&&"move"==n.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(i,"dragenter",function(){t.isEnabled&&o.focus()}),this.listenTo(i,"dragleave",function(){t._removeDropMarkerDelayed()}),this.listenTo(i,"dragging",function(n,r){if(t.isEnabled){t._removeDropMarkerDelayed.cancel();var o=WC(e,r.targetRanges,r.target);t._draggedRange||(r.dataTransfer.dropEffect="copy"),gc.isGecko||("copy"==r.dataTransfer.effectAllowed?r.dataTransfer.dropEffect="copy":["all","copyMove"].includes(r.dataTransfer.effectAllowed)&&(r.dataTransfer.dropEffect="move")),o&&t._updateDropMarkerThrottled(o)}else r.dataTransfer.dropEffect="none"},{priority:"low"})}},{key:"_setupClipboardInputIntegration",value:function(){var t=this,e=this.editor,n=e.editing.view.document;this.listenTo(n,"clipboardInput",function(n,r){if("drop"==r.method){var o=WC(e,r.targetRanges,r.target);if(t._removeDropMarker(),!o)return t._finalizeDragging(!1),void n.stop();if(t._draggedRange&&t._draggingUid!=r.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(t._draggedRange.detach(),t._draggedRange=null,t._draggingUid=""),"move"==$C(r.dataTransfer)&&t._draggedRange&&t._draggedRange.containsRange(o,!0))return t._finalizeDragging(!1),void n.stop();r.targetRanges=[e.editing.mapper.toViewRange(o)]}},{priority:"high"})}},{key:"_setupContentInsertionIntegration",value:function(){var t=this,e=this.editor.plugins.get(jT);e.on("contentInsertion",function(e,n){if(t.isEnabled&&"drop"===n.method){var r=n.targetRanges.map(function(e){return t.editor.editing.mapper.toModelRange(e)});t.editor.model.change(function(t){return t.setSelection(r)})}},{priority:"high"}),e.on("contentInsertion",function(e,n){if(t.isEnabled&&"drop"===n.method){var r="move"==$C(n.dataTransfer),o=!n.resultRange||!n.resultRange.isCollapsed;t._finalizeDragging(o&&r)}},{priority:"lowest"})}},{key:"_setupDraggableAttributeHandling",value:function(){var t=this,e=this.editor,n=e.editing.view,r=n.document;this.listenTo(r,"mousedown",function(o,i){if(!gc.isAndroid&&i){t._clearDraggableAttributesDelayed.cancel();var a=KC(i.target);if(gc.isBlink&&!e.isReadOnly&&!a&&!r.selection.isCollapsed){var c=r.selection.getSelectedElement();c&&lj(c)||(a=r.selection.editableElement)}a&&(n.change(function(t){t.setAttribute("draggable","true",a)}),t._draggableElement=e.editing.mapper.toModelElement(a))}}),this.listenTo(r,"mouseup",function(){gc.isAndroid||t._clearDraggableAttributesDelayed()})}},{key:"_clearDraggableAttributes",value:function(){var t=this,e=this.editor.editing;e.view.change(function(n){t._draggableElement&&"$graveyard"!=t._draggableElement.root.rootName&&n.removeAttribute("draggable",e.mapper.toViewElement(t._draggableElement)),t._draggableElement=null})}},{key:"_setupDropMarker",value:function(){var t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:function(e,n){var r=n.writer;if(t.model.schema.checkChild(e.markerRange.start,"$text"))return r.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(t){var e=this.toDomElement(t);return e.innerHTML="&NoBreak;<span></span>&NoBreak;",e})}})}},{key:"_updateDropMarker",value:function(t){var e=this.editor,n=e.model.markers;e.model.change(function(e){n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||e.updateMarker("drop-target",{range:t}):e.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}},{key:"_removeDropMarker",value:function(){var t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(function(t){t.removeMarker("drop-target")})}},{key:"_finalizeDragging",value:function(t){var e=this.editor,n=e.model;this._removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}])&&zC(e.prototype,n),r&&zC(e,r),i}(ye);function WC(t,e,n){var r=t.model,o=t.editing.mapper,i=null,a=e?e[0].start:null;if(n.is("uiElement")&&(n=n.parent),i=function(t,e){var n=t.model,r=t.editing.mapper;if(lj(e))return n.createRangeOn(r.toModelElement(e));if(!e.is("editableElement")){var o=e.findAncestor(function(t){return lj(t)||t.is("editableElement")});if(lj(o))return n.createRangeOn(r.toModelElement(o))}return null}(t,n))return i;var c=function(t,e){var n=t.editing.mapper,r=t.editing.view,o=n.toModelElement(e);if(o)return o;var i=r.createPositionBefore(e),a=n.findMappedViewAncestor(i);return n.toModelElement(a)}(t,n),u=a?o.toModelPosition(a):null;return u?(i=function(t,e,n){var r=t.model;if(!r.schema.checkChild(n,"$block"))return null;var o=r.createPositionAt(n,0),i=e.path.slice(0,o.path.length),a=r.createPositionFromPath(e.root,i).nodeAfter;if(a&&r.schema.isObject(a))return r.createRangeOn(a);return null}(t,u,c))?i:(i=r.schema.getNearestSelectionRange(u,gc.isGecko?"forward":"backward"))||function(t,e){var n=t.model;for(;e;){if(n.schema.isObject(e))return n.createRangeOn(e);e=e.parent}}(t,u.parent):function(t,e){var n=t.model,r=n.schema,o=n.createPositionAt(e,0);return r.getNearestSelectionRange(o,"forward")}(t,c)}function $C(t){return gc.isGecko?t.dropEffect:["all","copyMove"].includes(t.effectAllowed)?"move":"copy"}function GC(t,e){var n;function r(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];r.cancel(),n=setTimeout(function(){return t.apply(void 0,i)},e)}return r.cancel=function(){clearTimeout(n)},r}function KC(t){if(t.is("editableElement"))return null;if(t.hasClass("ck-widget__selection-handle"))return t.findAncestor(lj);if(lj(t))return t;var e=t.findAncestor(function(t){return lj(t)||t.is("editableElement")});return lj(e)?e:null}function YC(t){return(YC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JC(t){return function(t){if(Array.isArray(t))return QC(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||ZC(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||ZC(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZC(t,e){if(t){if("string"==typeof t)return QC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QC(t,e):void 0}}function QC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nI(t,e){return(nI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=iI(t);if(e){var o=iI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oI(this,n)}}function oI(t,e){return!e||"object"!==YC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iI(t){return(iI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nI(t,e)}(i,t);var e,n,r,o=rI(i);function i(){return tI(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"PastePlainText"}},{key:"requires",get:function(){return[jT]}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.model,n=t.editing.view,r=n.document,o=e.document.selection,i=!1;n.addObserver(wT),this.listenTo(r,"keydown",function(t,e){i=e.shiftKey}),t.plugins.get(jT).on("contentInsertion",function(t,n){(i||function(t,e){if(t.childCount>1)return!1;var n=t.getChild(0);return!e.isObject(n)&&0==JC(n.getAttributeKeys()).length}(n.content,e.schema))&&e.change(function(t){var r=Array.from(o.getAttributes()).filter(function(t){var n=XC(t,1)[0];return e.schema.getAttributeProperties(n).isFormatting});o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0}),r.push.apply(r,JC(o.getAttributes()));var i,a=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=ZC(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(t.createRangeIn(n.content).getItems());try{for(a.s();!(i=a.n()).done;){var c=i.value;c.is("$textProxy")&&t.setAttributes(r,c)}}catch(t){a.e(t)}finally{a.f()}})})}}])&&eI(e.prototype,n),r&&eI(e,r),i}(ye);function cI(t){return(cI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lI(t,e){return(lI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=pI(t);if(e){var o=pI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hI(this,n)}}function hI(t,e){return!e||"object"!==cI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pI(t){return(pI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lI(t,e)}(i,t);var e,n,r,o=fI(i);function i(){return uI(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Clipboard"}},{key:"requires",get:function(){return[jT,HC,aI]}}],(n=null)&&sI(e.prototype,n),r&&sI(e,r),i}(ye);function yI(t){return(yI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bI(t,e){return(bI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=kI(t);if(e){var o=kI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wI(this,n)}}function wI(t,e){return!e||"object"!==yI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kI(t){return(kI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bI(t,e)}(i,t);var e,n,r,o=gI(i);function i(){return mI(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"execute",value:function(){var t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!SI(t.schema,n))do{if(!(n=n.parent))return}while(!SI(t.schema,n));t.change(function(t){t.setSelection(n,"in")})}}])&&vI(e.prototype,n),r&&vI(e,r),i}(be);function SI(t,e){return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"))}function xI(t){return(xI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PI(t,e){return(PI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function EI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=TI(t);if(e){var o=TI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return RI(this,n)}}function RI(t,e){return!e||"object"!==xI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function TI(t){return(TI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jI=Pc("Ctrl+A"),CI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&PI(t,e)}(i,t);var e,n,r,o=EI(i);function i(){return OI(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"SelectAllEditing"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new _I(t)),this.listenTo(e,"keydown",function(e,n){Ac(n)===jI&&(t.execute("selectAll"),n.preventDefault())})}}])&&AI(e.prototype,n),r&&AI(e,r),i}(ye);function II(t){return(II="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NI(t,e){return(NI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=LI(t);if(e){var o=LI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zI(this,n)}}function zI(t,e){return!e||"object"!==II(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LI(t){return(LI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NI(t,e)}(i,t);var e,n,r,o=BI(i);function i(){return MI(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"SelectAllUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor;e.ui.componentFactory.add("selectAll",function(n){var r=e.commands.get("selectAll"),o=new Nk(n),i=n.t;return o.set({label:i("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),o.bind("isOn","isEnabled").to(r,"value","isEnabled"),t.listenTo(o,"execute",function(){e.execute("selectAll"),e.editing.view.focus()}),o})}}])&&DI(e.prototype,n),r&&DI(e,r),i}(ye);function VI(t){return(VI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HI(t,e){return(HI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=GI(t);if(e){var o=GI(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $I(this,n)}}function $I(t,e){return!e||"object"!==VI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GI(t){return(GI=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var KI=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HI(t,e)}(i,t);var e,n,r,o=WI(i);function i(){return qI(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[CI,FI]}},{key:"pluginName",get:function(){return"SelectAll"}}],(n=null)&&UI(e.prototype,n),r&&UI(e,r),i}(ye);function YI(t){return(YI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XI(t,e,n){return(XI="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=eM(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ZI(t,e){return(ZI=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function QI(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=eM(t);if(e){var o=eM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tM(this,n)}}function tM(t,e){return!e||"object"!==YI(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eM(t){return(eM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZI(t,e)}(i,t);var e,n,r,o=QI(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t))._buffer=new MT(t.model,e),n._batches=new WeakSet,n}return e=i,(n=[{key:"destroy",value:function(){XI(eM(i.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,o=e.text||"",i=o.length,a=e.range?n.createSelection(e.range):r.selection,c=e.resultRange;n.enqueueChange(this._buffer.batch,function(e){t._buffer.lock(),t._batches.add(t._buffer.batch),n.deleteContent(a),o&&n.insertContent(e.createText(o,r.selection.getAttributes()),a),c?e.setSelection(c):a.is("documentSelection")||e.setSelection(a),t._buffer.unlock(),t._buffer.input(i)})}},{key:"buffer",get:function(){return this._buffer}}])&&JI(e.prototype,n),r&&JI(e,r),i}(be);function rM(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return oM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oM(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function oM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iM(t){if(t.newChildren.length-t.oldChildren.length==1){var e=function(t,e){var n,r=[],o=0;return t.forEach(function(t){"equal"==t?(i(),o++):"insert"==t?(a("insert")?n.values.push(e[o]):(i(),n={type:"insert",index:o,values:[e[o]]}),o++):a("delete")?n.howMany++:(i(),n={type:"delete",index:o,howMany:1})}),i(),r;function i(){n&&(r.push(n),n=null)}function a(t){return n&&n.type==t}}(Tu(t.oldChildren,t.newChildren,aM),t.newChildren);if(!(e.length>1)){var n=e[0];if(n.values[0]&&n.values[0].is("$text"))return n}}}function aM(t,e){return t&&t.is("$text")&&e&&e.is("$text")?t.data===e.data:t===e}function cM(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return uM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uM(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function uM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var lM=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=e,this.editing=this.editor.editing}var e,n,r;return e=t,(n=[{key:"handle",value:function(t,e){if(function(t){if(0==t.length)return!1;var e,n=rM(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if("children"===r.type&&!iM(r))return!0}}catch(t){n.e(t)}finally{n.f()}return!1}(t))this._handleContainerChildrenMutations(t,e);else{var n,r=cM(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._handleTextMutation(o,e),this._handleTextNodeInsertion(o)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"_handleContainerChildrenMutations",value:function(t,e){var n=function(t){var e=t.map(function(t){return t.node}).reduce(function(t,e){return t.getCommonAncestor(e,{includeSelf:!0})});if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(t){return t.is("containerElement")||t.is("rootElement")})}(t);if(n){var r=this.editor.editing.view.domConverter.mapViewToDom(n),o=new Qu(this.editor.editing.view.document),i=this.editor.data.toModel(o.domToView(r)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(a){var c=Array.from(i.getChildren()),u=Array.from(a.getChildren()),s=c[c.length-1],l=u[u.length-1],f=s&&s.is("element","softBreak"),h=l&&!l.is("element","softBreak");f&&h&&c.pop();var p=this.editor.model.schema;if(fM(c,p)&&fM(u,p)){var d=c.map(function(t){return t.is("$text")?t.data:"@"}).join("").replace(/\u00A0/g," "),y=u.map(function(t){return t.is("$text")?t.data:"@"}).join("").replace(/\u00A0/g," ");if(y!==d){var m=hM(Tu(y,d)),v=m.firstChangeAt,b=m.insertions,g=m.deletions,w=null;e&&(w=this.editing.mapper.toModelRange(e.getFirstRange()));var k=d.substr(v,b),_=this.editor.model.createRange(this.editor.model.createPositionAt(a,v),this.editor.model.createPositionAt(a,v+g));this.editor.execute("input",{text:k,range:_,resultRange:w})}}}}}},{key:"_handleTextMutation",value:function(t,e){if("text"==t.type){var n=t.newText.replace(/\u00A0/g," "),r=t.oldText.replace(/\u00A0/g," ");if(r!==n){var o=hM(Tu(r,n)),i=o.firstChangeAt,a=o.insertions,c=o.deletions,u=null;e&&(u=this.editing.mapper.toModelRange(e.getFirstRange()));var s=this.editing.view.createPositionAt(t.node,i),l=this.editing.mapper.toModelPosition(s),f=this.editor.model.createRange(l,l.getShiftedBy(c)),h=n.substr(i,a);this.editor.execute("input",{text:h,range:f,resultRange:u})}}}},{key:"_handleTextNodeInsertion",value:function(t){if("children"==t.type){var e=iM(t),n=this.editing.view.createPositionAt(t.node,e.index),r=this.editing.mapper.toModelPosition(n),o=e.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(r)})}}}])&&sM(e.prototype,n),r&&sM(e,r),t}();function fM(t,e){return t.every(function(t){return e.isInline(t)})}function hM(t){for(var e=null,n=null,r=0;r<t.length;r++){"equal"!=t[r]&&(e=null===e?r:e,n=r)}for(var o=0,i=0,a=e;a<=n;a++)"insert"!=t[a]&&o++,"delete"!=t[a]&&i++;return{insertions:i,deletions:o,firstChangeAt:e}}function pM(t){return(pM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mM(t,e){return(mM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=gM(t);if(e){var o=gM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bM(this,n)}}function bM(t,e){return!e||"object"!==pM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gM(t){return(gM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mM(t,e)}(i,t);var e,n,r,o=vM(i);function i(){return dM(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Input"}}],(n=[{key:"init",value:function(){var t=this.editor,e=new nM(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){var e=null,n=t.model,r=t.editing.view,o=t.commands.get("input");function i(t){var i=n.document,c=r.document.isComposing,u=e&&e.isEqual(i.selection);e=null,o.isEnabled&&(Oj(t)||i.selection.isCollapsed||c&&229===t.keyCode||!c&&229===t.keyCode&&u||a())}function a(){var t=o.buffer;t.lock();var e=t.batch;o._batches.add(e),n.enqueueChange(e,function(){n.deleteContent(n.document.selection)}),t.unlock()}gc.isAndroid?r.document.on("beforeinput",function(t,e){return i(e)},{priority:"lowest"}):r.document.on("keydown",function(t,e){return i(e)},{priority:"lowest"}),r.document.on("compositionstart",function(){var t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||a()},{priority:"lowest"}),r.document.on("compositionend",function(){e=n.createSelection(n.document.selection)},{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",function(e,n,r){new lM(t).handle(n,r)})}(t)}},{key:"isInput",value:function(t){return this.editor.commands.get("input")._batches.has(t)}}])&&yM(e.prototype,n),r&&yM(e,r),i}(ye);function kM(t){return(kM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xM(t,e){return(xM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function OM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=PM(t);if(e){var o=PM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return AM(this,n)}}function AM(t,e){return!e||"object"!==kM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function PM(t){return(PM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var EM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xM(t,e)}(i,t);var e,n,r,o=OM(i);function i(){return _M(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[wM,oj]}},{key:"pluginName",get:function(){return"Typing"}}],(n=null)&&SM(e.prototype,n),r&&SM(e,r),i}(ye);function RM(t,e){var n=t.start;return{text:Array.from(t.getItems()).reduce(function(t,r){return r.is("$text")||r.is("$textProxy")?t+r.data:(n=e.createPositionAfter(r),"")},""),range:e.createRange(n,t.end)}}function TM(t){return(TM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var CM=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.model=e,this.testCallback=n,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",function(){r.isEnabled?r._startListening():(r.stopListening(e.document.selection),r.stopListening(e.document))}),this._startListening()}var e,n,r;return e=t,(n=[{key:"_startListening",value:function(){var t=this,e=this.model.document;this.listenTo(e.selection,"change:range",function(n,r){r.directChange&&(e.selection.isCollapsed?t._evaluateTextBeforeSelection("selection"):t.hasMatch&&(t.fire("unmatched"),t.hasMatch=!1))}),this.listenTo(e,"change:data",function(e,n){"transparent"!=n.type&&t._evaluateTextBeforeSelection("data",{batch:n})})}},{key:"_evaluateTextBeforeSelection",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,r=n.document,o=r.selection,i=n.createRange(n.createPositionAt(o.focus.parent,0),o.focus),a=RM(i,n),c=a.text,u=a.range,s=this.testCallback(c);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){var l=Object.assign(e,{text:c,range:u});"object"==TM(s)&&Object.assign(l,s),this.fire("matched:".concat(t),l)}}}])&&jM(e.prototype,n),r&&jM(e,r),t}();pe(CM,oe);var IM=/[\\^$.*+?()[\]{}|]/g;RegExp(IM.source);MM('"'),MM("'"),MM("'"),MM('"'),MM('"'),MM("'");function MM(t){return new RegExp("(^|\\s)(".concat(t,")([^").concat(t,"]*)(").concat(t,")$"))}function DM(t){return(DM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NM(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return BM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BM(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function BM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function LM(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VM(t,e){return(VM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=HM(t);if(e){var o=HM(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return UM(this,n)}}function UM(t,e){return!e||"object"!==DM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function HM(t){return(HM=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var WM=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&VM(t,e)}(i,t);var e,n,r,o=qM(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t))._stack=[],e._createdBatches=new WeakSet,e.refresh(),e.listenTo(t.data,"set",function(t,e){e[1]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(e){LM(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e[1]);var n=e[1];n.batchType||(n.batchType="transparent")},{priority:"high"}),e.listenTo(t.data,"set",function(t,n){"transparent"===n[1].batchType&&e.clearStack()}),e}return e=i,(n=[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(t){var e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(t,e,n){var r,o=this.editor.model,i=o.document,a=[],c=t.map(function(t){return t.getTransformedByOperations(n)}),u=c.flat(),s=NM(c);try{for(s.s();!(r=s.n()).done;){var l=r.value.filter(function(t){return t.root!=i.graveyard}).filter(function(t){return!GM(t,u)});l.length&&($M(l),a.push(l[0]))}}catch(t){s.e(t)}finally{s.f()}a.length&&o.change(function(t){t.setSelection(a,{backward:e})})}},{key:"_undo",value:function(t,e){var n=this.editor.model,r=n.document;this._createdBatches.add(e);var o=t.operations.slice().filter(function(t){return t.isDocumentOperation});o.reverse();var i,a=NM(o);try{for(a.s();!(i=a.n()).done;){var c,u=i.value,s=u.baseVersion+1,l=Array.from(r.history.getOperations(s)),f=NM(QO([u.getReversed()],l,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA);try{for(f.s();!(c=f.n()).done;){var h=c.value;e.addOperation(h),n.applyOperation(h),r.history.setOperationAsUndone(u,h)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){a.e(t)}finally{a.f()}}}])&&FM(e.prototype,n),r&&FM(e,r),i}(be);function $M(t){t.sort(function(t,e){return t.start.isBefore(e.start)?-1:1});for(var e=1;e<t.length;e++){var n=t[e-1].getJoined(t[e],!0);n&&(e--,t.splice(e,2,n))}}function GM(t,e){return e.some(function(e){return e!==t&&e.containsRange(t,!0)})}function KM(t){return(KM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function YM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XM(t,e){return(XM=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZM(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=tD(t);if(e){var o=tD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QM(this,n)}}function QM(t,e){return!e||"object"!==KM(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tD(t){return(tD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XM(t,e)}(i,t);var e,n,r,o=ZM(i);function i(){return YM(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e?this._stack.findIndex(function(t){return t.batch==e}):this._stack.length-1,r=this._stack.splice(n,1)[0],o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,function(){t._undo(r.batch,o);var e=t.editor.model.document.history.getOperations(r.batch.baseVersion);t._restoreSelection(r.selection.ranges,r.selection.isBackward,e),t.fire("revert",r.batch,o)}),this.refresh()}}])&&JM(e.prototype,n),r&&JM(e,r),i}(WM);function nD(t){return(nD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iD(t,e){return(iD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function aD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=uD(t);if(e){var o=uD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cD(this,n)}}function cD(t,e){return!e||"object"!==nD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function uD(t){return(uD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iD(t,e)}(i,t);var e,n,r,o=aD(i);function i(){return rD(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"execute",value:function(){var t=this,e=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,function(){var r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,o=t.editor.model.document.history.getOperations(r);t._restoreSelection(e.selection.ranges,e.selection.isBackward,o),t._undo(e.batch,n)}),this.refresh()}}])&&oD(e.prototype,n),r&&oD(e,r),i}(WM);function lD(t){return(lD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hD(t,e,n){return e&&fD(t.prototype,e),n&&fD(t,n),t}function pD(t,e){return(pD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=mD(t);if(e){var o=mD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yD(this,n)}}function yD(t,e){return!e||"object"!==lD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mD(t){return(mD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pD(t,e)}(n,t);var e=dD(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t))._batchRegistry=new WeakSet,r}return hD(n,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),hD(n,[{key:"init",value:function(){var t=this,e=this.editor;this._undoCommand=new eD(e),this._redoCommand=new sD(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",function(e,n){var r=n[0];if(r.isDocumentOperation){var o=r.batch,i=t._redoCommand._createdBatches.has(o),a=t._undoCommand._createdBatches.has(o);t._batchRegistry.has(o)||"transparent"==o.type&&!i&&!a||(i?t._undoCommand.addBatch(o):a||(t._undoCommand.addBatch(o),t._redoCommand.clearStack()),t._batchRegistry.add(o))}},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(e,n,r){t._redoCommand.addBatch(r)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),n}(ye),bD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',gD='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';function wD(t){return(wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function SD(t,e){return(SD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=AD(t);if(e){var o=AD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return OD(this,n)}}function OD(t,e){return!e||"object"!==wD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function AD(t){return(AD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var PD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&SD(t,e)}(i,t);var e,n,r,o=xD(i);function i(){return kD(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"UndoUI"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?bD:gD,o="ltr"==e.uiLanguageDirection?gD:bD;this._addButton("undo",n("Undo"),"CTRL+Z",r),this._addButton("redo",n("Redo"),"CTRL+Y",o)}},{key:"_addButton",value:function(t,e,n,r){var o=this,i=this.editor;i.ui.componentFactory.add(t,function(a){var c=i.commands.get(t),u=new Nk(a);return u.set({label:e,icon:r,keystroke:n,tooltip:!0}),u.bind("isEnabled").to(c,"isEnabled"),o.listenTo(u,"execute",function(){i.execute(t),i.editing.view.focus()}),u})}}])&&_D(e.prototype,n),r&&_D(e,r),i}(ye);function ED(t){return(ED="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jD(t,e){return(jD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=MD(t);if(e){var o=MD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ID(this,n)}}function ID(t,e){return!e||"object"!==ED(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function MD(t){return(MD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var DD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jD(t,e)}(i,t);var e,n,r,o=CD(i);function i(){return RD(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[vD,PD]}},{key:"pluginName",get:function(){return"Undo"}}],(n=null)&&TD(e.prototype,n),r&&TD(e,r),i}(ye);function ND(t){return(ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LD(t,e){return(LD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=qD(t);if(e){var o=qD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VD(this,n)}}function VD(t,e){return!e||"object"!==ND(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qD(t){return(qD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var UD=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LD(t,e)}(i,t);var e,n,r,o=FD(i);function i(){return BD(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[dI,jE,KI,YE,EM,DD]}},{key:"pluginName",get:function(){return"Essentials"}}],(n=null)&&zD(e.prototype,n),r&&zD(e,r),i}(ye);function HD(t){return(HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WD(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $D(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function $D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YD(t,e,n){return(YD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=QD(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function JD(t,e){return(JD=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function XD(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=QD(t);if(e){var o=QD(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ZD(this,n)}}function ZD(t,e){return!e||"object"!==HD(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function QD(t){return(QD=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JD(t,e)}(i,t);var e,n,r,o=XD(i);function i(){return GD(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[wO]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor;if(e.plugins.has("BalloonToolbar")){var n=e.plugins.get("BalloonToolbar");this.listenTo(n,"show",function(t){var n,r;n=e.editing.view.document.selection,(r=n.getSelectedElement())&&lj(r)&&t.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){t._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",function(){t._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",function(){t._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){YD(QD(i.prototype),"destroy",this).call(this);var t,e=WD(this._toolbarDefinitions.values());try{for(e.s();!(t=e.n()).done;)t.value.view.destroy()}catch(t){e.e(t)}finally{e.f()}}},{key:"register",value:function(t,e){var n=e.ariaLabel,r=e.items,o=e.getRelatedElement,i=e.balloonClassName,a=void 0===i?"ck-toolbar-container":i;if(r.length){var c=this.editor,s=c.t,l=new sS(c.locale);if(l.ariaLabel=n||s("Widget toolbar"),this._toolbarDefinitions.has(t))throw new u.a("widget-toolbar-duplicated",this,{toolbarId:t});l.fillFromConfig(r,c.ui.componentFactory),this._toolbarDefinitions.set(t,{view:l,getRelatedElement:o,balloonClassName:a})}else Object(u.b)("widget-toolbar-no-items",{toolbarId:t})}},{key:"_updateToolbarsVisibility",value:function(){var t,e=0,n=null,r=null,o=WD(this._toolbarDefinitions.values());try{for(o.s();!(t=o.n()).done;){var i=t.value,a=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&a)if(this.editor.ui.focusTracker.isFocused){var c=a.getAncestors().length;c>e&&(e=c,n=a,r=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}}catch(t){o.e(t)}finally{o.f()}r&&this._showToolbar(r,n)}},{key:"_hideToolbar",value:function(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(t,e){var n=this;this._isToolbarVisible(t)?eN(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:nN(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var t,e=WD(n._toolbarDefinitions.values());try{for(e.s();!(t=e.n()).done;){var r=t.value;if(n._isToolbarVisible(r)){var o=r.getRelatedElement(n.editor.editing.view.document.selection);eN(n.editor,o)}}}catch(t){e.e(t)}finally{e.f()}}))}},{key:"_isToolbarVisible",value:function(t){return this._balloon.visibleView===t.view}},{key:"_isToolbarInBalloon",value:function(t){return this._balloon.hasView(t.view)}}])&&KD(e.prototype,n),r&&KD(e,r),i}(ye);function eN(t,e){var n=t.plugins.get("ContextualBalloon"),r=nN(t,e);n.updatePosition(r)}function nN(t,e){var n=t.editing.view,r=iO.defaultPositions;return{target:n.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,bj]}}function rN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var oN=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=e,this._referenceCoordinates=null}var e,n,r;return e=t,(n=[{key:"begin",value:function(t,e,n){var r,o,i,a,c,u,s,l,f=new of(e);this.activeHandlePosition=function(t){for(var e=0,n=["top-left","top-right","bottom-right","bottom-left"];e<n.length;e++){var r=n[e];if(t.classList.contains("ck-widget__resizer__handle-".concat(r)))return r}}(t),this._referenceCoordinates=(r=e,u=this.activeHandlePosition,s=u.split("-"),o="".concat((l={top:"bottom",bottom:"top",left:"right",right:"left"})[s[0]],"-").concat(l[s[1]]),i=new of(r),a=o.split("-"),(c={x:"right"==a[1]?i.right:i.left,y:"bottom"==a[0]?i.bottom:i.top}).x+=r.ownerDocument.defaultView.scrollX,c.y+=r.ownerDocument.defaultView.scrollY,c),this.originalWidth=f.width,this.originalHeight=f.height,this.aspectRatio=f.width/f.height;var h=n.style.width;h&&h.match(/^\d+(\.\d*)?%$/)?this.originalWidthPercents=parseFloat(h):this.originalWidthPercents=function(t,e){var n=t.parentElement,r=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width);return e.width/r*100}(n,f)}},{key:"update",value:function(t){this.proposedWidth=t.width,this.proposedHeight=t.height,this.proposedWidthPercents=t.widthPercents,this.proposedHandleHostWidth=t.handleHostWidth,this.proposedHandleHostHeight=t.handleHostHeight}}])&&rN(e.prototype,n),r&&rN(e,r),t}();function iN(t){return(iN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function aN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cN(t,e){return(cN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=lN(t);if(e){var o=lN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sN(this,n)}}function sN(t,e){return!e||"object"!==iN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lN(t){return(lN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(oN,oe);var fN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cN(t,e)}(i,t);var e,n,r,o=uN(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=(t=o.call(this)).bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",e.to("_viewPosition",function(t){return t?"ck-orientation-".concat(t):""})],style:{display:e.if("_isVisible","none",function(t){return!t})}},children:[{text:e.to("_label")}]}),t}return e=i,(n=[{key:"_bindToState",value:function(t,e){this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",function(t,e){return null!==t&&null!==e}),this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",function(e,n,r){return"px"===t.unit?"".concat(e,"×").concat(n):"".concat(r,"%")}),this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",function(t,e,n){return e<50||n<50?"above-center":t})}},{key:"_dismiss",value:function(){this.unbind(),this._isVisible=!1}}])&&aN(e.prototype,n),r&&aN(e,r),i}(xw);function hN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pN=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._options=e,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",function(t){n.state.proposedWidth||n.state.proposedWidthPercents||(n._cleanup(),t.stop())},{priority:"high"}),this.on("change:isEnabled",function(){n.isEnabled&&n.redraw()})}var e,n,r;return e=t,r=[{key:"isResizeHandle",value:function(t){return t.classList.contains("ck-widget__resizer__handle")}}],(n=[{key:"attach",value:function(){var t=this,e=this,n=this._options.viewElement;this._options.editor.editing.view.change(function(r){var o=r.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(t){var n=this.toDomElement(t);return e._appendHandles(n),e._appendSizeUI(n),e.on("change:isEnabled",function(t,e,r){n.style.display=r?"":"none"}),n.style.display=e.isEnabled?"":"none",n});r.insert(r.createPositionAt(n,"end"),o),r.addClass("ck-widget_with-resizer",n),t._viewResizerWrapper=o})}},{key:"begin",value:function(t){this.state=new oN(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(t,this._getHandleHost(),this._getResizeHost())}},{key:"updateSize",value:function(t){var e=this,n=this._proposeNewSize(t);this._options.editor.editing.view.change(function(t){var r=e._options.unit||"%",o=("%"===r?n.widthPercents:n.width)+r;t.setStyle("width",o,e._options.viewElement)});var r=this._getHandleHost(),o=new of(r);n.handleHostWidth=Math.round(o.width),n.handleHostHeight=Math.round(o.height);var i=new of(r);n.width=Math.round(i.width),n.height=Math.round(i.height),this.redraw(o),this.state.update(n)}},{key:"commit",value:function(){var t=this,e=this._options.unit||"%",n=("%"===e?this.state.proposedWidthPercents:this.state.proposedWidth)+e;this._options.editor.editing.view.change(function(){t._cleanup(),t._options.onCommit(n)})}},{key:"cancel",value:function(){this._cleanup()}},{key:"destroy",value:function(){this.cancel()}},{key:"redraw",value:function(t){var e=this._domResizerWrapper;if((n=e)&&n.ownerDocument&&n.ownerDocument.contains(n)){var n,r,o=e.parentElement,i=this._getHandleHost(),a=this._viewResizerWrapper,c=[a.getStyle("width"),a.getStyle("height"),a.getStyle("left"),a.getStyle("top")];if(o.isSameNode(i)){var u=t||new of(i);r=[u.width+"px",u.height+"px",void 0,void 0]}else r=[i.offsetWidth+"px",i.offsetHeight+"px",i.offsetLeft+"px",i.offsetTop+"px"];"same"!==ao(c,r)&&this._options.editor.editing.view.change(function(t){t.setStyle({width:r[0],height:r[1],left:r[2],top:r[3]},a)})}}},{key:"containsHandle",value:function(t){return this._domResizerWrapper.contains(t)}},{key:"_cleanup",value:function(){var t=this;this._sizeView._dismiss(),this._options.editor.editing.view.change(function(e){e.setStyle("width",t._initialViewWidth,t._options.viewElement)})}},{key:"_proposeNewSize",value:function(t){var e,n=this.state,r={x:(e=t).pageX,y:e.pageY},o=!this._options.isCentered||this._options.isCentered(this),i={x:n._referenceCoordinates.x-(r.x+n.originalWidth),y:r.y-n.originalHeight-n._referenceCoordinates.y};o&&n.activeHandlePosition.endsWith("-right")&&(i.x=r.x-(n._referenceCoordinates.x+n.originalWidth)),o&&(i.x*=2);var a={width:Math.abs(n.originalWidth+i.x),height:Math.abs(n.originalHeight+i.y)};a.dominant=a.width/n.aspectRatio>a.height?"width":"height",a.max=a[a.dominant];var c={width:a.width,height:a.height};return"width"==a.dominant?c.height=c.width/n.aspectRatio:c.width=c.height*n.aspectRatio,{width:Math.round(c.width),height:Math.round(c.height),widthPercents:Math.min(Math.round(n.originalWidthPercents/n.originalWidth*c.width*100)/100,100)}}},{key:"_getResizeHost",value:function(){var t=this._domResizerWrapper.parentElement;return this._options.getResizeHost(t)}},{key:"_getHandleHost",value:function(){var t=this._domResizerWrapper.parentElement;return this._options.getHandleHost(t)}},{key:"_appendHandles",value:function(t){for(var e,n=0,r=["top-left","top-right","bottom-right","bottom-left"];n<r.length;n++){var o=r[n];t.appendChild(new Fw({tag:"div",attributes:{class:"ck-widget__resizer__handle ".concat((e=o,"ck-widget__resizer__handle-".concat(e)))}}).render())}}},{key:"_appendSizeUI",value:function(t){this._sizeView=new fN,this._sizeView.render(),t.appendChild(this._sizeView.element)}},{key:"_domResizerWrapper",get:function(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}}])&&hN(e.prototype,n),r&&hN(e,r),t}();pe(pN,oe);var dN=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return A(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ul(t,e,{leading:r,maxWait:e,trailing:o})};n(442);function yN(t){return(yN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||bN(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vN(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=bN(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function bN(t,e){if(t){if("string"==typeof t)return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gN(t,e):void 0}}function gN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _N(t,e){return(_N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function SN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ON(t);if(e){var o=ON(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xN(this,n)}}function xN(t,e){return!e||"object"!==yN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ON(t){return(ON=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var AN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_N(t,e)}(i,t);var e,n,r,o=SN(i);function i(){return wN(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"WidgetResize"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor.editing,n=Vu.window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,e.view.addObserver(gA),this._observer=Object.create(rs),this.listenTo(e.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(n,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(n,"mouseup",this._mouseUpListener.bind(this));var r=function(){t.visibleResizer&&t.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=dN(r,200),this.on("change:visibleResizer",r),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",function(){var e,n=vN(t._resizers);try{for(n.s();!(e=n.n()).done;){var r=mN(e.value,2),o=r[0],i=r[1];o.isAttached()||(t._resizers.delete(o),i.destroy())}}catch(t){n.e(t)}finally{n.f()}},{priority:"lowest"}),this._observer.listenTo(Vu.window,"resize",this._redrawFocusedResizerThrottled);var o=this.editor.editing.view.document.selection;o.on("change",function(){var e=o.getSelectedElement();t.visibleResizer=t.getResizerByViewElement(e)||null})}},{key:"destroy",value:function(){this._observer.stopListening();var t,e=vN(this._resizers.values());try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}this._redrawFocusedResizerThrottled.cancel()}},{key:"attachTo",value:function(t){var e=new pN(t),n=this.editor.plugins;if(e.attach(),n.has("WidgetToolbarRepository")){var r=n.get("WidgetToolbarRepository");e.on("begin",function(){r.forceDisabled("resize")},{priority:"lowest"}),e.on("cancel",function(){r.clearForceDisabled("resize")},{priority:"highest"}),e.on("commit",function(){r.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(t.viewElement,e);var o=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(o)==e&&(this.visibleResizer=e),e}},{key:"getResizerByViewElement",value:function(t){return this._resizers.get(t)}},{key:"_getResizerByHandle",value:function(t){var e,n=vN(this._resizers.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.containsHandle(t))return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"_mouseDownListener",value:function(t,e){var n=e.domTarget;pN.isResizeHandle(n)&&(this._activeResizer=this._getResizerByHandle(n),this._activeResizer&&(this._activeResizer.begin(n),t.stop(),e.preventDefault()))}},{key:"_mouseMoveListener",value:function(t,e){this._activeResizer&&this._activeResizer.updateSize(e)}},{key:"_mouseUpListener",value:function(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}}])&&kN(e.prototype,n),r&&kN(e,r),i}(ye);function PN(t){return(PN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TN(t,e){return(TN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=IN(t);if(e){var o=IN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return CN(this,n)}}function CN(t,e){return!e||"object"!==PN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function IN(t){return(IN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(AN,oe);var MN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TN(t,e)}(i,t);var e,n,r,o=jN(i);function i(){return EN(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(t){var e=this.editor,n=e.plugins.get("ImageUtils"),r=e.model,o=n.getClosestSelectedImageElement(r.document.selection);r.change(function(e){e.setAttribute("alt",t.newValue,o)})}}])&&RN(e.prototype,n),r&&RN(e,r),i}(be);function DN(t,e){var n=t.createEmptyElement("img"),r="imageBlock"===e?t.createContainerElement("figure",{class:"image"}):t.createContainerElement("span",{class:"image-inline"},{isAllowedInsideAttributeElement:!0});return t.insert(t.createPositionAt(r,0),n),r}function NN(t,e){if(t.plugins.has("ImageInlineEditing")!==t.plugins.has("ImageBlockEditing"))return{name:"img",attributes:{src:!0}};var n=t.plugins.get("ImageUtils");return function(t){return n.isInlineImageView(t)&&t.hasAttribute("src")?(t.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==e?null:{name:!0,attributes:["src"]}:null}}function BN(t,e){var n=mf(e.getSelectedBlocks());return!n||t.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}function zN(t){return(zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LN(t){return function(t){if(Array.isArray(t))return VN(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||FN(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FN(t,e){if(t){if("string"==typeof t)return VN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VN(t,e):void 0}}function VN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function UN(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(e){HN(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function HN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GN(t,e){return(GN=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function KN(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=JN(t);if(e){var o=JN(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YN(this,n)}}function YN(t,e){return!e||"object"!==zN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JN(t){return(JN=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var XN=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GN(t,e)}(i,t);var e,n,r,o=KN(i);function i(){return WN(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ImageUtils"}}],(n=[{key:"isImage",value:function(t){return this.isInlineImage(t)||this.isBlockImage(t)}},{key:"isInlineImageView",value:function(t){return!!t&&t.is("element","img")}},{key:"isBlockImageView",value:function(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}},{key:"insertImage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.editor,o=r.model,i=o.document.selection;for(var a in n=ZN(r,e||i,n),t=UN(UN({},Object.fromEntries(i.getAttributes())),t))o.schema.checkAttribute(n,a)||delete t[a];return o.change(function(r){var a=r.createElement(n,t);return e||"imageInline"==n||(e=vj(i,o)),o.insertContent(a,e),a.parent?(r.setSelection(a,"on"),a):null})}},{key:"getClosestSelectedImageWidget",value:function(t){var e=t.getSelectedElement();if(e&&this.isImageWidget(e))return e;for(var n=t.getFirstPosition().parent;n;){if(n.is("element")&&this.isImageWidget(n))return n;n=n.parent}return null}},{key:"getClosestSelectedImageElement",value:function(t){var e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}},{key:"isImageAllowed",value:function(){var t=this.editor.model.document.selection;return function(t,e){if("imageBlock"==ZN(t,e)){var n=function(t,e){var n=vj(t,e).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(e,t.model);if(t.model.schema.checkChild(n,"imageBlock"))return!0}else if(t.model.schema.checkChild(e.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(t){return LN(t.focus.getAncestors()).every(function(t){return!t.is("element","imageBlock")})}(t)}},{key:"toImageWidget",value:function(t,e,n){var r=this;return e.setCustomProperty("image",!0,t),fj(t,e,{label:function(){var e=r.findViewImgElement(t).getAttribute("alt");return e?"".concat(e," ").concat(n):n}})}},{key:"isImageWidget",value:function(t){return!!t.getCustomProperty("image")&&lj(t)}},{key:"isBlockImage",value:function(t){return!!t&&t.is("element","imageBlock")}},{key:"isInlineImage",value:function(t){return!!t&&t.is("element","imageInline")}},{key:"findViewImgElement",value:function(t){if(this.isInlineImageView(t))return t;var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=FN(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(this.editor.editing.view.createRangeIn(t));try{for(n.s();!(e=n.n()).done;){var r=e.value.item;if(this.isInlineImageView(r))return r}}catch(t){n.e(t)}finally{n.f()}}}])&&$N(e.prototype,n),r&&$N(e,r),i}(ye);function ZN(t,e,n){var r=t.model.schema,o=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")?t.plugins.has("ImageInlineEditing")?n||("inline"===o?"imageInline":"block"===o?"imageBlock":e.is("selection")?BN(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}function QN(t){return(QN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nB(t,e){return(nB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=iB(t);if(e){var o=iB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oB(this,n)}}function oB(t,e){return!e||"object"!==QN(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iB(t){return(iB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nB(t,e)}(i,t);var e,n,r,o=rB(i);function i(){return tB(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[XN]}},{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}],(n=[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new MN(this.editor))}}])&&eB(e.prototype,n),r&&eB(e,r),i}(ye);n(444),n(446);function cB(t){return(cB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sB(t,e,n){return(sB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dB(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function lB(t,e){return(lB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=dB(t);if(e){var o=dB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hB(this,n)}}function hB(t,e){return!e||"object"!==cB(e)&&"function"!=typeof e?pB(t):e}function pB(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dB(t){return(dB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lB(t,e)}(i,t);var e,n,r,o=fB(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var n,r=(e=o.call(this,t)).locale.t;return e.focusTracker=new bf,e.keystrokes=new wf,e.labeledInput=e._createLabeledInputView(),e.saveButtonView=e._createButton(r("Save"),Jg,"ck-button-save"),e.saveButtonView.type="submit",e.cancelButtonView=e._createButton(r("Cancel"),Kg,"ck-button-cancel","cancel"),e._focusables=new gw,e._focusCycler=new Kk({focusables:e._focusables,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),e.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[e.labeledInput,e.saveButtonView,e.cancelButtonView]}),(n=pB(e)).set("_isCssTransitionsDisabled",!1),n.disableCssTransitions=function(){n._isCssTransitionsDisabled=!0},n.enableCssTransitions=function(){n._isCssTransitionsDisabled=!1},n.extendTemplate({attributes:{class:[n.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}}),e}return e=i,(n=[{key:"render",value:function(){var t,e=this;sB(dB(i.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),(t=this).listenTo(t.element,"submit",function(e,n){n.preventDefault(),t.fire("submit")},{useCapture:!0}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(t){e._focusables.add(t),e.focusTracker.add(t.element)})}},{key:"_createButton",value:function(t,e,n,r){var o=new Nk(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),r&&o.delegate("execute").to(this,r),o}},{key:"_createLabeledInputView",value:function(){var t=this.locale.t,e=new Fx(this.locale,Vx);return e.label=t("Text alternative"),e}}])&&uB(e.prototype,n),r&&uB(e,r),i}(xw);function mB(t){var e=t.editing.view,n=iO.defaultPositions,r=t.plugins.get("ImageUtils");return{target:e.domConverter.viewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}function vB(t){return(vB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wB(t,e,n){return(wB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xB(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function kB(t,e){return(kB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=xB(t);if(e){var o=xB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SB(this,n)}}function SB(t,e){return!e||"object"!==vB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xB(t){return(xB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kB(t,e)}(i,t);var e,n,r,o=_B(i);function i(){return bB(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[wO]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}],(n=[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){wB(xB(i.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("imageTextAlternative",function(r){var o=e.commands.get("imageTextAlternative"),i=new Nk(r);return i.set({label:n("Change image text alternative"),icon:Xg,tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),t.listenTo(i,"execute",function(){t._showForm()}),i})}},{key:"_createForm",value:function(){var t=this,e=this.editor,n=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new yB(e.locale),this._form.render(),this.listenTo(this._form,"submit",function(){e.execute("imageTextAlternative",{newValue:t._form.labeledInput.fieldView.element.value}),t._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){t._hideForm(!0)}),this._form.keystrokes.set("Esc",function(e,n){t._hideForm(!0),n()}),this.listenTo(e.ui,"update",function(){r.getClosestSelectedImageWidget(n.selection)?t._isVisible&&function(t){var e=t.plugins.get("ContextualBalloon");if(t.plugins.get("ImageUtils").getClosestSelectedImageWidget(t.editing.view.document.selection)){var n=mB(t);e.updatePosition(n)}}(e):t._hideForm(!0)}),sw({emitter:this._form,activator:function(){return t._isVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:mB(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}}},{key:"_hideForm",value:function(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}])&&gB(e.prototype,n),r&&gB(e,r),i}(ye);function AB(t){return(AB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RB(t,e){return(RB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=CB(t);if(e){var o=CB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jB(this,n)}}function jB(t,e){return!e||"object"!==AB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CB(t){return(CB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RB(t,e)}(i,t);var e,n,r,o=TB(i);function i(){return PB(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[aB,OB]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}],(n=null)&&EB(e.prototype,n),r&&EB(e,r),i}(ye);function MB(t,e){return function(t){t.on("attribute:srcset:".concat(e),n)};function n(e,n,r){if(r.consumable.consume(n.item,e.name)){var o=r.writer,i=r.mapper.toViewElement(n.item),a=t.findViewImgElement(i);if(null===n.attributeNewValue){var c=n.attributeOldValue;c.data&&(o.removeAttribute("srcset",a),o.removeAttribute("sizes",a),c.width&&o.removeAttribute("width",a))}else{var u=n.attributeNewValue;u.data&&(o.setAttribute("srcset",u.data,a),o.setAttribute("sizes","100vw",a),u.width&&o.setAttribute("width",u.width,a))}}}}function DB(t,e,n){return function(t){t.on("attribute:".concat(n,":").concat(e),r)};function r(e,n,r){if(r.consumable.consume(n.item,e.name)){var o=r.writer,i=r.mapper.toViewElement(n.item),a=t.findViewImgElement(i);o.setAttribute(n.attributeKey,n.attributeNewValue||"",a)}}}function NB(t){return(NB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function BB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LB(t,e){return(LB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=qB(t);if(e){var o=qB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VB(this,n)}}function VB(t,e){return!e||"object"!==NB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qB(t){return(qB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var UB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LB(t,e)}(i,t);var e,n,r,o=FB(i);function i(){return BB(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"observe",value:function(t){var e=this;this.listenTo(t,"load",function(t,n){var r=n.target;e.checkShouldIgnoreEventFromTarget(r)||"IMG"==r.tagName&&e._fireEvents(n)},{useCapture:!0})}},{key:"_fireEvents",value:function(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}])&&zB(e.prototype,n),r&&zB(e,r),i}(cs);function HB(t){return(HB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function $B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(e){GB(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function GB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YB(t,e){return(YB=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function JB(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ZB(t);if(e){var o=ZB(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XB(this,n)}}function XB(t,e){return!e||"object"!==HB(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZB(t){return(ZB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QB=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YB(t,e)}(i,t);var e,n,r,o=JB(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t);var n=t.config.get("image.insert.type");return t.plugins.has("ImageBlockEditing")||"block"===n&&Object(u.b)("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||"inline"===n&&Object(u.b)("image-inline-plugin-required"),e}return e=i,(n=[{key:"refresh",value:function(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}},{key:"execute",value:function(t){var e=this,n=Hr(t.source),r=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(r.getAttributes());n.forEach(function(t,n){var a=r.getSelectedElement();if("string"==typeof t&&(t={src:t}),n&&a&&o.isImage(a)){var c=e.editor.model.createPositionAfter(a);o.insertImage($B($B({},t),i),c)}else o.insertImage($B($B({},t),i))})}}])&&KB(e.prototype,n),r&&KB(e,r),i}(be);function tz(t){return(tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rz(t,e){return(rz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=az(t);if(e){var o=az(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return iz(this,n)}}function iz(t,e){return!e||"object"!==tz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function az(t){return(az=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rz(t,e)}(i,t);var e,n,r,o=oz(i);function i(){return ez(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[XN]}},{key:"pluginName",get:function(){return"ImageEditing"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.conversion;t.editing.view.addObserver(UB),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(t){var e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}});var n=new QB(t);t.commands.add("insertImage",n),t.commands.add("imageInsert",n)}}])&&nz(e.prototype,n),r&&nz(e,r),i}(ye);function uz(t){return(uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sz(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lz(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function lz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hz(t,e){return(hz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=yz(t);if(e){var o=yz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dz(this,n)}}function dz(t,e){return!e||"object"!==uz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yz(t){return(yz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hz(t,e)}(i,t);var e,n,r,o=pz(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t))._modelElementName=e,n}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=t.isInlineImage(e):this.isEnabled=t.isBlockImage(e)}},{key:"execute",value:function(){var t=this,e=this.editor,n=this.editor.model,r=e.plugins.get("ImageUtils"),o=r.getClosestSelectedImageElement(n.document.selection),i=Object.fromEntries(o.getAttributes());return i.src||i.uploadId?n.change(function(e){var a=Array.from(n.markers).filter(function(t){return t.getRange().containsItem(o)}),c=r.insertImage(i,n.createSelection(o,"on"),t._modelElementName);if(!c)return null;var u,s=e.createRangeOn(c),l=sz(a);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f.getRange(),p="$graveyard"!=h.root.rootName?h.getJoined(s,!0):s;e.updateMarker(f,{range:p})}}catch(t){l.e(t)}finally{l.f()}return{oldElement:o,newElement:c}}):null}}])&&fz(e.prototype,n),r&&fz(e,r),i}(be);function vz(t){return(vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wz(t,e){return(wz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Sz(t);if(e){var o=Sz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _z(this,n)}}function _z(t,e){return!e||"object"!==vz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sz(t){return(Sz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wz(t,e)}(i,t);var e,n,r,o=kz(i);function i(){return bz(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[cz,XN,jT]}},{key:"pluginName",get:function(){return"ImageBlockEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.register("imageBlock",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new mz(this.editor,"imageBlock")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var t=this.editor,e=t.t,n=t.conversion,r=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageBlock",view:function(t,e){return DN(e.writer,"imageBlock")}}),n.for("editingDowncast").elementToElement({model:"imageBlock",view:function(t,n){var o=n.writer;return r.toImageWidget(DN(o,"imageBlock"),o,e("image widget"))}}),n.for("downcast").add(DB(r,"imageBlock","src")).add(DB(r,"imageBlock","alt")).add(MB(r,"imageBlock")),n.for("upcast").elementToElement({view:NN(t,"imageBlock"),model:function(t,e){return e.writer.createElement("imageBlock",{src:t.getAttribute("src")})}}).add(function(t){return function(t){t.on("element:figure",e)};function e(e,n,r){if(r.consumable.test(n.viewItem,{name:!0,classes:"image"})){var o=t.findViewImgElement(n.viewItem);if(o&&o.hasAttribute("src")&&r.consumable.test(o,{name:!0})){var i=mf(r.convertItem(o,n.modelCursor).modelRange.getItems());i&&(r.convertChildren(n.viewItem,i),r.updateConversionResult(i,n))}}}}(r))}},{key:"_setupClipboardIntegration",value:function(){var t=this.editor,e=t.model,n=t.editing.view,r=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",function(o,i){var a,c=Array.from(i.content.getChildren());if(c.every(r.isInlineImageView)){a=i.targetRanges?t.editing.mapper.toModelRange(i.targetRanges[0]):e.document.selection.getFirstRange();var u=e.createSelection(a);if("imageBlock"===BN(e.schema,u)){var s=new kA(n.document),l=c.map(function(t){return s.createElement("figure",{class:"image"},t)});i.content=s.createDocumentFragment(l)}}})}}])&&gz(e.prototype,n),r&&gz(e,r),i}(ye);n(120);function Oz(t){return(Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Az(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ez(t,e){return(Ez=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jz(t);if(e){var o=jz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tz(this,n)}}function Tz(t,e){return!e||"object"!==Oz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jz(t){return(jz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ez(t,e)}(i,t);var e,n,r,o=Rz(i);function i(){return Az(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[xz,tC,IB]}},{key:"pluginName",get:function(){return"ImageBlock"}}],(n=null)&&Pz(e.prototype,n),r&&Pz(e,r),i}(ye);function Iz(t){return(Iz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mz(t){return function(t){if(Array.isArray(t))return Dz(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Dz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dz(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dz(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zz(t,e){return(zz=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Vz(t);if(e){var o=Vz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fz(this,n)}}function Fz(t,e){return!e||"object"!==Iz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vz(t){return(Vz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zz(t,e)}(i,t);var e,n,r,o=Lz(i);function i(){return Nz(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[cz,XN,jT]}},{key:"pluginName",get:function(){return"ImageInlineEditing"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.model.schema;e.register("imageInline",{isObject:!0,isInline:!0,allowWhere:"$text",allowAttributes:["alt","src","srcset"]}),e.addChildCheck(function(t,e){if(t.endsWith("caption")&&"imageInline"===e.name)return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new mz(this.editor,"imageInline")),this._setupClipboardIntegration())}},{key:"_setupConversion",value:function(){var t=this.editor,e=t.t,n=t.conversion,r=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:function(t,e){return e.writer.createEmptyElement("img")}}),n.for("editingDowncast").elementToElement({model:"imageInline",view:function(t,n){var o=n.writer;return r.toImageWidget(DN(o,"imageInline"),o,e("image widget"))}}),n.for("downcast").add(DB(r,"imageInline","src")).add(DB(r,"imageInline","alt")).add(MB(r,"imageInline")),n.for("upcast").elementToElement({view:NN(t,"imageInline"),model:function(t,e){return e.writer.createElement("imageInline",{src:t.getAttribute("src")})}})}},{key:"_setupClipboardIntegration",value:function(){var t=this.editor,e=t.model,n=t.editing.view,r=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",function(o,i){var a,c=Array.from(i.content.getChildren());if(c.every(r.isBlockImageView)){a=i.targetRanges?t.editing.mapper.toModelRange(i.targetRanges[0]):e.document.selection.getFirstRange();var u=e.createSelection(a);if("imageInline"===BN(e.schema,u)){var s=new kA(n.document),l=c.map(function(t){return 1===t.childCount?(Array.from(t.getAttributes()).forEach(function(e){return s.setAttribute.apply(s,Mz(e).concat([r.findViewImgElement(t)]))}),t.getChild(0)):t});i.content=s.createDocumentFragment(l)}}})}}])&&Bz(e.prototype,n),r&&Bz(e,r),i}(ye);function Uz(t){return(Uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $z(t,e){return($z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gz(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Yz(t);if(e){var o=Yz(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kz(this,n)}}function Kz(t,e){return!e||"object"!==Uz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Yz(t){return(Yz=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jz=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$z(t,e)}(i,t);var e,n,r,o=Gz(i);function i(){return Hz(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[qz,tC,IB]}},{key:"pluginName",get:function(){return"ImageInline"}}],(n=null)&&Wz(e.prototype,n),r&&Wz(e,r),i}(ye);function Xz(t){return(Xz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tL(t,e){return(tL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=rL(t);if(e){var o=rL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nL(this,n)}}function nL(t,e){return!e||"object"!==Xz(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rL(t){return(rL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tL(t,e)}(i,t);var e,n,r,o=eL(i);function i(){return Zz(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[Cz,Jz]}},{key:"pluginName",get:function(){return"Image"}}],(n=null)&&Qz(e.prototype,n),r&&Qz(e,r),i}(ye);function iL(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return aL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aL(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function aL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cL(t){var e,n=iL(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r&&r.is("element","caption"))return r}}catch(t){n.e(t)}finally{n.f()}return null}function uL(t,e){var n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}function sL(t){return(sL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hL(t,e){return(hL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=yL(t);if(e){var o=yL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dL(this,n)}}function dL(t,e){return!e||"object"!==sL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yL(t){return(yL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hL(t,e)}(i,t);var e,n,r,o=pL(i);function i(){return lL(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor,e=t.plugins.get("ImageUtils");if(!t.plugins.has(xz))return this.isEnabled=!1,void(this.value=!1);var n=t.model.document.selection,r=n.getSelectedElement();if(!r){var o=uL(e,n);return this.isEnabled=!!o,void(this.value=!!o)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(r),this.isEnabled?this.value=!!cL(r):this.value=!1}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.focusCaptionOnShow;this.editor.model.change(function(e){t.value?t._hideImageCaption(e):t._showImageCaption(e,n)})}},{key:"_showImageCaption",value:function(t,e){var n=this.editor.model.document.selection,r=this.editor.plugins.get("ImageCaptionEditing"),o=n.getSelectedElement(),i=r._getSavedCaption(o);this.editor.plugins.get("ImageUtils").isInlineImage(o)&&(this.editor.execute("imageTypeBlock"),o=n.getSelectedElement());var a=i||t.createElement("caption");t.append(a,o),e&&t.setSelection(a,"in")}},{key:"_hideImageCaption",value:function(t){var e,n=this.editor,r=n.model.document.selection,o=n.plugins.get("ImageCaptionEditing"),i=n.plugins.get("ImageUtils"),a=r.getSelectedElement();a?e=cL(a):a=(e=uL(i,r)).parent,o._saveCaption(a,e),t.setSelection(a,"on"),t.remove(e)}}])&&fL(e.prototype,n),r&&fL(e,r),i}(be);function vL(t){return(vL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gL(t,e,n){return e&&bL(t.prototype,e),n&&bL(t,n),t}function wL(t,e){return(wL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=SL(t);if(e){var o=SL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _L(this,n)}}function _L(t,e){return!e||"object"!==vL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SL(t){return(SL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wL(t,e)}(n,t);var e=kL(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t))._savedCaptionsMap=new WeakMap,r}return gL(n,null,[{key:"requires",get:function(){return[XN]}},{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),gL(n,[{key:"init",value:function(){var t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new mL(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration()}},{key:"_setupConversion",value:function(){var t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),r=t.t;t.conversion.for("upcast").elementToElement({view:function(t){return function(t,e){return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}(n,t)},model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:function(t,e){var r=e.writer;return n.isBlockImage(t.parent)?r.createContainerElement("figcaption"):null}}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:function(t,o){var i=o.writer;if(!n.isBlockImage(t.parent))return null;var a=i.createEditableElement("figcaption");i.setCustomProperty("imageCaption",!0,a),BO({view:e,element:a,text:r("Enter image caption"),keepOnFocus:!0});var c=mj(a,i);return dj(c,i,function(t,e,n){return n.addClass(Hr(e.classes),t)},function(t,e,n){return n.removeClass(Hr(e.classes),t)}),c}}),t.editing.mapper.on("modelToViewPosition",OL(e)),t.data.mapper.on("modelToViewPosition",OL(e))}},{key:"_setupImageTypeCommandsIntegration",value:function(){var t=this,e=this.editor,n=e.plugins.get("ImageUtils"),r=e.commands.get("imageTypeInline"),o=e.commands.get("imageTypeBlock"),i=function(e){if(e.return){var r=e.return,o=r.oldElement,i=r.newElement;if(o){if(n.isBlockImage(o)){var a=cL(o);if(a)return void t._saveCaption(i,a)}var c=t._getSavedCaption(o);c&&t._saveCaption(i,c)}}};r&&this.listenTo(r,"execute",i,{priority:"low"}),o&&this.listenTo(o,"execute",i,{priority:"low"})}},{key:"_getSavedCaption",value:function(t){var e=this._savedCaptionsMap.get(t);return e?vh.fromJSON(e):null}},{key:"_saveCaption",value:function(t,e){this._savedCaptionsMap.set(t,e.toJSON())}}]),n}(ye);function OL(t){return function(e,n){var r=n.modelPosition,o=r.parent;if(o.is("element","imageBlock")){var i=n.mapper.toViewElement(o);n.viewPosition=t.createPositionAt(i,r.offset+1)}}}function AL(t){return(AL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function PL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RL(t,e){return(RL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=CL(t);if(e){var o=CL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jL(this,n)}}function jL(t,e){return!e||"object"!==AL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CL(t){return(CL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RL(t,e)}(i,t);var e,n,r,o=TL(i);function i(){return PL(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[XN]}},{key:"pluginName",get:function(){return"ImageCaptionUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.editing.view,r=e.plugins.get("ImageUtils"),o=e.t;e.ui.componentFactory.add("toggleImageCaption",function(i){var a=e.commands.get("toggleImageCaption"),c=new Nk(i);return c.set({icon:Yg,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),c.bind("label").to(a,"value",function(t){return o(t?"Toggle caption off":"Toggle caption on")}),t.listenTo(c,"execute",function(){e.execute("toggleImageCaption",{focusCaptionOnShow:!0});var t=uL(r,e.model.document.selection);if(t){var o=e.editing.mapper.toViewElement(t);n.scrollToTheSelection(),n.change(function(t){t.addClass("image__caption_highlighted",o)})}}),c})}}])&&EL(e.prototype,n),r&&EL(e,r),i}(ye);n(449);function ML(t){return(ML="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BL(t,e){return(BL=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=FL(t);if(e){var o=FL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LL(this,n)}}function LL(t,e){return!e||"object"!==ML(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FL(t){return(FL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var VL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BL(t,e)}(i,t);var e,n,r,o=zL(i);function i(){return DL(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[xL,IL]}},{key:"pluginName",get:function(){return"ImageCaption"}}],(n=null)&&NL(e.prototype,n),r&&NL(e,r),i}(ye);function qL(t){return(qL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function UL(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return HL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HL(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function HL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $L(t,e){return($L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function GL(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=YL(t);if(e){var o=YL(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KL(this,n)}}function KL(t,e){return!e||"object"!==qL(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YL(t){return(YL=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var JL=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$L(t,e)}(i,t);var e,n,r,o=GL(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t))._defaultStyles={imageBlock:!1,imageInline:!1},n._styles=new Map(e.map(function(t){if(t.isDefault){var e,r=UL(t.modelElements);try{for(r.s();!(e=r.n()).done;){var o=e.value;n._defaultStyles[o]=t.name}}catch(t){r.e(t)}finally{r.f()}}return[t.name,t]})),n}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.isEnabled?t.hasAttribute("imageStyle")?this.value=t.getAttribute("imageStyle"):this.value=this._defaultStyles[t.name]:this.value=!1}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor,r=n.model,o=n.plugins.get("ImageUtils");r.change(function(n){var i=e.value,a=o.getClosestSelectedImageElement(r.document.selection);i&&t.shouldConvertImageType(i,a)&&(t.editor.execute(o.isBlockImage(a)?"imageTypeInline":"imageTypeBlock"),a=o.getClosestSelectedImageElement(r.document.selection)),!i||t._styles.get(i).isDefault?n.removeAttribute("imageStyle",a):n.setAttribute("imageStyle",i,a)})}},{key:"shouldConvertImageType",value:function(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}])&&WL(e.prototype,n),r&&WL(e,r),i}(be);function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ZL(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(e){QL(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function QL(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tF={inline:{name:"inline",title:"In line",icon:rw,modelElements:["imageInline"],isDefault:!0},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Qg,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"},alignBlockLeft:{name:"alignBlockLeft",title:"Left aligned image",icon:ow,modelElements:["imageBlock"],className:"image-style-block-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:tw,modelElements:["imageBlock"],className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:ew,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"},alignBlockRight:{name:"alignBlockRight",title:"Right aligned image",icon:iw,modelElements:["imageBlock"],className:"image-style-block-align-right"},block:{name:"block",title:"Centered image",icon:tw,modelElements:["imageBlock"],isDefault:!0},side:{name:"side",title:"Side image",icon:ew,modelElements:["imageBlock"],className:"image-style-side"}},eF={full:nw,left:ow,right:iw,center:tw,inlineLeft:Qg,inlineRight:ew,inline:rw},nF=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function rF(t){Object(u.b)("image-style-configuration-definition-invalid",t)}var oF={normalizeStyles:function(t){return(t.configuredStyles.options||[]).map(function(t){return function(t){t="string"==typeof t?tF[t]?ZL({},tF[t]):{name:t}:function(t,e){var n=ZL({},e);for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(n[r]=t[r]);return n}(tF[t.name],t);"string"==typeof t.icon&&(t.icon=eF[t.icon]||t.icon);return t}(t)}).filter(function(e){return function(t,e){var n=e.isBlockPluginLoaded,r=e.isInlinePluginLoaded,o=t.modelElements,i=t.name;if(!(o&&o.length&&i))return rF({style:t}),!1;var a=[n?"imageBlock":null,r?"imageInline":null];if(!o.some(function(t){return a.includes(t)}))return Object(u.b)("image-style-missing-dependency",{style:t,missingPlugins:o.map(function(t){return"imageBlock"===t?"ImageBlockEditing":"ImageInlineEditing"})}),!1;return!0}(e,t)})},getDefaultStylesConfiguration:function(t,e){return t&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:t?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(t){return t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")?[].concat(nF):[]},warnInvalidStyle:rF,DEFAULT_OPTIONS:tF,DEFAULT_ICONS:eF,DEFAULT_DROPDOWN_DEFINITIONS:nF};function iF(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return aF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aF(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function aF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cF(t,e){var n,r=iF(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.name===t)return o}}catch(t){r.e(t)}finally{r.f()}}function uF(t){return(uF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sF(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return lF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lF(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function lF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pF(t,e){return(pF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=mF(t);if(e){var o=mF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yF(this,n)}}function yF(t,e){return!e||"object"!==uF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mF(t){return(mF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pF(t,e)}(i,t);var e,n,r,o=dF(i);function i(){return fF(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ImageStyleEditing"}},{key:"requires",get:function(){return[XN]}}],(n=[{key:"init",value:function(){var t=oF.normalizeStyles,e=oF.getDefaultStylesConfiguration,n=this.editor,r=n.plugins.has("ImageBlockEditing"),o=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(r,o)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:r,isInlinePluginLoaded:o}),this._setupConversion(r,o),this._setupPostFixer(),n.commands.add("imageStyle",new JL(n,this.normalizedStyles))}},{key:"_setupConversion",value:function(t,e){var n,r=this.editor,o=r.model.schema,i=(n=this.normalizedStyles,function(t,e,r){if(r.consumable.consume(e.item,t.name)){var o=cF(e.attributeNewValue,n),i=cF(e.attributeOldValue,n),a=r.mapper.toViewElement(e.item),c=r.writer;i&&c.removeClass(i.className,a),o&&c.addClass(o.className,a)}}),a=function(t){var e={imageInline:t.filter(function(t){return!t.isDefault&&t.modelElements.includes("imageInline")}),imageBlock:t.filter(function(t){return!t.isDefault&&t.modelElements.includes("imageBlock")})};return function(t,n,r){if(n.modelRange){var o=n.viewItem,i=mf(n.modelRange.getItems());if(i&&r.schema.checkAttribute(i,"imageStyle")){var a,c=iF(e[i.name]);try{for(c.s();!(a=c.n()).done;){var u=a.value;r.consumable.consume(o,{classes:u.className})&&r.writer.setAttribute("imageStyle",u.name,i)}}catch(t){c.e(t)}finally{c.f()}}}}}(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",i),r.data.downcastDispatcher.on("attribute:imageStyle",i),t&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",a,{priority:"low"})),e&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",a,{priority:"low"}))}},{key:"_setupPostFixer",value:function(){var t=this.editor,e=t.model.document,n=t.plugins.get(XN),r=new Map(this.normalizedStyles.map(function(t){return[t.name,t]}));e.registerPostFixer(function(t){var o,i=!1,a=sF(e.differ.getChanges());try{for(a.s();!(o=a.n()).done;){var c=o.value;if("insert"==c.type||"attribute"==c.type&&"imageStyle"==c.attributeKey){var u="insert"==c.type?c.position.nodeAfter:c.range.start.nodeAfter;if(u&&u.is("element","paragraph")&&u.childCount>0&&(u=u.getChild(0)),!n.isImage(u))continue;var s=u.getAttribute("imageStyle");if(!s)continue;var l=r.get(s);l&&l.modelElements.includes(u.name)||(t.removeAttribute("imageStyle",u),i=!0)}}}catch(t){a.e(t)}finally{a.f()}return i})}}])&&hF(e.prototype,n),r&&hF(e,r),i}(ye);n(451);function bF(t){return(bF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gF(t){return function(t){if(Array.isArray(t))return _F(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||kF(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wF(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=kF(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function kF(t,e){if(t){if("string"==typeof t)return _F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_F(t,e):void 0}}function _F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OF(t,e){return(OF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function AF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=EF(t);if(e){var o=EF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PF(this,n)}}function PF(t,e){return!e||"object"!==bF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function EF(t){return(EF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var RF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&OF(t,e)}(i,t);var e,n,r,o=AF(i);function i(){return SF(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[vF]}},{key:"pluginName",get:function(){return"ImageStyleUI"}}],(n=[{key:"init",value:function(){var t,e=this.editor.plugins,n=this.editor.config.get("image.toolbar")||[],r=TF(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles),o=wF(r);try{for(o.s();!(t=o.n()).done;){var i=t.value;this._createButton(i)}}catch(t){o.e(t)}finally{o.f()}var a,c=wF(TF([].concat(gF(n.filter(A)),gF(oF.getDefaultDropdownDefinitions(e))),this.localizedDefaultStylesTitles));try{for(c.s();!(a=c.n()).done;){var u=a.value;this._createDropdown(u,r)}}catch(t){c.e(t)}finally{c.f()}}},{key:"_createDropdown",value:function(t,e){var n=this.editor.ui.componentFactory;n.add(t.name,function(r){var o,i=t.defaultItem,a=t.items,c=t.title,u=a.filter(function(t){return e.find(function(e){return jF(e.name)===t})}).map(function(t){var e=n.create(t);return t===i&&(o=e),e});a.length!==u.length&&oF.warnInvalidStyle({dropdown:t});var s=zS(r,p_),l=s.buttonView;return LS(s,u),l.set({label:CF(c,o.label),class:null,tooltip:!0}),l.bind("icon").toMany(u,"isOn",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.findIndex(at);return r<0?o.icon:u[r].icon}),l.bind("label").toMany(u,"isOn",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.findIndex(at);return CF(c,r<0?o.label:u[r].label)}),l.bind("isOn").toMany(u,"isOn",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some(at)}),l.bind("class").toMany(u,"isOn",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some(at)?"ck-splitbutton_flatten":null}),l.on("execute",function(){u.some(function(t){return t.isOn})?s.isOpen=!s.isOpen:o.fire("execute")}),s.bind("isEnabled").toMany(u,"isEnabled",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some(at)}),s})}},{key:"_createButton",value:function(t){var e=this,n=t.name;this.editor.ui.componentFactory.add(jF(n),function(r){var o=e.editor.commands.get("imageStyle"),i=new Nk(r);return i.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",function(t){return t===n}),i.on("execute",e._executeCommand.bind(e,n)),i})}},{key:"_executeCommand",value:function(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}},{key:"localizedDefaultStylesTitles",get:function(){var t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}}])&&xF(e.prototype,n),r&&xF(e,r),i}(ye);function TF(t,e){var n,r=wF(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e[o.title]&&(o.title=e[o.title])}}catch(t){r.e(t)}finally{r.f()}return t}function jF(t){return"imageStyle:".concat(t)}function CF(t,e){return(t?t+": ":"")+e}function IF(t){return(IF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NF(t,e){return(NF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=LF(t);if(e){var o=LF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zF(this,n)}}function zF(t,e){return!e||"object"!==IF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LF(t){return(LF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NF(t,e)}(i,t);var e,n,r,o=BF(i);function i(){return MF(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[vF,RF]}},{key:"pluginName",get:function(){return"ImageStyle"}}],(n=null)&&DF(e.prototype,n),r&&DF(e,r),i}(ye);function VF(t){return(VF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HF(t,e){return(HF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=GF(t);if(e){var o=GF(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $F(this,n)}}function $F(t,e){return!e||"object"!==VF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GF(t){return(GF=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var KF=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HF(t,e)}(i,t);var e,n,r,o=WF(i);function i(){return qF(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[tN,XN]}},{key:"pluginName",get:function(){return"ImageToolbar"}}],(n=[{key:"afterInit",value:function(){var t,e=this.editor,n=e.t,r=e.plugins.get(tN),o=e.plugins.get("ImageUtils");r.register("image",{ariaLabel:n("Image toolbar"),items:(t=e.config.get("image.toolbar")||[],t.map(function(t){return A(t)?t.name:t})),getRelatedElement:function(t){return o.getClosestSelectedImageWidget(t)}})}}])&&UF(e.prototype,n),r&&UF(e,r),i}(ye);function YF(t){return(YF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZF(t,e){return(ZF=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function QF(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=eV(t);if(e){var o=eV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tV(this,n)}}function tV(t,e){return!e||"object"!==YF(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eV(t){return(eV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZF(t,e)}(i,t);var e,n,r,o=QF(i);function i(){return JF(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor,e=t.plugins.get("ImageUtils").getClosestSelectedImageElement(t.model.document.selection);this.isEnabled=!!e,e&&e.hasAttribute("width")?this.value={width:e.getAttribute("width"),height:null}:this.value=null}},{key:"execute",value:function(t){var e=this.editor,n=e.model,r=e.plugins.get("ImageUtils").getClosestSelectedImageElement(n.document.selection);this.value={width:t.width,height:null},r&&n.change(function(e){e.setAttribute("width",t.width,r)})}}])&&XF(e.prototype,n),r&&XF(e,r),i}(be);function rV(t){return(rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function iV(t,e,n){return e&&oV(t.prototype,e),n&&oV(t,n),t}function aV(t,e){return(aV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=sV(t);if(e){var o=sV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uV(this,n)}}function uV(t,e){return!e||"object"!==rV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sV(t){return(sV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aV(t,e)}(n,t);var e=cV(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=e.call(this,t),t.config.define("image",{resizeUnit:"%",resizeOptions:[{name:"resizeImage:original",value:null,icon:"original"},{name:"resizeImage:25",value:"25",icon:"small"},{name:"resizeImage:50",value:"50",icon:"medium"},{name:"resizeImage:75",value:"75",icon:"large"}]}),r}return iV(n,null,[{key:"requires",get:function(){return[XN]}},{key:"pluginName",get:function(){return"ImageResizeEditing"}}]),iV(n,[{key:"init",value:function(){var t=this.editor,e=new nV(t);this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline"),t.commands.add("resizeImage",e),t.commands.add("imageResize",e)}},{key:"_registerSchema",value:function(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:"width"}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:"width"})}},{key:"_registerConverters",value:function(t){var e=this.editor;e.conversion.for("downcast").add(function(e){return e.on("attribute:width:".concat(t),function(t,e,n){if(n.consumable.consume(e.item,t.name)){var r=n.writer,o=n.mapper.toViewElement(e.item);null!==e.attributeNewValue?(r.setStyle("width",e.attributeNewValue,o),r.addClass("image_resized",o)):(r.removeStyle("width",o),r.removeClass("image_resized",o))}})}),e.conversion.for("upcast").attributeToAttribute({view:{name:"imageBlock"===t?"figure":"img",styles:{width:/.+/}},model:{key:"width",value:function(t){return t.getStyle("width")}}})}}]),n}(ye);function fV(t){return(fV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dV(t,e){return(dV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=vV(t);if(e){var o=vV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mV(this,n)}}function mV(t,e){return!e||"object"!==fV(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vV(t){return(vV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bV=/(image|image-inline)/,gV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dV(t,e)}(i,t);var e,n,r,o=yV(i);function i(){return hV(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[AN]}},{key:"pluginName",get:function(){return"ImageResizeHandles"}}],(n=[{key:"init",value:function(){var t=this.editor.commands.get("resizeImage");this.bind("isEnabled").to(t),this._setupResizerCreator()}},{key:"_setupResizerCreator",value:function(){var t=this,e=this.editor,n=e.editing.view;n.addObserver(UB),this.listenTo(n.document,"imageLoaded",function(r,o){if(o.target.matches("figure.image.ck-widget > img,figure.image.ck-widget > picture > img,figure.image.ck-widget > a > img,figure.image.ck-widget > a > picture > img,span.image-inline.ck-widget > img,span.image-inline.ck-widget > picture > img")){var i=e.editing.view.domConverter,a=i.domToView(o.target).findAncestor({classes:bV}),c=t.editor.plugins.get(AN).getResizerByViewElement(a);if(c)c.redraw();else{var u=e.editing.mapper,s=u.toModelElement(a);(c=e.plugins.get(AN).attachTo({unit:e.config.get("image.resizeUnit"),modelElement:s,viewElement:a,editor:e,getHandleHost:function(t){return t.querySelector("img")},getResizeHost:function(){return i.viewToDom(u.toViewElement(s.parent))},isCentered:function(){var t=s.getAttribute("imageStyle");return!t||"block"==t||"alignCenter"==t},onCommit:function(t){n.change(function(t){t.removeClass("image_resized",a)}),e.execute("resizeImage",{width:t})}})).on("updateSize",function(){a.hasClass("image_resized")||n.change(function(t){t.addClass("image_resized",a)})}),c.bind("isEnabled").to(t)}}})}}])&&pV(e.prototype,n),r&&pV(e,r),i}(ye);function wV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var kV=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=function(t){e.loaded=t.loaded}}var e,n,r;return e=t,(n=[{key:"read",value:function(t){var e=this,n=this._reader;return this.total=t.size,new Promise(function(r,o){n.onload=function(){var t=n.result;e._data=t,r(t)},n.onerror=function(){o("error")},n.onabort=function(){o("aborted")},e._reader.readAsDataURL(t)})}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}])&&wV(e.prototype,n),r&&wV(e,r),t}();function _V(t){return(_V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SV(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return xV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xV(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function xV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PV(t,e,n){return e&&AV(t.prototype,e),n&&AV(t,n),t}function EV(t,e){return(EV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jV(t);if(e){var o=jV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TV(this,n)}}function TV(t,e){return!e||"object"!==_V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jV(t){return(jV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(kV,oe);var CV=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EV(t,e)}(n,t);var e=RV(n);function n(){return OV(this,n),e.apply(this,arguments)}return PV(n,[{key:"init",value:function(){var t=this;this.loaders=new Dr,this.loaders.on("add",function(){return t._updatePendingAction()}),this.loaders.on("remove",function(){return t._updatePendingAction()}),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(t,e){return e?t/e*100:0})}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var e=this;if(!this.createUploadAdapter)return Object(u.b)("filerepository-no-upload-adapter"),null;var n=new IV(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(t,n),t instanceof Promise&&n.file.then(function(t){e._loadersMap.set(t,n)}).catch(function(){}),n.on("change:uploaded",function(){var t,n=0,r=SV(e.loaders);try{for(r.s();!(t=r.n()).done;){n+=t.value.uploaded}}catch(t){r.e(t)}finally{r.f()}e.uploaded=n}),n.on("change:uploadTotal",function(){var t,n=0,r=SV(e.loaders);try{for(r.s();!(t=r.n()).done;){var o=t.value;o.uploadTotal&&(n+=o.uploadTotal)}}catch(t){r.e(t)}finally{r.f()}e.uploadTotal=n}),n}},{key:"destroyLoader",value:function(t){var e=this,n=t instanceof IV?t:this.getLoader(t);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach(function(t,r){t===n&&e._loadersMap.delete(r)})}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(Gg);if(this.loaders.length){if(!this._pendingAction){var e=this.editor.t,n=function(t){return"".concat(e("Upload in progress")," ").concat(parseInt(t),"%.")};this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Gg]}}]),n}(ye);pe(CV,oe);var IV=function(){function t(e,n){OV(this,t),this.id=a(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=n(this),this._reader=new kV,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(t,e){return e?t/e*100:0}),this.set("uploadResponse",null)}return PV(t,[{key:"read",value:function(){var t=this;if("idle"!=this.status)throw new u.a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(function(e){return t._reader.read(e)}).then(function(e){if("reading"!==t.status)throw t.status;return t.status="idle",e}).catch(function(e){if("aborted"===e)throw t.status="aborted","aborted";throw t.status="error",t._reader.error?t._reader.error:e})}},{key:"upload",value:function(){var t=this;if("idle"!=this.status)throw new u.a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(function(){return t._adapter.upload()}).then(function(e){return t.uploadResponse=e,t.status="idle",e}).catch(function(e){if("aborted"===t.status)throw"aborted";throw t.status="error",e})}},{key:"abort",value:function(){var t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(t){var e={};return e.promise=new Promise(function(n,r){e.rejecter=r,e.isFulfilled=!1,t.then(function(t){e.isFulfilled=!0,n(t)}).catch(function(t){e.isFulfilled=!0,r(t)})}),e}},{key:"file",get:function(){var t=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(e){return t._filePromiseWrapper?e:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]),t}();function MV(t){return(MV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BV(t,e,n){return e&&NV(t.prototype,e),n&&NV(t,n),t}function zV(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LV(t,e)}function LV(t,e){return(LV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FV(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=UV(t);if(e){var o=UV(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VV(this,n)}}function VV(t,e){return!e||"object"!==MV(e)&&"function"!=typeof e?qV(t):e}function qV(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(t){return(UV=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}pe(IV,oe);var HV=function(t){zV(n,t);var e=FV(n);function n(t){var r;return DV(this,n),(r=e.call(this,t)).buttonView=new Nk(t),r._fileInputView=new WV(t),r._fileInputView.bind("acceptedType").to(qV(r)),r._fileInputView.bind("allowMultipleFiles").to(qV(r)),r._fileInputView.delegate("done").to(qV(r)),r.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[r.buttonView,r._fileInputView]}),r.buttonView.on("execute",function(){r._fileInputView.open()}),r}return BV(n,[{key:"focus",value:function(){this.buttonView.focus()}}]),n}(xw),WV=function(t){zV(n,t);var e=FV(n);function n(t){var r;DV(this,n),(r=e.call(this,t)).set("acceptedType"),r.set("allowMultipleFiles",!1);var o=r.bindTemplate;return r.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(function(){r.element&&r.element.files&&r.element.files.length&&r.fire("done",r.element.files),r.element.value=""})}}),r}return BV(n,[{key:"open",value:function(){this.element.click()}}]),n}(xw);function $V(t){return($V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function KV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(e){YV(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function YV(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZV(t,e,n){return e&&XV(t.prototype,e),n&&XV(t,n),t}function QV(t,e){return(QV=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=nq(t);if(e){var o=nq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eq(this,n)}}function eq(t,e){return!e||"object"!==$V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nq(t){return(nq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QV(t,e)}(n,t);var e=tq(n);function n(){return JV(this,n),e.apply(this,arguments)}return ZV(n,[{key:"init",value:function(){var t=this.editor.config.get("simpleUpload");t&&(t.uploadUrl?this.editor.plugins.get(CV).createUploadAdapter=function(e){return new oq(e,t)}:Object(u.b)("simple-upload-adapter-missing-uploadurl"))}}],[{key:"requires",get:function(){return[CV]}},{key:"pluginName",get:function(){return"SimpleUploadAdapter"}}]),n}(ye),oq=function(){function t(e,n){JV(this,t),this.loader=e,this.options=n}return ZV(t,[{key:"upload",value:function(){var t=this;return this.loader.file.then(function(e){return new Promise(function(n,r){t._initRequest(),t._initListeners(n,r,e),t._sendRequest(e)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var t=this.xhr=new XMLHttpRequest;t.open("POST",this.options.uploadUrl,!0),t.responseType="json"}},{key:"_initListeners",value:function(t,e,n){var r=this.xhr,o=this.loader,i="Couldn't upload file: ".concat(n.name,".");r.addEventListener("error",function(){return e(i)}),r.addEventListener("abort",function(){return e()}),r.addEventListener("load",function(){var n=r.response;if(!n||n.error)return e(n&&n.error&&n.error.message?n.error.message:i);var o=n.url?{default:n.url}:n.urls;t(KV(KV({},n),{},{urls:o}))}),r.upload&&r.upload.addEventListener("progress",function(t){t.lengthComputable&&(o.uploadTotal=t.total,o.uploaded=t.loaded)})}},{key:"_sendRequest",value:function(t){for(var e=this.options.headers||{},n=this.options.withCredentials||!1,r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];this.xhr.setRequestHeader(i,e[i])}this.xhr.withCredentials=n;var a=new FormData;a.append("upload",t),this.xhr.send(a)}}]),t}();function iq(t){var e=t.map(function(t){return t.replace("+","\\+")});return new RegExp("^image\\/(".concat(e.join("|"),")$"))}function aq(t){return new Promise(function(e,n){var r=t.getAttribute("src");fetch(r).then(function(t){return t.blob()}).then(function(t){var n=cq(t,r),o=n.replace("image/",""),i="image.".concat(o),a=new File([t],i,{type:n});e(a)}).catch(function(t){return t&&"TypeError"===t.name?function(t){return function(t){return new Promise(function(e,n){var r=Vu.document.createElement("img");r.addEventListener("load",function(){var t=Vu.document.createElement("canvas");t.width=r.width,t.height=r.height,t.getContext("2d").drawImage(r,0,0),t.toBlob(function(t){return t?e(t):n()})}),r.addEventListener("error",function(){return n()}),r.src=t})}(t).then(function(e){var n=cq(e,t),r=n.replace("image/",""),o="image.".concat(r);return new File([e],o,{type:n})})}(r).then(e).catch(n):n(t)})})}function cq(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}function uq(t){return(uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fq(t,e){return(fq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=dq(t);if(e){var o=dq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pq(this,n)}}function pq(t,e){return!e||"object"!==uq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dq(t){return(dq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fq(t,e)}(i,t);var e,n,r,o=hq(i);function i(){return sq(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ImageUploadUI"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.t,n=function(n){var r=new HV(n),o=t.commands.get("uploadImage"),i=t.config.get("image.upload.types"),a=iq(i);return r.set({acceptedType:i.map(function(t){return"image/".concat(t)}).join(","),allowMultipleFiles:!0}),r.buttonView.set({label:e("Insert image"),icon:Zg,tooltip:!0}),r.buttonView.bind("isEnabled").to(o),r.on("done",function(e,n){var r=Array.from(n).filter(function(t){return a.test(t.type)});r.length&&t.execute("uploadImage",{file:r})}),r};t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n)}}])&&lq(e.prototype,n),r&&lq(e,r),i}(ye);n(453),n(455),n(457);function mq(t){return(mq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vq(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return bq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bq(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function bq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wq(t,e,n){return e&&gq(t.prototype,e),n&&gq(t,n),t}function kq(t,e){return(kq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=xq(t);if(e){var o=xq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sq(this,n)}}function Sq(t,e){return!e||"object"!==mq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xq(t){return(xq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Oq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kq(t,e)}(n,t);var e=_q(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t)).placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),r}return wq(n,null,[{key:"pluginName",get:function(){return"ImageUploadProgress"}}]),wq(n,[{key:"init",value:function(){var t=this,e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",function(){return t.uploadStatusChange.apply(t,arguments)}),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",function(){return t.uploadStatusChange.apply(t,arguments)})}},{key:"uploadStatusChange",value:function(t,e,n){var r=this.editor,o=e.item,i=o.getAttribute("uploadId");if(n.consumable.consume(e.item,t.name)){var a=r.plugins.get("ImageUtils"),c=r.plugins.get(CV),u=i?e.attributeNewValue:null,s=this.placeholder,l=r.editing.mapper.toViewElement(o),f=n.writer;if("reading"==u)return Aq(l,f),void Pq(a,s,l,f);if("uploading"==u){var h=c.loaders.get(i);return Aq(l,f),void(h?(Eq(l,f),function(t,e,n,r){var o=function(t){var e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",function(t,e,n){r.change(function(t){t.setStyle("width",n+"%",o)})})}(l,f,h,r.editing.view),function(t,e,n,r){if(r.data){var o=t.findViewImgElement(e);n.setAttribute("src",r.data,o)}}(a,l,f,h)):Pq(a,s,l,f))}"complete"==u&&c.loaders.get(i)&&function(t,e,n){var r=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),r),setTimeout(function(){n.change(function(t){return t.remove(t.createRangeOn(r))})},3e3)}(l,f,r.editing.view),function(t,e){Tq(t,e,"progressBar")}(l,f),Eq(l,f),function(t,e){e.removeClass("ck-appear",t)}(l,f)}}}]),n}(ye);function Aq(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Pq(t,e,n,r){n.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",n);var o=t.findViewImgElement(n);o.getAttribute("src")!==e&&r.setAttribute("src",e,o),Rq(n,"placeholder")||r.insert(r.createPositionAfter(o),function(t){var e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(r))}function Eq(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),Tq(t,e,"placeholder")}function Rq(t,e){var n,r=vq(t.getChildren());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.getCustomProperty(e))return o}}catch(t){r.e(t)}finally{r.f()}}function Tq(t,e,n){var r=Rq(t,n);r&&e.remove(e.createRangeOn(r))}function jq(t){return(jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Iq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cq(Object(n),!0).forEach(function(e){Mq(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Mq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bq(t,e){return(Bq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Fq(t);if(e){var o=Fq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lq(this,n)}}function Lq(t,e){return!e||"object"!==jq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fq(t){return(Fq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Bq(t,e)}(i,t);var e,n,r,o=zq(i);function i(){return Dq(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}},{key:"execute",value:function(t){var e=this,n=Hr(t.file),r=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),i=Object.fromEntries(r.getAttributes());n.forEach(function(t,n){var a=r.getSelectedElement();if(n&&a&&o.isImage(a)){var c=e.editor.model.createPositionAfter(a);e._uploadImage(t,i,c)}else e._uploadImage(t,i)})}},{key:"_uploadImage",value:function(t,e,n){var r=this.editor,o=r.plugins.get(CV).createLoader(t),i=r.plugins.get("ImageUtils");o&&i.insertImage(Iq(Iq({},e),{},{uploadId:o.id}),n)}}])&&Nq(e.prototype,n),r&&Nq(e,r),i}(be);function qq(t){return(qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uq(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Hq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hq(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Hq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $q(t,e,n){return e&&Wq(t.prototype,e),n&&Wq(t,n),t}function Gq(t,e){return(Gq=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kq(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Jq(t);if(e){var o=Jq(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yq(this,n)}}function Yq(t,e){return!e||"object"!==qq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Jq(t){return(Jq=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xq=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gq(t,e)}(n,t);var e=Kq(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),r=e.call(this,t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),r._uploadImageElements=new Map,r}return $q(n,null,[{key:"requires",get:function(){return[CV,Yx,jT,XN]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),$q(n,[{key:"init",value:function(){var t=this,e=this.editor,n=e.model.document,r=e.conversion,o=e.plugins.get(CV),i=e.plugins.get("ImageUtils"),a=iq(e.config.get("image.upload.types")),c=new Vq(e);e.commands.add("uploadImage",c),e.commands.add("imageUpload",c),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",function(t,n){if(r=n.dataTransfer,!Array.from(r.types).includes("text/html")||""===r.getData("text/html")){var r,o=Array.from(n.dataTransfer.files).filter(function(t){return!!t&&a.test(t.type)});o.length&&(t.stop(),e.model.change(function(t){n.targetRanges&&t.setSelection(n.targetRanges.map(function(t){return e.editing.mapper.toModelRange(t)})),e.model.enqueueChange("default",function(){e.execute("uploadImage",{file:o})})}))}}),this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",function(t,n){var r=Array.from(e.editing.view.createRangeIn(n.content)).filter(function(t){return function(t,e){return!(!t.isInlineImageView(e)||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))}(i,t.item)&&!t.item.getAttribute("uploadProcessed")}).map(function(t){return{promise:aq(t.item),imageElement:t.item}});if(r.length){var a,c=new kA(e.editing.view.document),u=Uq(r);try{for(u.s();!(a=u.n()).done;){var s=a.value;c.setAttribute("uploadProcessed",!0,s.imageElement);var l=o.createLoader(s.promise);l&&(c.setAttribute("src","",s.imageElement),c.setAttribute("uploadId",l.id,s.imageElement))}}catch(t){u.e(t)}finally{u.f()}}}),e.editing.view.document.on("dragover",function(t,e){e.preventDefault()}),n.on("change",function(){var r,i=n.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),a=new Set,c=Uq(i);try{for(c.s();!(r=c.n()).done;){var u=r.value;if("insert"==u.type&&"$text"!=u.name){var s,l=u.position.nodeAfter,f="$graveyard"==u.position.root.rootName,h=Uq(Zq(e,l));try{for(h.s();!(s=h.n()).done;){var p=s.value,d=p.getAttribute("uploadId");if(d){var y=o.loaders.get(d);y&&(f?a.has(d)||y.abort():(a.add(d),t._uploadImageElements.set(d,p),"idle"==y.status&&t._readAndUpload(y)))}}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}}),this.on("uploadComplete",function(e,n){var r=n.imageElement,o=n.data,i=o.urls?o.urls:o;t.editor.model.change(function(e){e.setAttribute("src",i.default,r),t._parseAndSetSrcsetAttributeOnImage(i,r,e)})},{priority:"low"})}},{key:"afterInit",value:function(){var t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}},{key:"_readAndUpload",value:function(t){var e=this,n=this.editor,r=n.model,o=n.locale.t,i=n.plugins.get(CV),a=n.plugins.get(Yx),c=n.plugins.get("ImageUtils"),u=this._uploadImageElements;return r.enqueueChange("transparent",function(e){e.setAttribute("uploadStatus","reading",u.get(t.id))}),t.read().then(function(){var e=t.upload(),o=u.get(t.id);if(gc.isSafari){var i=n.editing.mapper.toViewElement(o),a=c.findViewImgElement(i);n.editing.view.once("render",function(){if(a.parent){var t=n.editing.view.domConverter.mapViewToDom(a.parent);if(t){var e=t.style.display;t.style.display="none",t._ckHack=t.offsetHeight,t.style.display=e}}})}return r.enqueueChange("transparent",function(t){t.setAttribute("uploadStatus","uploading",o)}),e}).then(function(n){r.enqueueChange("transparent",function(r){var o=u.get(t.id);r.setAttribute("uploadStatus","complete",o),e.fire("uploadComplete",{data:n,imageElement:o})}),s()}).catch(function(e){if("error"!==t.status&&"aborted"!==t.status)throw e;"error"==t.status&&e&&a.showWarning(e,{title:o("Upload failed"),namespace:"upload"}),r.enqueueChange("transparent",function(e){e.remove(u.get(t.id))}),s()});function s(){r.enqueueChange("transparent",function(e){var n=u.get(t.id);e.removeAttribute("uploadId",n),e.removeAttribute("uploadStatus",n),u.delete(t.id)}),i.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,e,n){var r=0,o=Object.keys(t).filter(function(t){var e=parseInt(t,10);if(!isNaN(e))return r=Math.max(r,e),!0}).map(function(e){return"".concat(t[e]," ").concat(e,"w")}).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:r},e)}}]),n}(ye);function Zq(t,e){var n=t.plugins.get("ImageUtils");return Array.from(t.model.createRangeOn(e)).filter(function(t){return n.isImage(t.item)}).map(function(t){return t.item})}function Qq(t){return(Qq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nU(t,e){return(nU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=iU(t);if(e){var o=iU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oU(this,n)}}function oU(t,e){return!e||"object"!==Qq(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iU(t){return(iU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nU(t,e)}(i,t);var e,n,r,o=rU(i);function i(){return tU(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[Xq,yq,Oq]}}],(n=null)&&eU(e.prototype,n),r&&eU(e,r),i}(ye);function cU(t){return(cU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lU(t,e){return(lU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=pU(t);if(e){var o=pU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hU(this,n)}}function hU(t,e){return!e||"object"!==cU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pU(t){return(pU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lU(t,e)}(i,t);var e,n,r,o=fU(i);function i(){return uU(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"IndentEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new Ae(t)),t.commands.add("outdent",new Ae(t))}}])&&sU(e.prototype,n),r&&sU(e,r),i}(ye),yU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',mU='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';function vU(t){return(vU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wU(t,e){return(wU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=SU(t);if(e){var o=SU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _U(this,n)}}function _U(t,e){return!e||"object"!==vU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SU(t){return(SU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wU(t,e)}(i,t);var e,n,r,o=kU(i);function i(){return bU(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"IndentUI"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.locale,n=t.t,r="ltr"==e.uiLanguageDirection?yU:mU,o="ltr"==e.uiLanguageDirection?mU:yU;this._defineButton("indent",n("Increase indent"),r),this._defineButton("outdent",n("Decrease indent"),o)}},{key:"_defineButton",value:function(t,e,n){var r=this,o=this.editor;o.ui.componentFactory.add(t,function(i){var a=o.commands.get(t),c=new Nk(i);return c.set({label:e,icon:n,tooltip:!0}),c.bind("isOn","isEnabled").to(a,"value","isEnabled"),r.listenTo(c,"execute",function(){o.execute(t),o.editing.view.focus()}),c})}}])&&gU(e.prototype,n),r&&gU(e,r),i}(ye);function OU(t){return(OU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EU(t,e){return(EU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jU(t);if(e){var o=jU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TU(this,n)}}function TU(t,e){return!e||"object"!==OU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jU(t){return(jU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var CU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EU(t,e)}(i,t);var e,n,r,o=RU(i);function i(){return AU(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[dU,xU]}}],(n=null)&&PU(e.prototype,n),r&&PU(e,r),i}(ye);function IU(t){return(IU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MU(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return DU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DU(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function DU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function BU(t,e){return(BU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=FU(t);if(e){var o=FU(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return LU(this,n)}}function LU(t,e){return!e||"object"!==IU(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function FU(t){return(FU=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var VU=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&BU(t,e)}(i,t);var e,n,r,o=zU(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t))._indentBehavior=e,n}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.model,e=mf(t.document.selection.getSelectedBlocks());e&&t.schema.checkAttribute(e,"blockIndent")?this.isEnabled=this._indentBehavior.checkEnabled(e.getAttribute("blockIndent")):this.isEnabled=!1}},{key:"execute",value:function(){var t=this,e=this.editor.model,n=function(t){var e=t.document.selection,n=t.schema;return Array.from(e.getSelectedBlocks()).filter(function(t){return n.checkAttribute(t,"blockIndent")})}(e);e.change(function(e){var r,o=MU(n);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.getAttribute("blockIndent"),c=t._indentBehavior.getNextIndent(a);c?e.setAttribute("blockIndent",c,i):e.removeAttribute("blockIndent",i)}}catch(t){o.e(t)}finally{o.f()}})}}])&&NU(e.prototype,n),r&&NU(e,r),i}(be);function qU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var UU=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isForward="forward"===e.direction,this.offset=e.offset,this.unit=e.unit}var e,n,r;return e=t,(n=[{key:"checkEnabled",value:function(t){var e=parseFloat(t||0);return this.isForward||e>0}},{key:"getNextIndent",value:function(t){var e=parseFloat(t||0);if(t&&!t.endsWith(this.unit))return this.isForward?this.offset+this.unit:void 0;var n=e+(this.isForward?this.offset:-this.offset);return n>0?n+this.unit:void 0}}])&&qU(e.prototype,n),r&&qU(e,r),t}();function HU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var WU=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isForward="forward"===e.direction,this.classes=e.classes}var e,n,r;return e=t,(n=[{key:"checkEnabled",value:function(t){var e=this.classes.indexOf(t);return this.isForward?e<this.classes.length-1:e>=0}},{key:"getNextIndent",value:function(t){var e=this.classes.indexOf(t),n=this.isForward?1:-1;return this.classes[e+n]}}])&&HU(e.prototype,n),r&&HU(e,r),t}();function $U(t){return($U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GU(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return KU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KU(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function KU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XU(t,e){return(XU=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ZU(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=tH(t);if(e){var o=tH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return QU(this,n)}}function QU(t,e){return!e||"object"!==$U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function tH(t){return(tH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var eH=["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"],nH=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&XU(t,e)}(i,t);var e,n,r,o=ZU(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,t),t.config.define("indentBlock",{offset:40,unit:"px"}),e}return e=i,r=[{key:"pluginName",get:function(){return"IndentBlock"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.config.get("indentBlock"),n=!e.classes||!e.classes.length,r=Object.assign({direction:"forward"},e),o=Object.assign({direction:"backward"},e);n?(t.data.addStyleProcessorRules(PA),this._setupConversionUsingOffset(t.conversion),t.commands.add("indentBlock",new VU(t,new UU(r))),t.commands.add("outdentBlock",new VU(t,new UU(o)))):(this._setupConversionUsingClasses(e.classes),t.commands.add("indentBlock",new VU(t,new WU(r))),t.commands.add("outdentBlock",new VU(t,new WU(o))))}},{key:"afterInit",value:function(){var t=this.editor,e=t.model.schema,n=t.commands.get("indent"),r=t.commands.get("outdent"),o=t.config.get("heading.options");(o&&o.map(function(t){return t.model})||eH).forEach(function(t){e.isRegistered(t)&&e.extend(t,{allowAttributes:"blockIndent"})}),e.setAttributeProperties("blockIndent",{isFormatting:!0}),n.registerChildCommand(t.commands.get("indentBlock")),r.registerChildCommand(t.commands.get("outdentBlock"))}},{key:"_setupConversionUsingOffset",value:function(){var t=this.editor.conversion,e="rtl"===this.editor.locale.contentLanguageDirection?"margin-right":"margin-left";t.for("upcast").attributeToAttribute({view:{styles:YU({},e,/[\s\S]+/)},model:{key:"blockIndent",value:function(t){return t.getStyle(e)}}}),t.for("downcast").attributeToAttribute({model:"blockIndent",view:function(t){return{key:"style",value:YU({},e,t)}}})}},{key:"_setupConversionUsingClasses",value:function(t){var e,n={model:{key:"blockIndent",values:[]},view:{}},r=GU(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.model.values.push(o),n.view[o]={key:"class",value:[o]}}}catch(t){r.e(t)}finally{r.f()}this.editor.conversion.attributeToAttribute(n)}}])&&JU(e.prototype,n),r&&JU(e,r),i}(ye);function rH(t){return(rH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oH(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return iH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iH(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function iH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cH(t,e){return(cH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uH(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=lH(t);if(e){var o=lH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sH(this,n)}}function sH(t,e){return!e||"object"!==rH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lH(t){return(lH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fH=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cH(t,e)}(i,t);var e,n,r,o=uH(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).type=e,n}return e=i,(n=[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,r=n.document,o=Array.from(r.selection.getSelectedBlocks()).filter(function(t){return pH(t,n.schema)}),i=void 0!==e.forceValue?!e.forceValue:this.value;n.change(function(e){if(i){for(var n=o[o.length-1].nextSibling,r=Number.POSITIVE_INFINITY,a=[];n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){var c=n.getAttribute("listIndent");c<r&&(r=c);var u=c-r;a.push({element:n,listIndent:u}),n=n.nextSibling}var s,l=oH(a=a.reverse());try{for(l.s();!(s=l.n()).done;){var f=s.value;e.setAttribute("listIndent",f.listIndent,f.element)}}catch(t){l.e(t)}finally{l.f()}}if(!i){var h,p=Number.POSITIVE_INFINITY,d=oH(o);try{for(d.s();!(h=d.n()).done;){var y=h.value;y.is("element","listItem")&&y.getAttribute("listIndent")<p&&(p=y.getAttribute("listIndent"))}}catch(t){d.e(t)}finally{d.f()}hH(o,!0,p=0===p?1:p),hH(o,!1,p)}var m,v=oH(o.reverse());try{for(v.s();!(m=v.n()).done;){var b=m.value;i&&"listItem"==b.name?e.rename(b,"paragraph"):i||"listItem"==b.name?i||"listItem"!=b.name||b.getAttribute("listType")==t.type||e.setAttribute("listType",t.type,b):(e.setAttributes({listType:t.type,listIndent:0},b),e.rename(b,"listItem"))}}catch(t){v.e(t)}finally{v.f()}t.fire("_executeCleanup",o)})}},{key:"_getValue",value:function(){var t=mf(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,e=this.editor.model.schema,n=mf(t.getSelectedBlocks());return!!n&&pH(n,e)}}])&&aH(e.prototype,n),r&&aH(e,r),i}(be);function hH(t,e,n){var r=e?t[0]:t[t.length-1];if(r.is("element","listItem"))for(var o=r[e?"previousSibling":"nextSibling"],i=r.getAttribute("listIndent");o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=n;)i>o.getAttribute("listIndent")&&(i=o.getAttribute("listIndent")),o.getAttribute("listIndent")==i&&t[e?"unshift":"push"](o),o=o[e?"previousSibling":"nextSibling"]}function pH(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}function dH(t){return(dH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yH(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mH(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function mH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bH(t,e){return(bH=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gH(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=kH(t);if(e){var o=kH(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wH(this,n)}}function wH(t,e){return!e||"object"!==dH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kH(t){return(kH=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _H=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bH(t,e)}(i,t);var e,n,r,o=gH(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t))._indentBy="forward"==e?1:-1,n}return e=i,(n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,e=this.editor.model,n=e.document,r=Array.from(n.selection.getSelectedBlocks());e.change(function(e){for(var n=r[r.length-1],o=n.nextSibling;o&&"listItem"==o.name&&o.getAttribute("listIndent")>n.getAttribute("listIndent");)r.push(o),o=o.nextSibling;t._indentBy<0&&(r=r.reverse());var i,a=yH(r);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=c.getAttribute("listIndent")+t._indentBy;u<0?e.rename(c,"paragraph"):e.setAttribute("listIndent",u,c)}}catch(t){a.e(t)}finally{a.f()}t.fire("_executeCleanup",r)})}},{key:"_checkEnabled",value:function(){var t=mf(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){for(var e=t.getAttribute("listIndent"),n=t.getAttribute("listType"),r=t.previousSibling;r&&r.is("element","listItem")&&r.getAttribute("listIndent")>=e;){if(r.getAttribute("listIndent")==e)return r.getAttribute("listType")==n;r=r.previousSibling}return!1}return!0}}])&&vH(e.prototype,n),r&&vH(e,r),i}(be);function SH(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=xH(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function xH(t,e){if(t){if("string"==typeof t)return OH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OH(t,e):void 0}}function OH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AH(t,e){var n=e.mapper,r=e.writer,o="numbered"==t.getAttribute("listType")?"ol":"ul",i=function(t){var e=t.createContainerElement("li");return e.getFillerOffset=CH,e}(r),a=r.createContainerElement(o,null);return r.insert(r.createPositionAt(a,0),i),n.bindElements(t,i),i}function PH(t,e,n,r){var o=e.parent,i=n.mapper,a=n.writer,c=i.toViewPosition(r.createPositionBefore(t)),u=TH(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),s=t.previousSibling;if(u&&u.getAttribute("listIndent")==t.getAttribute("listIndent")){var l=i.toViewElement(u);c=a.breakContainer(a.createPositionAfter(l))}else if(s&&"listItem"==s.name){c=i.toViewPosition(r.createPositionAt(s,"end"));var f=i.findMappedViewAncestor(c),h=function(t){var e,n=SH(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if("ul"==r.name||"ol"==r.name)return r}}catch(t){n.e(t)}finally{n.f()}return null}(f);c=h?a.createPositionBefore(h):a.createPositionAt(f,"end")}else c=i.toViewPosition(r.createPositionBefore(t));if(c=RH(c),a.insert(c,o),s&&"listItem"==s.name){var p,d=i.toViewElement(s),y=a.createRange(a.createPositionAt(d,0),c).getWalker({ignoreElementEnd:!0}),m=SH(y);try{for(m.s();!(p=m.n()).done;){var v=p.value;if(v.item.is("element","li")){var b=a.breakContainer(a.createPositionBefore(v.item)),g=v.item.parent,w=a.createPositionAt(e,"end");EH(a,w.nodeBefore,w.nodeAfter),a.move(a.createRangeOn(g),w),y.position=b}}}catch(t){m.e(t)}finally{m.f()}}else{var k=o.nextSibling;if(k&&(k.is("element","ul")||k.is("element","ol"))){var _,S=null,x=SH(k.getChildren());try{for(x.s();!(_=x.n()).done;){var O=_.value,A=i.toModelElement(O);if(!(A&&A.getAttribute("listIndent")>t.getAttribute("listIndent")))break;S=O}}catch(t){x.e(t)}finally{x.f()}S&&(a.breakContainer(a.createPositionAfter(S)),a.move(a.createRangeOn(S.parent),a.createPositionAt(e,"end")))}}EH(a,o,o.nextSibling),EH(a,o.previousSibling,o)}function EH(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function RH(t){return t.getLastMatchingPosition(function(t){return t.item.is("uiElement")})}function TH(t,e){for(var n=!!e.sameIndent,r=!!e.smallerIndent,o=e.listIndent,i=t;i&&"listItem"==i.name;){var a=i.getAttribute("listIndent");if(n&&o==a||r&&o>a)return i;i="forward"===e.direction?i.nextSibling:i.previousSibling}return null}function jH(t,e,n,r){t.ui.componentFactory.add(e,function(o){var i=t.commands.get(e),a=new Nk(o);return a.set({label:n,icon:r,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(i,"value","isEnabled"),a.on("execute",function(){t.execute(e),t.editing.view.focus()}),a})}function CH(){var t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:Gi.call(this)}function IH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||NH(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MH(t){return function(t){if(Array.isArray(t))return BH(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||NH(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DH(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=NH(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function NH(t,e){if(t){if("string"==typeof t)return BH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BH(t,e):void 0}}function BH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zH(t){return function(e,n,r){var o=r.consumable;if(o.test(n.item,"insert")&&o.test(n.item,"attribute:listType")&&o.test(n.item,"attribute:listIndent")){o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");var i=n.item;PH(i,AH(i,r),r,t)}}}function LH(t,e,n){if(n.consumable.consume(e.item,"attribute:listType")){var r=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(o.createPositionBefore(r)),o.breakContainer(o.createPositionAfter(r));var i=r.parent,a="numbered"==e.attributeNewValue?"ol":"ul";o.rename(a,i)}}function FH(t,e,n){var r=n.mapper.toViewElement(e.item).parent,o=n.writer;EH(o,r,r.nextSibling),EH(o,r.previousSibling,r);var i,a=DH(e.item.getChildren());try{for(a.s();!(i=a.n()).done;){var c=i.value;n.consumable.consume(c,"insert")}}catch(t){a.e(t)}finally{a.f()}}function VH(t,e,n){if("listItem"!=e.item.name){for(var r=n.mapper.toViewPosition(e.range.start),o=n.writer,i=[];("ul"==r.parent.name||"ol"==r.parent.name)&&"li"==(r=o.breakContainer(r)).parent.name;){var a=r,c=o.createPositionAt(r.parent,"end");if(!a.isEqual(c)){var u=o.remove(o.createRange(a,c));i.push(u)}r=o.createPositionAfter(r.parent)}if(i.length>0){for(var s=0;s<i.length;s++){var l=r.nodeBefore;if(r=o.insert(r,i[s]).end,s>0){var f=EH(o,l,l.nextSibling);f&&f.parent==l&&r.offset--}}EH(o,r.nodeBefore,r.nodeAfter)}}}function qH(t,e,n){var r=n.mapper.toViewPosition(e.position),o=r.nodeBefore,i=r.nodeAfter;EH(n.writer,o,i)}function UH(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){var r=n.writer,o=r.createElement("listItem"),i=function(t){var e=0,n=t.parent;for(;n;){if(n.is("element","li"))e++;else{var r=n.previousSibling;r&&r.is("element","li")&&e++}n=n.parent}return e}(e.viewItem);r.setAttribute("listIndent",i,o);var a=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";if(r.setAttribute("listType",a,o),!n.safeInsert(o,e.modelCursor))return;var c=function(t,e,n){var r,o=n.writer,i=n.schema,a=o.createPositionAfter(t),c=DH(e);try{for(c.s();!(r=c.n()).done;){var u=r.value;if("ul"==u.name||"ol"==u.name)a=n.convertItem(u,a).modelCursor;else{var s=n.convertItem(u,o.createPositionAt(t,"end")),l=s.modelRange.start.nodeAfter;l&&l.is("element")&&!i.checkChild(t,l.name)&&(t=s.modelCursor.parent.is("element","listItem")?s.modelCursor.parent:KH(s.modelCursor),a=o.createPositionAfter(t))}}}catch(t){c.e(t)}finally{c.f()}return a}(o,e.viewItem.getChildren(),n);e.modelRange=r.createRange(e.modelCursor,c),n.updateConversionResult(o,e)}}function HH(t,e,n){if(n.consumable.test(e.viewItem,{name:!0}))for(var r=0,o=Array.from(e.viewItem.getChildren());r<o.length;r++){var i=o[r];!(i.is("element","li")||JH(i))&&i._remove()}}function WH(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;var r,o=!1,i=!0,a=DH(MH(e.viewItem.getChildren()));try{for(a.s();!(r=a.n()).done;){var c=r.value;o&&!JH(c)&&c._remove(),c.is("$text")?(i&&(c._data=c.data.trimStart()),c.nextSibling&&!JH(c.nextSibling)||(c._data=c.data.trimEnd())):JH(c)&&(o=!0),i=!1}}catch(t){a.e(t)}finally{a.f()}}}function $H(t){return function(e,n){if(!n.isPhantom){var r=n.modelPosition.nodeBefore;if(r&&r.is("element","listItem")){var o,i=n.mapper.toViewElement(r),a=i.getAncestors().find(JH),c=DH(t.createPositionAt(i,0).getWalker());try{for(c.s();!(o=c.n()).done;){var u=o.value;if("elementStart"==u.type&&u.item.is("element","li")){n.viewPosition=u.previousPosition;break}if("elementEnd"==u.type&&u.item==a){n.viewPosition=u.nextPosition;break}}}catch(t){c.e(t)}finally{c.f()}}}}}function GH(t,e){var n,r=IH(e,2),o=r[0],i=r[1],a=o.is("documentFragment")?o.getChild(0):o;if(n=i?this.createSelection(i):this.document.selection,a&&a.is("element","listItem")){var c=n.getFirstPosition(),u=null;if(c.parent.is("element","listItem")?u=c.parent:c.nodeBefore&&c.nodeBefore.is("element","listItem")&&(u=c.nodeBefore),u){var s=u.getAttribute("listIndent");if(s>0)for(;a&&a.is("element","listItem");)a._setAttribute("listIndent",a.getAttribute("listIndent")+s),a=a.nextSibling}}}function KH(t){var e,n=new wh({startPosition:t});do{e=n.next()}while(!e.value.item.is("element","listItem"));return e.value.item}function YH(t,e,n,r,o,i){var a,c=TH(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),u=o.mapper,s=o.writer,l=c?c.getAttribute("listIndent"):null;if(c)if(l==t){var f=u.toViewElement(c).parent;a=s.createPositionAfter(f)}else{var h=i.createPositionAt(c,"end");a=u.toViewPosition(h)}else a=n;a=RH(a);for(var p=0,d=MH(r.getChildren());p<d.length;p++){var y=d[p];JH(y)&&(a=s.move(s.createRangeOn(y),a).end,EH(s,y,y.nextSibling),EH(s,y.previousSibling,y))}}function JH(t){return t.is("element","ol")||t.is("element","ul")}function XH(t){return(XH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ZH(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return QH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QH(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function QH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nW(t,e){return(nW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=iW(t);if(e){var o=iW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oW(this,n)}}function oW(t,e){return!e||"object"!==XH(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function iW(t){return(iW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var aW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nW(t,e)}(i,t);var e,n,r,o=rW(i);function i(){return tW(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[jE,oj]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n,r=e.data,o=e.editing;e.model.document.registerPostFixer(function(t){return function(t,e){var n,r=t.document.differ.getChanges(),o=new Map,i=!1,a=DH(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;if("insert"==c.type&&"listItem"==c.name)d(c.position);else if("insert"==c.type&&"listItem"!=c.name){if("$text"!=c.name){var u=c.position.nodeAfter;u.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",u),i=!0),u.hasAttribute("listType")&&(e.removeAttribute("listType",u),i=!0),u.hasAttribute("listStyle")&&(e.removeAttribute("listStyle",u),i=!0);var s,l=DH(Array.from(t.createRangeIn(u)).filter(function(t){return t.item.is("element","listItem")}));try{for(l.s();!(s=l.n()).done;)d(s.value.previousPosition)}catch(t){l.e(t)}finally{l.f()}}d(c.position.getShiftedBy(c.length))}else"remove"==c.type&&"listItem"==c.name?d(c.position):("attribute"==c.type&&"listIndent"==c.attributeKey||"attribute"==c.type&&"listType"==c.attributeKey)&&d(c.range.start)}}catch(t){a.e(t)}finally{a.f()}var f,h=DH(o.values());try{for(h.s();!(f=h.n()).done;){var p=f.value;y(p),m(p)}}catch(t){h.e(t)}finally{h.f()}return i;function d(t){var e=t.nodeBefore;if(e&&e.is("element","listItem")){var n=e;if(o.has(n))return;for(var r=n.previousSibling;r&&r.is("element","listItem");r=n.previousSibling)if(n=r,o.has(n))return;o.set(e,n)}else{var i=t.nodeAfter;i&&i.is("element","listItem")&&o.set(i,i)}}function y(t){for(var n=0,r=null;t&&t.is("element","listItem");){var o=t.getAttribute("listIndent");if(o>n){var a=void 0;null===r?(r=o-n,a=n):(r>o&&(r=o),a=o-r),e.setAttribute("listIndent",a,t),i=!0}else r=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function m(t){for(var n=[],r=null;t&&t.is("element","listItem");){var o=t.getAttribute("listIndent");if(r&&r.getAttribute("listIndent")>o&&(n=n.slice(0,o+1)),0!=o)if(n[o]){var a=n[o];t.getAttribute("listType")!=a&&(e.setAttribute("listType",a,t),i=!0)}else n[o]=t.getAttribute("listType");r=t,t=t.nextSibling}}}(e.model,t)}),o.mapper.registerViewToModelLength("li",cW),r.mapper.registerViewToModelLength("li",cW),o.mapper.on("modelToViewPosition",$H(o.view)),o.mapper.on("viewToModelPosition",(n=e.model,function(t,e){var r=e.viewPosition,o=r.parent,i=e.mapper;if("ul"==o.name||"ol"==o.name){if(r.isAtEnd){var a=i.toModelElement(r.nodeBefore),c=i.getModelLength(r.nodeBefore);e.modelPosition=n.createPositionBefore(a).getShiftedBy(c)}else{var u=i.toModelElement(r.nodeAfter);e.modelPosition=n.createPositionBefore(u)}t.stop()}else if("li"==o.name&&r.nodeBefore&&("ul"==r.nodeBefore.name||"ol"==r.nodeBefore.name)){for(var s=i.toModelElement(o),l=1,f=r.nodeBefore;f&&JH(f);)l+=i.getModelLength(f),f=f.previousSibling;e.modelPosition=n.createPositionBefore(s).getShiftedBy(l),t.stop()}})),r.mapper.on("modelToViewPosition",$H(o.view)),e.conversion.for("editingDowncast").add(function(t){t.on("insert",VH,{priority:"high"}),t.on("insert:listItem",zH(e.model)),t.on("attribute:listType:listItem",LH,{priority:"high"}),t.on("attribute:listType:listItem",FH,{priority:"low"}),t.on("attribute:listIndent:listItem",function(t){return function(e,n,r){if(r.consumable.consume(n.item,"attribute:listIndent")){var o=r.mapper.toViewElement(n.item),i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));var a=o.parent,c=a.previousSibling,u=i.createRangeOn(a);i.remove(u),c&&c.nextSibling&&EH(i,c,c.nextSibling),YH(n.attributeOldValue+1,n.range.start,u.start,o,r,t),PH(n.item,o,r,t);var s,l=DH(n.item.getChildren());try{for(l.s();!(s=l.n()).done;){var f=s.value;r.consumable.consume(f,"insert")}}catch(t){l.e(t)}finally{l.f()}}}}(e.model)),t.on("remove:listItem",function(t){return function(e,n,r){var o=r.mapper.toViewPosition(n.position).getLastMatchingPosition(function(t){return!t.item.is("element","li")}).nodeAfter,i=r.writer;i.breakContainer(i.createPositionBefore(o)),i.breakContainer(i.createPositionAfter(o));var a=o.parent,c=a.previousSibling,u=i.createRangeOn(a),s=i.remove(u);c&&c.nextSibling&&EH(i,c,c.nextSibling),YH(r.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,u.start,o,r,t);var l,f=DH(i.createRangeIn(s).getItems());try{for(f.s();!(l=f.n()).done;){var h=l.value;r.mapper.unbindViewElement(h)}}catch(t){f.e(t)}finally{f.f()}e.stop()}}(e.model)),t.on("remove",qH,{priority:"low"})}),e.conversion.for("dataDowncast").add(function(t){t.on("insert",VH,{priority:"high"}),t.on("insert:listItem",zH(e.model))}),e.conversion.for("upcast").add(function(t){t.on("element:ul",HH,{priority:"high"}),t.on("element:ol",HH,{priority:"high"}),t.on("element:li",WH,{priority:"high"}),t.on("element:li",UH)}),e.model.on("insertContent",GH,{priority:"high"}),e.commands.add("numberedList",new fH(e,"numbered")),e.commands.add("bulletedList",new fH(e,"bulleted")),e.commands.add("indentList",new _H(e,"forward")),e.commands.add("outdentList",new _H(e,"backward"));var i=o.view.document;this.listenTo(i,"enter",function(e,n){var r=t.editor.model.document,o=r.selection.getLastPosition().parent;r.selection.isCollapsed&&"listItem"==o.name&&o.isEmpty&&(t.editor.execute("outdentList"),n.preventDefault(),e.stop())},{context:"li"}),this.listenTo(i,"delete",function(e,n){if("backward"===n.direction){var r=t.editor.model.document.selection;if(r.isCollapsed){var o=r.getFirstPosition();if(o.isAtStart){var i=o.parent;"listItem"===i.name&&(i.previousSibling&&"listItem"===i.previousSibling.name||(t.editor.execute("outdentList"),n.preventDefault(),e.stop()))}}}},{context:"li"});var a=function(e){return function(n,r){t.editor.commands.get(e).isEnabled&&(t.editor.execute(e),r())}};e.keystrokes.set("Tab",a("indentList")),e.keystrokes.set("Shift+Tab",a("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}])&&eW(e.prototype,n),r&&eW(e,r),i}(ye);function cW(t){var e,n=1,r=ZH(t.getChildren());try{for(r.s();!(e=r.n()).done;){var o=e.value;if("ul"==o.name||"ol"==o.name){var i,a=ZH(o.getChildren());try{for(a.s();!(i=a.n()).done;){n+=cW(i.value)}}catch(t){a.e(t)}finally{a.f()}}}}catch(t){r.e(t)}finally{r.f()}return n}function uW(t){return(uW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fW(t,e){return(fW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=dW(t);if(e){var o=dW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pW(this,n)}}function pW(t,e){return!e||"object"!==uW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dW(t){return(dW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fW(t,e)}(i,t);var e,n,r,o=hW(i);function i(){return sW(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ListUI"}}],(n=[{key:"init",value:function(){var t=this.editor.t;jH(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),jH(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}])&&lW(e.prototype,n),r&&lW(e,r),i}(ye);function mW(t){return(mW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gW(t,e){return(gW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=_W(t);if(e){var o=_W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kW(this,n)}}function kW(t,e){return!e||"object"!==mW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _W(t){return(_W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var SW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gW(t,e)}(i,t);var e,n,r,o=wW(i);function i(){return vW(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[aW,yW]}},{key:"pluginName",get:function(){return"List"}}],(n=null)&&bW(e.prototype,n),r&&bW(e,r),i}(ye);function xW(t){return(xW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OW(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return AW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AW(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function AW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RW(t,e){return(RW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=CW(t);if(e){var o=CW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jW(this,n)}}function jW(t,e){return!e||"object"!==xW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CW(t){return(CW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RW(t,e)}(i,t);var e,n,r,o=TW(i);function i(){return PW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.model,e=mf(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&MW(e,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document;e.change(function(r){var o,i=OW((t.selection||n.selection).getSelectedBlocks());try{for(i.s();!(o=i.n()).done;){var a=o.value;!a.is("element","paragraph")&&MW(a,e.schema)&&r.rename(a,"paragraph")}}catch(t){i.e(t)}finally{i.f()}})}}])&&EW(e.prototype,n),r&&EW(e,r),i}(be);function MW(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}function DW(t){return(DW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zW(t,e){return(zW=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function LW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=VW(t);if(e){var o=VW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return FW(this,n)}}function FW(t,e){return!e||"object"!==DW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function VW(t){return(VW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zW(t,e)}(i,t);var e,n,r,o=LW(i);function i(){return NW(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"execute",value:function(t){var e=this.editor.model,n=t.position;e.change(function(t){var r=t.createElement("paragraph");if(!e.schema.checkChild(n.parent,r)){var o=e.schema.findAllowedParent(n,r);if(!o)return;n=t.split(n,o).position}e.insertContent(r,n),t.setSelection(r,"in")})}}])&&BW(e.prototype,n),r&&BW(e,r),i}(be);function UW(t){return(UW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function HW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $W(t,e){return($W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function GW(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=YW(t);if(e){var o=YW(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return KW(this,n)}}function KW(t,e){return!e||"object"!==UW(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function YW(t){return(YW=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var JW=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$W(t,e)}(i,t);var e,n,r,o=GW(i);function i(){return HW(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"Paragraph"}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.model;t.commands.add("paragraph",new IW(t)),t.commands.add("insertParagraph",new qW(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:function(t,e){var n=e.writer;return i.paragraphLikeElements.has(t.name)?t.isEmpty?null:n.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}}])&&WW(e.prototype,n),r&&WW(e,r),i}(ye);function XW(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ZW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZW(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ZW(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QW(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return t$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t$(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function t$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e$(t,e){if(t.childCount){var n=new kA(t.document),r=function(t,e){var n,r=e.createRangeIn(t),o=new Po({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),i=[],a=QW(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;if("elementStart"===c.type&&o.match(c.item)){var u=o$(c.item);i.push({element:c.item,id:u.id,order:u.order,indent:u.indent})}}}catch(t){a.e(t)}finally{a.f()}return i}(t,n);if(r.length){var o=null,i=1;r.forEach(function(t,a){var c,u,s=function(t,e){if(!t)return!0;if(t.id!==e.id)return e.indent-t.indent!=1;var n=e.element.previousSibling;if(!n)return!0;return r=n,!(r.is("element","ol")||r.is("element","ul"));var r}(r[a-1],t),l=s?null:r[a-1],f=(u=t,(c=l)?u.indent-c.indent:u.indent-1);if(s&&(o=null,i=1),!o||0!==f){var h=function(t,e){var n=new RegExp("@list l".concat(t.id,":level").concat(t.indent,"\\s*({[^}]*)"),"gi"),r=n.exec(e),o="decimal",i="ol";if(r&&r[1]){var a=/mso-level-number-format:([^;]{0,100});/gi.exec(r[1]);if(a&&a[1]&&(o=a[1].trim(),i="bullet"!==o&&"image"!==o?"ol":"ul"),"bullet"===o){var c=function(t){var e=function(t){if(t.getChild(0).is("$text"))return null;var e,n=QW(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.is("element","span")){var o=r.getChild(0);return o.is("$text")?o:o.getChild(0)}}}catch(t){n.e(t)}finally{n.f()}}(t);if(!e)return null;var n=e._data;if("o"===n)return"circle";if("·"===n)return"disc";if("§"===n)return"square";return null}(t.element);c&&(o=c)}}return{type:i,style:n$(o)}}(t,e);if(o){if(t.indent>i){var p=o.getChild(o.childCount-1),d=p.getChild(p.childCount-1);o=r$(h,d,n),i+=1}else if(t.indent<i){var y=i-t.indent;o=function(t,e){var n,r=t.getAncestors({parentFirst:!0}),o=null,i=0,a=QW(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;if("ul"!==c.name&&"ol"!==c.name||i++,i===e){o=c;break}}}catch(t){a.e(t)}finally{a.f()}return o}(o,y),i=parseInt(t.indent)}}else o=r$(h,t.element,n);t.indent<=i&&(o.is("element",h.type)||(o=n.rename(h.type,o)))}var m=function(t,e){return function(t,e){var n,r=new Po({name:"span",styles:{"mso-list":"Ignore"}}),o=QW(e.createRangeIn(t));try{for(o.s();!(n=o.n()).done;){var i=n.value;"elementStart"===i.type&&r.match(i.item)&&e.remove(i.item)}}catch(t){o.e(t)}finally{o.f()}}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(m,o)})}}}function n$(t){switch(t){case"arabic-leading-zero":return"decimal-leading-zero";case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return t;default:return null}}function r$(t,e,n){var r=e.parent,o=n.createElement(t.type),i=r.getChildIndex(e)+1;return n.insertChild(i,o,r),t.style&&n.setStyle("list-style-type",t.style,o),o}function o$(t){var e={},n=t.getStyle("mso-list");if(n){var r=n.match(/(^|\s{1,100})l(\d+)/i),o=n.match(/\s{0,100}lfo(\d+)/i),i=n.match(/\s{0,100}level(\d+)/i);r&&o&&i&&(e.id=r[2],e.order=o[1],e.indent=i[1])}return e}function i$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}JW.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);var a$=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,c$=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e}var e,n,r;return e=t,(n=[{key:"isActive",value:function(t){return a$.test(t)}},{key:"execute",value:function(t){var e=new kA(this.document),n=t._parsedData.body;!function(t,e){var n,r=XW(t.getChildren());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.is("element","b")&&"normal"===o.getStyle("font-weight")){var i=t.getChildIndex(o);e.remove(o),e.insertChild(i,o.getChildren(),t)}}}catch(t){r.e(t)}finally{r.f()}}(n,e),function(t,e){var n,r=QW(e.createRangeIn(t));try{for(r.s();!(n=r.n()).done;){var o=n.value.item;if(o.is("element","li")){var i=o.getChild(0);i&&i.is("element","p")&&e.unwrapElement(i)}}}catch(t){r.e(t)}finally{r.f()}}(n,e),t.content=n}}])&&i$(e.prototype,n),r&&i$(e,r),t}();function u$(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s$(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s$(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l$(t,e){if(t.childCount){var n=new kA;!function(t,e,n){var r,o=n.createRangeIn(e),i=new Po({name:"img"}),a=[],c=u$(o);try{for(c.s();!(r=c.n()).done;){var u=r.value;if(i.match(u.item)){var s=u.item,l=s.getAttribute("v:shapes")?s.getAttribute("v:shapes").split(" "):[];l.length&&l.every(function(e){return t.indexOf(e)>-1})?a.push(s):s.getAttribute("src")||a.push(s)}}}catch(t){c.e(t)}finally{c.f()}for(var f=0,h=a;f<h.length;f++){var p=h[f];n.remove(p)}}(function(t,e){var n,r=e.createRangeIn(t),o=new Po({name:/v:(.+)/}),i=[],a=u$(r);try{for(a.s();!(n=a.n()).done;){var c=n.value,u=c.item,s=u.previousSibling&&u.previousSibling.name||null;o.match(u)&&u.getAttribute("o:gfxdata")&&"v:shapetype"!==s&&i.push(c.item.getAttribute("id"))}}catch(t){a.e(t)}finally{a.f()}return i}(t,n),t,n),function(t,e){var n,r=e.createRangeIn(t),o=new Po({name:/v:(.+)/}),i=[],a=u$(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;o.match(c.item)&&i.push(c.item)}}catch(t){a.e(t)}finally{a.f()}for(var u=0,s=i;u<s.length;u++){var l=s[u];e.remove(l)}}(t,n);var r=function(t,e){var n,r=e.createRangeIn(t),o=new Po({name:"img"}),i=[],a=u$(r);try{for(a.s();!(n=a.n()).done;){var c=n.value;o.match(c.item)&&c.item.getAttribute("src").startsWith("file://")&&i.push(c.item)}}catch(t){a.e(t)}finally{a.f()}return i}(t,n);r.length&&function(t,e,n){if(t.length===e.length)for(var r=0;r<t.length;r++){var o="data:".concat(e[r].type,";base64,").concat((i=e[r].hex,btoa(i.match(/\w{2}/g).map(function(t){return String.fromCharCode(parseInt(t,16))}).join(""))));n.setAttribute("src",o,t[r])}var i}(r,function(t){if(!t)return[];var e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),r=t.match(n),o=[];if(r){var i,a=u$(r);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=!1;c.includes("\\pngblip")?u="image/png":c.includes("\\jpegblip")&&(u="image/jpeg"),u&&o.push({hex:c.replace(e,"").replace(/[^\da-fA-F]/g,""),type:u})}}catch(t){a.e(t)}finally{a.f()}}return o}(e),n)}}function f$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h$=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,p$=/xmlns:o="urn:schemas-microsoft-com/i,d$=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.document=e}var e,n,r;return e=t,(n=[{key:"isActive",value:function(t){return h$.test(t)||p$.test(t)}},{key:"execute",value:function(t){var e=t._parsedData,n=e.body;e$(n,e.stylesString),l$(n,t.dataTransfer.getData("text/rtf")),t.content=n}}])&&f$(e.prototype,n),r&&f$(e,r),t}();function y$(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(t,e){return 1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length)})}function m$(t,e){var n=new DOMParser,r=function(t){return y$(y$(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(t){var e=t.indexOf("</body>");if(e<0)return t;var n=t.indexOf("</html>",e+"</body>".length);return t.substring(0,e+"</body>".length)+(n>=0?t.substring(n):"")}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),o=n.parseFromString(r,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(function(t){var e=t.innerText.length||0;t.innerHTML=Array(e+1).join("  ").substr(0,e)})}(o);var i=o.body.innerHTML,a=function(t,e){var n=new Qa(e),r=new Qu(n,{blockFillerMode:"nbsp"}),o=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)o.appendChild(i[0]);return r.domToView(o,{skipComments:!0})}(o,e),c=function(t){for(var e=[],n=[],r=Array.from(t.getElementsByTagName("style")),o=0,i=r;o<i.length;o++){var a=i[o];a.sheet&&a.sheet.cssRules&&a.sheet.cssRules.length&&(e.push(a.sheet),n.push(a.innerHTML))}return{styles:e,stylesString:n.join(" ")}}(o);return{body:a,bodyString:i,styles:c.styles,stylesString:c.stylesString}}function v$(t){return(v$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w$(t,e){return(w$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=S$(t);if(e){var o=S$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _$(this,n)}}function _$(t,e){return!e||"object"!==v$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S$(t){return(S$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w$(t,e)}(i,t);var e,n,r,o=k$(i);function i(){return b$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[jT]}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.editing.view.document,n=[];n.push(new d$(e)),n.push(new c$(e)),t.plugins.get("ClipboardPipeline").on("inputTransformation",function(t,r){if(!r._isTransformedWithPasteFromOffice){var o=r.dataTransfer.getData("text/html"),i=n.find(function(t){return t.isActive(o)});i&&(r._parsedData=m$(o,e.stylesProcessor),i.execute(r),r._isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}}])&&g$(e.prototype,n),r&&g$(e,r),i}(ye);function O$(t){return(O$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E$(t,e){return(E$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=j$(t);if(e){var o=j$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T$(this,n)}}function T$(t,e){return!e||"object"!==O$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j$(t){return(j$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E$(t,e)}(i,t);var e,n,r,o=R$(i);function i(){return A$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"SubscriptEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"subscript"}),t.model.schema.setAttributeProperties("subscript",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"subscript",view:"sub",upcastAlso:[{styles:{"vertical-align":"sub"}}]}),t.commands.add("subscript",new sP(t,"subscript"))}}])&&P$(e.prototype,n),r&&P$(e,r),i}(ye);function I$(t){return(I$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function M$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N$(t,e){return(N$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=L$(t);if(e){var o=L$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z$(this,n)}}function z$(t,e){return!e||"object"!==I$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function L$(t){return(L$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N$(t,e)}(i,t);var e,n,r,o=B$(i);function i(){return M$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"SubscriptUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("subscript",function(r){var o=e.commands.get("subscript"),i=new Nk(r);return i.set({label:n("Subscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.03 10.349 3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82zm8.147 7.829h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",function(){e.execute("subscript"),e.editing.view.focus()}),i})}}])&&D$(e.prototype,n),r&&D$(e,r),i}(ye);function V$(t){return(V$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H$(t,e){return(H$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=G$(t);if(e){var o=G$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $$(this,n)}}function $$(t,e){return!e||"object"!==V$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G$(t){return(G$=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H$(t,e)}(i,t);var e,n,r,o=W$(i);function i(){return q$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[C$,F$]}},{key:"pluginName",get:function(){return"Subscript"}}],(n=null)&&U$(e.prototype,n),r&&U$(e,r),i}(ye);function Y$(t){return(Y$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z$(t,e){return(Z$=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q$(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=eG(t);if(e){var o=eG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tG(this,n)}}function tG(t,e){return!e||"object"!==Y$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eG(t){return(eG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z$(t,e)}(i,t);var e,n,r,o=Q$(i);function i(){return J$(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"SuperscriptEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"superscript"}),t.model.schema.setAttributeProperties("superscript",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"superscript",view:"sup",upcastAlso:[{styles:{"vertical-align":"super"}}]}),t.commands.add("superscript",new sP(t,"superscript"))}}])&&X$(e.prototype,n),r&&X$(e,r),i}(ye);function rG(t){return(rG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aG(t,e){return(aG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=sG(t);if(e){var o=sG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uG(this,n)}}function uG(t,e){return!e||"object"!==rG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sG(t){return(sG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aG(t,e)}(i,t);var e,n,r,o=cG(i);function i(){return oG(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"SuperscriptUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("superscript",function(r){var o=e.commands.get("superscript"),i=new Nk(r);return i.set({label:n("Superscript"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M15.677 8.678h2.549c.254 0 .447.05.58.152a.49.49 0 0 1 .201.413.54.54 0 0 1-.159.393c-.105.108-.266.162-.48.162h-3.594c-.245 0-.435-.066-.572-.197a.621.621 0 0 1-.205-.463c0-.114.044-.265.132-.453a1.62 1.62 0 0 1 .288-.444c.433-.436.824-.81 1.172-1.122.348-.312.597-.517.747-.615.267-.183.49-.368.667-.553.177-.185.312-.375.405-.57.093-.194.139-.384.139-.57a1.008 1.008 0 0 0-.554-.917 1.197 1.197 0 0 0-.56-.133c-.426 0-.761.182-1.005.546a2.332 2.332 0 0 0-.164.39 1.609 1.609 0 0 1-.258.488c-.096.114-.237.17-.423.17a.558.558 0 0 1-.405-.156.568.568 0 0 1-.161-.427c0-.218.05-.446.151-.683.101-.238.252-.453.452-.646s.454-.349.762-.467a2.998 2.998 0 0 1 1.081-.178c.498 0 .923.076 1.274.228a1.916 1.916 0 0 1 1.004 1.032 1.984 1.984 0 0 1-.156 1.794c-.2.32-.405.572-.613.754-.208.182-.558.468-1.048.857-.49.39-.826.691-1.008.906a2.703 2.703 0 0 0-.24.309zM7.03 10.349l3.818-3.819a.8.8 0 1 1 1.132 1.132L8.16 11.48l3.819 3.818a.8.8 0 1 1-1.132 1.132L7.03 12.61l-3.818 3.82a.8.8 0 1 1-1.132-1.132L5.9 11.48 2.08 7.662A.8.8 0 1 1 3.212 6.53l3.818 3.82z"/></svg>',tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",function(){e.execute("superscript"),e.editing.view.focus()}),i})}}])&&iG(e.prototype,n),r&&iG(e,r),i}(ye);function fG(t){return(fG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dG(t,e){return(dG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=vG(t);if(e){var o=vG(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mG(this,n)}}function mG(t,e){return!e||"object"!==fG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vG(t){return(vG=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bG=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dG(t,e)}(i,t);var e,n,r,o=yG(i);function i(){return hG(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[nG,lG]}},{key:"pluginName",get:function(){return"Superscript"}}],(n=null)&&pG(e.prototype,n),r&&pG(e,r),i}(ye);function gG(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e>o?r.setAttribute(t,e,n):r.removeAttribute(t,n)}function wG(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.createElement("tableCell",n);return t.insertElement("paragraph",r),t.insert(r,e),r}function kG(t,e){var n=e.parent.parent,r=parseInt(n.getAttribute("headingColumns")||0),o=t.getCellLocation(e).column;return!!r&&o<r}function _G(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return SG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SG(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function SG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xG(){return function(t){t.on("element:figure",function(t,e,n){if(n.consumable.test(e.viewItem,{name:!0,classes:"table"})){var r=function(t){var e,n=_G(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.is("element","table"))return r}}catch(t){n.e(t)}finally{n.f()}}(e.viewItem);if(r&&n.consumable.test(r,{name:!0})){var o=mf(n.convertItem(r,e.modelCursor).modelRange.getItems());o&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(o,"end")),n.updateConversionResult(o,e))}}})}}function OG(){return function(t){t.on("element:table",function(t,e,n){var r=e.viewItem;if(n.consumable.test(r,{name:!0})){var o=function(t){for(var e,n={headingRows:0,headingColumns:0},r=[],o=[],i=0,a=Array.from(t.getChildren());i<a.length;i++){var c=a[i];if("tbody"===c.name||"thead"===c.name||"tfoot"===c.name){"thead"!==c.name||e||(e=c);var u,s=_G(Array.from(c.getChildren()).filter(function(t){return t.is("element","tr")}));try{for(s.s();!(u=s.n()).done;){var l=u.value;if("thead"===l.parent.name&&l.parent===e)n.headingRows++,r.push(l);else{o.push(l);var f=PG(l);f>n.headingColumns&&(n.headingColumns=f)}}}catch(t){s.e(t)}finally{s.f()}}}return n.rows=[].concat(r,o),n}(r),i=o.rows,a=o.headingRows,c=o.headingColumns,u={};c&&(u.headingColumns=c),a&&(u.headingRows=a);var s=n.writer.createElement("table",u);if(n.safeInsert(s,e.modelCursor)){if(n.consumable.consume(r,{name:!0}),i.forEach(function(t){return n.convertItem(t,n.writer.createPositionAt(s,"end"))}),n.convertChildren(r,n.writer.createPositionAt(s,"end")),s.isEmpty){var l=n.writer.createElement("tableRow");n.writer.insert(l,n.writer.createPositionAt(s,"end")),wG(n.writer,n.writer.createPositionAt(l,"end"))}n.updateConversionResult(s,e)}}})}}function AG(t){return function(e){e.on("element:".concat(t),function(t,e,n){if(e.modelRange&&e.viewItem.isEmpty){var r=e.modelRange.start.nodeAfter,o=n.writer.createPositionAt(r,0);n.writer.insertElement("paragraph",o)}},{priority:"low"})}}function PG(t){for(var e=0,n=0,r=Array.from(t.getChildren()).filter(function(t){return"th"===t.name||"td"===t.name});n<r.length&&"th"===r[n].name;){var o=r[n];e+=parseInt(o.getAttribute("colspan")||1),n++}return e}function EG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TG(t,e,n){return e&&RG(t.prototype,e),n&&RG(t,n),t}var jG=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};EG(this,t),this._table=e,this._startRow=void 0!==n.row?n.row:n.startRow||0,this._endRow=void 0!==n.row?n.row:n.endRow,this._startColumn=void 0!==n.column?n.column:n.startColumn||0,this._endColumn=void 0!==n.column?n.column:n.endColumn,this._includeAllSlots=!!n.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return TG(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();var e=null,n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{var r=t.getChild(this._cellIndex);if(!r)return this._advanceToNextRow();var o=parseInt(r.getAttribute("colspan")||1),i=parseInt(r.getAttribute("rowspan")||1);(o>1||i>1)&&this._recordSpans(r,i,o),this._shouldSkipSlot()||(e=this._formatOutValue(r)),this._nextCellAtColumn=this._column+o}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}},{key:"skipRow",value:function(t){this._skipRows.add(t)}},{key:"_advanceToNextRow",value:function(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}},{key:"_isOverEndRow",value:function(){return void 0!==this._endRow&&this._row>this._endRow}},{key:"_isOverEndColumn",value:function(){return void 0!==this._endColumn&&this._column>this._endColumn}},{key:"_formatOutValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new CG(this,t,e,n)}}},{key:"_shouldSkipSlot",value:function(){var t=this._skipRows.has(this._row),e=this._row<this._startRow,n=this._column<this._startColumn,r=void 0!==this._endColumn&&this._column>this._endColumn;return t||e||n||r}},{key:"_getSpanned",value:function(){var t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}},{key:"_recordSpans",value:function(t,e,n){for(var r={cell:t,row:this._row,column:this._column},o=this._row;o<this._row+e;o++)for(var i=this._column;i<this._column+n;i++)o==this._row&&i==this._column||this._markSpannedCell(o,i,r)}},{key:"_markSpannedCell",value:function(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}]),t}(),CG=function(){function t(e,n,r,o){EG(this,t),this.cell=n,this.row=e._row,this.column=e._column,this.cellAnchorRow=r,this.cellAnchorColumn=o,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}return TG(t,[{key:"getPositionBefore",value:function(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}},{key:"isAnchor",get:function(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}},{key:"cellWidth",get:function(){return parseInt(this.cell.getAttribute("colspan")||1)}},{key:"cellHeight",get:function(){return parseInt(this.cell.getAttribute("rowspan")||1)}},{key:"rowIndex",get:function(){return this._rowIndex}}]),t}();function IG(t){return function(t){if(Array.isArray(t))return NG(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||DG(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MG(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=DG(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function DG(t,e){if(t){if("string"==typeof t)return NG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NG(t,e):void 0}}function NG(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BG(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e){return e.on("insert:table",function(e,n,r){var o=n.item;if(r.consumable.consume(o,"insert")){r.consumable.consume(o,"attribute:headingRows:table"),r.consumable.consume(o,"attribute:headingColumns:table");var i,a=t&&t.asWidget,c=r.writer.createContainerElement("figure",{class:"table"}),u=r.writer.createContainerElement("table");r.writer.insert(r.writer.createPositionAt(c,0),u),a&&(i=VG(c,r.writer));var s,l=new jG(o),f={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},h=new Map,p=MG(l);try{for(p.s();!(s=p.n()).done;){var d=s.value,y=d.row,m=d.cell,v=o.getChild(y),b=h.get(y)||HG(u,v,y,f,r);h.set(y,b),r.consumable.consume(m,"insert"),UG(d,f,r.writer.createPositionAt(b,"end"),r,t)}}catch(t){p.e(t)}finally{p.f()}var g,w=MG(o.getChildren());try{for(w.s();!(g=w.n()).done;){var k=g.value,_=k.index;k.is("element","tableRow")&&!h.has(_)&&h.set(_,HG(u,k,_,f,r))}}catch(t){w.e(t)}finally{w.f()}var S=r.mapper.toViewPosition(n.range.start);r.mapper.bindElements(o,a?i:c),r.writer.insert(S,a?i:c)}})}}function zG(){return function(t){return t.on("insert:tableRow",function(t,e,n){var r=e.item;if(n.consumable.consume(r,"insert")){var o,i=r.parent,a=function(t){var e,n=MG(t.getChildren());try{for(n.s();!(e=n.n()).done;){var r=e.value;if("table"===r.name)return r}}catch(t){n.e(t)}finally{n.f()}}(n.mapper.toViewElement(i)),c=i.getChildIndex(r),u=new jG(i,{row:c}),s={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},l=new Map,f=MG(u);try{for(f.s();!(o=f.n()).done;){var h=o.value,p=l.get(c)||HG(a,r,c,s,n);l.set(c,p),n.consumable.consume(h.cell,"insert"),UG(h,s,n.writer.createPositionAt(p,"end"),n,{asWidget:!0})}}catch(t){f.e(t)}finally{f.f()}}})}}function LG(t,e){var n=e.writer;if(t.parent.is("element","tableCell"))return FG(t)?n.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):n.createContainerElement("p")}function FG(t){return 1===t.parent.childCount&&!KG(t)}function VG(t,e){return e.setCustomProperty("table",!0,t),fj(t,e,{hasSelectionHandle:!0})}function qG(t,e,n){var r=t.cell,o=WG(t,e),i=n.mapper.toViewElement(r);i&&i.name!==o&&function(t,e,n){var r=n.writer,o=n.mapper.toViewElement(t),i=mj(r.createEditableElement(e,o.getAttributes()),r);dj(i,r,function(t,e,n){return n.addClass(Hr(e.classes),t)},function(t,e,n){return n.removeClass(Hr(e.classes),t)}),r.insert(r.createPositionAfter(o),i),r.move(r.createRangeIn(o),r.createPositionAt(i,0)),r.remove(r.createRangeOn(o)),n.mapper.unbindViewElement(o),n.mapper.bindElements(t,i)}(r,o,n)}function UG(t,e,n,r,o){var i=o&&o.asWidget,a=WG(t,e),c=i?mj(r.writer.createEditableElement(a),r.writer):r.writer.createContainerElement(a);i&&dj(c,r.writer,function(t,e,n){return n.addClass(Hr(e.classes),t)},function(t,e,n){return n.removeClass(Hr(e.classes),t)});var u=t.cell,s=u.getChild(0),l=1===u.childCount&&"paragraph"===s.name;if(r.writer.insert(n,c),r.mapper.bindElements(u,c),!i&&l&&!KG(s)){var f=u.getChild(0);r.consumable.consume(f,"insert"),r.mapper.bindElements(f,c)}}function HG(t,e,n,r,o){o.consumable.consume(e,"insert");var i=e.isEmpty?o.writer.createEmptyElement("tr"):o.writer.createContainerElement("tr");o.mapper.bindElements(e,i);var a=r.headingRows,c=function(t,e,n){var r=$G(t,e);return r||function(t,e,n){var r=n.writer.createContainerElement(t),o=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(o,r),r}(t,e,n)}(function(t,e){return t<e.headingRows?"thead":"tbody"}(n,r),t,o),u=a>0&&n>=a?n-a:n,s=o.writer.createPositionAt(c,u);return o.writer.insert(s,i),i}function WG(t,e){var n=t.row,r=t.column,o=e.headingColumns,i=e.headingRows;return i&&i>n||o&&o>r?"th":"td"}function $G(t,e){var n,r=MG(e.getChildren());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.name==t)return o}}catch(t){r.e(t)}finally{r.f()}}function GG(t,e,n){var r=$G(t,e);r&&0===r.childCount&&n.writer.remove(n.writer.createRangeOn(r))}function KG(t){return!!IG(t.getAttributeKeys()).length}function YG(t){return(YG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZG(t,e){return(ZG=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function QG(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=eK(t);if(e){var o=eK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tK(this,n)}}function tK(t,e){return!e||"object"!==YG(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function eK(t){return(eK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ZG(t,e)}(i,t);var e,n,r,o=QG(i);function i(){return JG(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=function(t,e){var n=t.getFirstPosition().parent,r=n===n.root?n:n.parent;return e.checkChild(r,"table")}(e,n)}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.editor.model,n=e.document.selection,r=this.editor.plugins.get("TableUtils"),o=this.editor.config.get("table"),i=vj(n,e),a=o.defaultHeadings.rows,c=o.defaultHeadings.columns;void 0===t.headingRows&&a&&(t.headingRows=a),void 0===t.headingColumns&&c&&(t.headingColumns=c),e.change(function(n){var o=r.createTable(n,t);e.insertContent(o,i),n.setSelection(n.createPositionAt(o.getNodeByPath([0,0,0]),0))})}}])&&XG(e.prototype,n),r&&XG(e,r),i}(be);function rK(t){return function(t){if(Array.isArray(t))return aK(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||iK(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oK(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=iK(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function iK(t,e){if(t){if("string"==typeof t)return aK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aK(t,e):void 0}}function aK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cK(t){var e,n=[],r=oK(pK(t.getRanges()));try{for(r.s();!(e=r.n()).done;){var o=e.value.getContainedElement();o&&o.is("element","tableCell")&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}function uK(t){var e,n=[],r=oK(t.getRanges());try{for(r.s();!(e=r.n()).done;){var o=e.value.start.findAncestor("tableCell");o&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}function sK(t){var e=cK(t);return e.length?e:uK(t)}function lK(t){return dK(t.map(function(t){return t.parent.index}))}function fK(t){var e=t[0].findAncestor("table");return dK(rK(new jG(e)).filter(function(e){return t.includes(e.cell)}).map(function(t){return t.column}))}function hK(t,e){if(t.length<2||!function(t){var e=t[0].findAncestor("table"),n=lK(t),r=parseInt(e.getAttribute("headingRows")||0);if(!mK(n,r))return!1;var o=parseInt(e.getAttribute("headingColumns")||0);return mK(fK(t),o)}(t))return!1;var n,r=new Set,o=new Set,i=0,a=oK(t);try{for(a.s();!(n=a.n()).done;){var c=n.value,u=e.getCellLocation(c),s=u.row,l=u.column,f=parseInt(c.getAttribute("rowspan")||1),h=parseInt(c.getAttribute("colspan")||1);r.add(s),o.add(l),f>1&&r.add(s+f-1),h>1&&o.add(l+h-1),i+=f*h}}catch(t){a.e(t)}finally{a.f()}return function(t,e){var n=Array.from(t.values()),r=Array.from(e.values()),o=Math.max.apply(Math,rK(n)),i=Math.min.apply(Math,rK(n)),a=Math.max.apply(Math,rK(r)),c=Math.min.apply(Math,rK(r));return(o-i+1)*(a-c+1)}(r,o)==i}function pK(t){return Array.from(t).sort(yK)}function dK(t){var e=t.sort(function(t,e){return t-e});return{first:e[0],last:e[e.length-1]}}function yK(t,e){var n=t.start,r=e.start;return n.isBefore(r)?-1:1}function mK(t,e){return t.first<e===t.last<e}function vK(t){return(vK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wK(t,e){return(wK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=SK(t);if(e){var o=SK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _K(this,n)}}function _K(t,e){return!e||"object"!==vK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SK(t){return(SK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wK(t,e)}(i,t);var e,n,r,o=kK(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bK(this,i),(e=o.call(this,t)).order=n.order||"below",e}return e=i,(n=[{key:"refresh",value:function(){var t=!!sK(this.editor.model.document.selection).length;this.isEnabled=t}},{key:"execute",value:function(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="above"===this.order,o=sK(e),i=lK(o),a=r?i.first:i.last,c=o[0].findAncestor("table");n.insertRows(c,{at:r?a:a+1,copyStructureFromAbove:!r})}}])&&gK(e.prototype,n),r&&gK(e,r),i}(be);function OK(t){return(OK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EK(t,e){return(EK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function RK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=jK(t);if(e){var o=jK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return TK(this,n)}}function TK(t,e){return!e||"object"!==OK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jK(t){return(jK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var CK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&EK(t,e)}(i,t);var e,n,r,o=RK(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return AK(this,i),(e=o.call(this,t)).order=n.order||"right",e}return e=i,(n=[{key:"refresh",value:function(){var t=!!sK(this.editor.model.document.selection).length;this.isEnabled=t}},{key:"execute",value:function(){var t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),r="left"===this.order,o=sK(e),i=fK(o),a=r?i.first:i.last,c=o[0].findAncestor("table");n.insertColumns(c,{columns:1,at:r?a:a+1})}}])&&PK(e.prototype,n),r&&PK(e,r),i}(be);function IK(t){return(IK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function MK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NK(t,e){return(NK=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BK(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=LK(t);if(e){var o=LK(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zK(this,n)}}function zK(t,e){return!e||"object"!==IK(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LK(t){return(LK=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FK=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NK(t,e)}(i,t);var e,n,r,o=BK(i);function i(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return MK(this,i),(e=o.call(this,t)).direction=n.direction||"horizontally",e}return e=i,(n=[{key:"refresh",value:function(){var t=sK(this.editor.model.document.selection);this.isEnabled=1===t.length}},{key:"execute",value:function(){var t=sK(this.editor.model.document.selection)[0],e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}])&&DK(e.prototype,n),r&&DK(e,r),i}(be);function VK(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=UK(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function qK(t){return function(t){if(Array.isArray(t))return HK(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||UK(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UK(t,e){if(t){if("string"==typeof t)return HK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HK(t,e):void 0}}function HK(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WK(t,e,n){for(var r=e.startRow,o=e.startColumn,i=e.endRow,a=e.endColumn,c=n.createElement("table"),u=i-r+1,s=0;s<u;s++)n.insertElement("tableRow",c,"end");var l,f=VK(qK(new jG(t,{startRow:r,endRow:i,startColumn:o,endColumn:a,includeAllSlots:!0})));try{for(f.s();!(l=f.n()).done;){var h=l.value,p=h.row,d=h.column,y=h.cell,m=h.isAnchor,v=h.cellAnchorRow,b=h.cellAnchorColumn,g=p-r,w=c.getChild(g);if(m){var k=n.cloneElement(y);n.append(k,w),JK(k,p,d,i,a,n)}else(v<r||b<o)&&wG(n,n.createPositionAt(w,"end"))}}catch(t){f.e(t)}finally{f.f()}return function(t,e,n,r,o){var i=parseInt(e.getAttribute("headingRows")||0);if(i>0){gG("headingRows",i-n,t,o,0)}var a=parseInt(e.getAttribute("headingColumns")||0);if(a>0){gG("headingColumns",a-r,t,o,0)}}(c,t,r,o,n),c}function $K(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=[],i=new jG(t,{startRow:r,endRow:e-1}),a=VK(i);try{for(a.s();!(n=a.n()).done;){var c=n.value,u=c.row,s=c.cellHeight,l=u+s-1;u<e&&e<=l&&o.push(c)}}catch(t){a.e(t)}finally{a.f()}return o}function GK(t,e,n){var r=t.parent,o=r.parent,i=r.index,a=e-i,c={},u=parseInt(t.getAttribute("rowspan"))-a;u>1&&(c.rowspan=u);var s=parseInt(t.getAttribute("colspan")||1);s>1&&(c.colspan=s);var l,f,h=i+a,p=null,d=VK(qK(new jG(o,{startRow:i,endRow:h,includeAllSlots:!0})));try{for(d.s();!(f=d.n()).done;){var y=f.value,m=y.row,v=y.column;y.cell===t&&void 0===l&&(l=v),void 0!==l&&l===v&&m===h&&(p=wG(n,y.getPositionBefore(),c))}}catch(t){d.e(t)}finally{d.f()}return gG("rowspan",a,t,n),p}function KK(t,e){var n,r=[],o=VK(new jG(t));try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.column,c=i.cellWidth;a<e&&e<=a+c-1&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}return r}function YK(t,e,n,r){var o=n-e,i={},a=parseInt(t.getAttribute("colspan"))-o;a>1&&(i.colspan=a);var c=parseInt(t.getAttribute("rowspan")||1);c>1&&(i.rowspan=c);var u=wG(r,r.createPositionAfter(t),i);return gG("colspan",o,t,r),u}function JK(t,e,n,r,o,i){var a=parseInt(t.getAttribute("colspan")||1),c=parseInt(t.getAttribute("rowspan")||1);n+a-1>o&&gG("colspan",o-n+1,t,i,1);e+c-1>r&&gG("rowspan",r-e+1,t,i,1)}function XK(t,e){var n,r=e.getColumns(t),o=new Array(r).fill(0),i=VK(new jG(t));try{for(i.s();!(n=i.n()).done;){o[n.value.column]++}}catch(t){i.e(t)}finally{i.f()}var a=o.reduce(function(t,e,n){return e?t:[].concat(qK(t),[n])},[]);if(a.length>0){var c=a[a.length-1];return e.removeColumns(t,{at:c}),!0}return!1}function ZK(t,e){for(var n=[],r=e.getRows(t),o=0;o<r;o++){t.getChild(o).isEmpty&&n.push(o)}if(n.length>0){var i=n[n.length-1];return e.removeRows(t,{at:i}),!0}return!1}function QK(t,e){XK(t,e)||ZK(t,e)}function tY(t,e){var n=Array.from(new jG(t,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(n.every(function(t){return 1===t.cellHeight}))return e.lastRow;var r=n[0].cellHeight-1;return e.lastRow+r}function eY(t,e){var n=Array.from(new jG(t,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(n.every(function(t){return 1===t.cellWidth}))return e.lastColumn;var r=n[0].cellWidth-1;return e.lastColumn+r}function nY(t){return(nY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rY(t){return function(t){if(Array.isArray(t))return oY(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return oY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oY(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aY(t,e){return(aY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=sY(t);if(e){var o=sY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uY(this,n)}}function uY(t,e){return!e||"object"!==nY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function sY(t){return(sY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aY(t,e)}(i,t);var e,n,r,o=cY(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).direction=e.direction,n.isHorizontal="right"==n.direction||"left"==n.direction,n}return e=i,(n=[{key:"refresh",value:function(){var t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}},{key:"execute",value:function(){var t=this,e=this.editor.model,n=uK(e.document.selection)[0],r=this.value,o=this.direction;e.change(function(e){var i="right"==o||"down"==o,a=i?n:r,c=i?r:n,u=c.parent;!function(t,e,n){fY(t)||(fY(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(c,a,e);var s=t.isHorizontal?"colspan":"rowspan",l=parseInt(n.getAttribute(s)||1),f=parseInt(r.getAttribute(s)||1);e.setAttribute(s,l+f,a),e.setSelection(e.createRangeIn(a));var h=t.editor.plugins.get("TableUtils");QK(u.findAncestor("table"),h)})}},{key:"_getMergeableCell",value:function(){var t=uK(this.editor.model.document.selection)[0];if(t){var e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){var r=t.parent.parent,o="right"==e?t.nextSibling:t.previousSibling,i=(r.getAttribute("headingColumns")||0)>0;if(o){var a="right"==e?t:o,c="right"==e?o:t,u=n.getCellLocation(a).column,s=n.getCellLocation(c).column,l=parseInt(a.getAttribute("colspan")||1),f=kG(n,a),h=kG(n,c);if(!i||f==h)return u+l===s?o:void 0}}(t,this.direction,e):function(t,e,n){var r=t.parent,o=r.parent,i=o.getChildIndex(r);if(!("down"==e&&i===n.getRows(o)-1||"up"==e&&0===i)){var a=parseInt(t.getAttribute("rowspan")||1),c=o.getAttribute("headingRows")||0,u="down"==e&&i+a===c,s="up"==e&&i===c;if(!c||!u&&!s){var l=parseInt(t.getAttribute("rowspan")||1),f="down"==e?i+l:i,h=rY(new jG(o,{endRow:f})),p=h.find(function(e){return e.cell===t}).column,d=h.find(function(t){var n=t.row,r=t.cellHeight;return t.column===p&&("down"==e?n===f:f===n+r)});return d&&d.cell}}}(t,this.direction,e);if(n){var r=this.isHorizontal?"rowspan":"colspan",o=parseInt(t.getAttribute(r)||1);return parseInt(n.getAttribute(r)||1)===o?n:void 0}}}}])&&iY(e.prototype,n),r&&iY(e,r),i}(be);function fY(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}function hY(t){return(hY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pY(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return dY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dY(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function dY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vY(t,e){return(vY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=wY(t);if(e){var o=wY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gY(this,n)}}function gY(t,e){return!e||"object"!==hY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wY(t){return(wY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vY(t,e)}(i,t);var e,n,r,o=bY(i);function i(){return yY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=sK(this.editor.model.document.selection),e=t[0];if(e){var n=e.findAncestor("table"),r=this.editor.plugins.get("TableUtils").getRows(n)-1,o=lK(t),i=0===o.first&&o.last===r;this.isEnabled=!i}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=sK(t.document.selection),r=lK(n),o=n[0],i=o.findAncestor("table"),a=e.getCellLocation(o).column;t.change(function(t){var n=r.last-r.first+1;e.removeRows(i,{at:r.first,rows:n});var o=function(t,e,n,r){var o,i=t.getChild(Math.min(e,r-1)),a=i.getChild(0),c=0,u=pY(i.getChildren());try{for(u.s();!(o=u.n()).done;){var s=o.value;if(c>n)return a;a=s,c+=parseInt(s.getAttribute("colspan")||1)}}catch(t){u.e(t)}finally{u.f()}return a}(i,r.first,a,e.getRows(i));t.setSelection(t.createPositionAt(o,0))})}}])&&mY(e.prototype,n),r&&mY(e,r),i}(be);function _Y(t){return(_Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SY(t){return function(t){if(Array.isArray(t))return AY(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||OY(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xY(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||OY(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OY(t,e){if(t){if("string"==typeof t)return AY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?AY(t,e):void 0}}function AY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RY(t,e){return(RY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=CY(t);if(e){var o=CY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jY(this,n)}}function jY(t,e){return!e||"object"!==_Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CY(t){return(CY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RY(t,e)}(i,t);var e,n,r,o=TY(i);function i(){return PY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=sK(this.editor.model.document.selection),e=t[0];if(e){var n=e.findAncestor("table"),r=this.editor.plugins.get("TableUtils").getColumns(n),o=fK(t),i=o.first,a=o.last;this.isEnabled=a-i<r-1}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,e=xY(function(t){var e=sK(t),n=e[0],r=e.pop(),o=[n,r];return n.isBefore(r)?o:o.reverse()}(this.editor.model.document.selection),2),n=e[0],r=e[1],o=n.parent.parent,i=SY(new jG(o)),a={first:i.find(function(t){return t.cell===n}).column,last:i.find(function(t){return t.cell===r}).column},c=function(t,e,n,r){return parseInt(n.getAttribute("colspan")||1)>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:r.first?t.reverse().find(function(t){return t.column<r.first}).cell:t.reverse().find(function(t){return t.column>r.last}).cell}(i,n,r,a);this.editor.model.change(function(e){var n=a.last-a.first+1;t.editor.plugins.get("TableUtils").removeColumns(o,{at:a.first,columns:n}),e.setSelection(e.createPositionAt(c,0))})}}])&&EY(e.prototype,n),r&&EY(e,r),i}(be);function MY(t){return(MY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DY(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return NY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NY(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function NY(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function LY(t,e){return(LY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function FY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=qY(t);if(e){var o=qY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return VY(this,n)}}function VY(t,e){return!e||"object"!==MY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function qY(t){return(qY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var UY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&LY(t,e)}(i,t);var e,n,r,o=FY(i);function i(){return BY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=this,e=sK(this.editor.model.document.selection),n=e.length>0;this.isEnabled=n,this.value=n&&e.every(function(e){return t._isInHeading(e,e.parent.parent)})}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.forceValue!==this.value){var e=this.editor.model,n=sK(e.document.selection),r=n[0].findAncestor("table"),o=lK(n),i=o.first,a=o.last,c=this.value?i:a+1,u=r.getAttribute("headingRows")||0;e.change(function(t){if(c){var e,n=DY($K(r,c,c>u?u:0));try{for(n.s();!(e=n.n()).done;)GK(e.value.cell,c,t)}catch(t){n.e(t)}finally{n.f()}}gG("headingRows",c,r,t,0)})}}},{key:"_isInHeading",value:function(t,e){var n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}])&&zY(e.prototype,n),r&&zY(e,r),i}(be);function HY(t){return(HY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WY(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $Y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function $Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YY(t,e){return(YY=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function JY(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=ZY(t);if(e){var o=ZY(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return XY(this,n)}}function XY(t,e){return!e||"object"!==HY(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ZY(t){return(ZY=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var QY=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YY(t,e)}(i,t);var e,n,r,o=JY(i);function i(){return GY(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=sK(this.editor.model.document.selection),e=this.editor.plugins.get("TableUtils"),n=t.length>0;this.isEnabled=n,this.value=n&&t.every(function(t){return kG(e,t)})}},{key:"execute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.forceValue!==this.value){var e=this.editor.model,n=sK(e.document.selection),r=n[0].findAncestor("table"),o=fK(n),i=o.first,a=o.last,c=this.value?i:a+1;e.change(function(t){if(c){var e,n=WY(KK(r,c));try{for(n.s();!(e=n.n()).done;){var o=e.value;YK(o.cell,o.column,c,t)}}catch(t){n.e(t)}finally{n.f()}}gG("headingColumns",c,r,t,0)})}}}])&&KY(e.prototype,n),r&&KY(e,r),i}(be);function tJ(t){return(tJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eJ(t){return function(t){if(Array.isArray(t))return oJ(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||rJ(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nJ(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=rJ(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function rJ(t,e){if(t){if("string"==typeof t)return oJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oJ(t,e):void 0}}function oJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cJ(t,e){return(cJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=lJ(t);if(e){var o=lJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sJ(this,n)}}function sJ(t,e){return!e||"object"!==tJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lJ(t){return(lJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cJ(t,e)}(i,t);var e,n,r,o=uJ(i);function i(){return iJ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableUtils"}}],(n=[{key:"init",value:function(){this.decorate("insertColumns"),this.decorate("insertRows")}},{key:"getCellLocation",value:function(t){var e,n=t.parent,r=n.parent,o=r.getChildIndex(n),i=nJ(new jG(r,{row:o}));try{for(i.s();!(e=i.n()).done;){var a=e.value,c=a.cell,u=a.row,s=a.column;if(c===t)return{row:u,column:s}}}catch(t){i.e(t)}finally{i.f()}}},{key:"createTable",value:function(t,e){var n=t.createElement("table"),r=parseInt(e.rows)||2,o=parseInt(e.columns)||2;return hJ(t,n,0,r,o),e.headingRows&&gG("headingRows",Math.min(e.headingRows,r),n,t,0),e.headingColumns&&gG("headingColumns",Math.min(e.headingColumns,o),n,t,0),n}},{key:"insertRows",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,r=e.at||0,o=e.rows||1,i=void 0!==e.copyStructureFromAbove,a=e.copyStructureFromAbove?r-1:r,c=this.getRows(t),s=this.getColumns(t);if(r>c)throw new u.a("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change(function(e){var n=t.getAttribute("headingRows")||0;if(n>r&&gG("headingRows",n+o,t,e,0),i||0!==r&&r!==c){var u,l=i?Math.max(r,a):r,f=new jG(t,{endRow:l}),h=new Array(s).fill(1),p=nJ(f);try{for(p.s();!(u=p.n()).done;){var d=u.value,y=d.row,m=d.column,v=d.cellHeight,b=d.cellWidth,g=d.cell,w=y+v-1,k=y<=a&&a<=w;y<r&&r<=w?(e.setAttribute("rowspan",v+o,g),h[m]=-b):i&&k&&(h[m]=b)}}catch(t){p.e(t)}finally{p.f()}for(var _=0;_<o;_++){var S=e.createElement("tableRow");e.insert(S,t,r);for(var x=0;x<h.length;x++){var O=h[x],A=e.createPositionAt(S,"end");O>0&&wG(e,A,O>1?{colspan:O}:null),x+=Math.abs(O)-1}}}else hJ(e,t,r,o,s)})}},{key:"insertColumns",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.editor.model,o=n.at||0,i=n.columns||1;r.change(function(n){var r=t.getAttribute("headingColumns");o<r&&n.setAttribute("headingColumns",r+i,t);var a=e.getColumns(t);if(0!==o&&a!==o){var c,u=new jG(t,{column:o,includeAllSlots:!0}),s=nJ(u);try{for(s.s();!(c=s.n()).done;){var l=c.value,f=l.row,h=l.cell,p=l.cellAnchorColumn,d=l.cellAnchorRow,y=l.cellWidth,m=l.cellHeight;if(p<o){n.setAttribute("colspan",y+i,h);for(var v=d+m-1,b=f;b<=v;b++)u.skipRow(b)}else pJ(i,n,l.getPositionBefore())}}catch(t){s.e(t)}finally{s.f()}}else{var g,w=nJ(t.getChildren());try{for(w.s();!(g=w.n()).done;){var k=g.value;k.is("element","tableRow")&&pJ(i,n,n.createPositionAt(k,o?"end":0))}}catch(t){w.e(t)}finally{w.f()}}})}},{key:"removeRows",value:function(t,e){var n=this,r=this.editor.model,o=e.rows||1,i=this.getRows(t),a=e.at,c=a+o-1;if(c>i-1)throw new u.a("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});r.change(function(e){var r=function(t,e,n){var r,o=new Map,i=[],a=nJ(new jG(t,{endRow:n}));try{for(a.s();!(r=a.n()).done;){var c=r.value,u=c.row,s=c.column,l=c.cellHeight,f=c.cell,h=u+l-1;if(u>=e&&u<=n&&h>n){var p=l-(n-u+1);o.set(s,{cell:f,rowspan:p})}if(u<e&&h>=e){var d=void 0;d=h>=n?n-e+1:h-e+1,i.push({cell:f,rowspan:l-d})}}}catch(t){a.e(t)}finally{a.f()}return{cellsToMove:o,cellsToTrim:i}}(t,a,c),o=r.cellsToMove,i=r.cellsToTrim;o.size&&function(t,e,n,r){var o,i,a=eJ(new jG(t,{includeAllSlots:!0,row:e})),c=t.getChild(e),u=nJ(a);try{for(u.s();!(i=u.n()).done;){var s=i.value,l=s.column,f=s.cell,h=s.isAnchor;if(n.has(l)){var p=n.get(l),d=p.cell,y=p.rowspan,m=o?r.createPositionAfter(o):r.createPositionAt(c,0);r.move(r.createRangeOn(d),m),gG("rowspan",y,d,r),o=d}else h&&(o=f)}}catch(t){u.e(t)}finally{u.f()}}(t,c+1,o,e);for(var u=c;u>=a;u--)e.remove(t.getChild(u));var s,l=nJ(i);try{for(l.s();!(s=l.n()).done;){var f=s.value;gG("rowspan",f.rowspan,f.cell,e)}}catch(t){l.e(t)}finally{l.f()}!function(t,e,n,r){var o=t.getAttribute("headingRows")||0;e<o&&gG("headingRows",n<o?o-(n-e+1):e,t,r,0)}(t,a,c,e),XK(t,n)||ZK(t,n)})}},{key:"removeColumns",value:function(t,e){var n=this,r=this.editor.model,o=e.at,i=e.columns||1,a=e.at+i-1;r.change(function(e){!function(t,e,n){var r=t.getAttribute("headingColumns")||0;if(r&&e.first<r){var o=Math.min(r-1,e.last)-e.first+1;n.setAttribute("headingColumns",r-o,t)}}(t,{first:o,last:a},e);for(var r=a;r>=o;r--)for(var i=0,c=eJ(new jG(t));i<c.length;i++){var u=c[i],s=u.cell,l=u.column,f=u.cellWidth;l<=r&&f>1&&l+f>r?gG("colspan",f-1,s,e):l===r&&e.remove(s)}ZK(t,n)||XK(t,n)})}},{key:"splitCellVertically",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,r=t.parent,o=r.parent,i=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(function(n){if(a>1){var r=dJ(a,e),c=r.newCellsSpan;gG("colspan",r.updatedSpan,t,n);var u={};c>1&&(u.colspan=c),i>1&&(u.rowspan=i),pJ(a>e?e-1:a-1,n,n.createPositionAfter(t),u)}if(a<e){var s,l=e-a,f=eJ(new jG(o)),h=f.find(function(e){return e.cell===t}).column,p=nJ(f.filter(function(e){var n=e.cell,r=e.cellWidth,o=e.column;return n!==t&&o===h||o<h&&o+r>h}));try{for(p.s();!(s=p.n()).done;){var d=s.value,y=d.cell,m=d.cellWidth;n.setAttribute("colspan",m+l,y)}}catch(t){p.e(t)}finally{p.f()}var v={};i>1&&(v.rowspan=i),pJ(l,n,n.createPositionAfter(t),v);var b=o.getAttribute("headingColumns")||0;b>h&&gG("headingColumns",b+l,o,n)}})}},{key:"splitCellHorizontally",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,r=t.parent,o=r.parent,i=o.getChildIndex(r),a=parseInt(t.getAttribute("rowspan")||1),c=parseInt(t.getAttribute("colspan")||1);n.change(function(n){if(a>1){var r=eJ(new jG(o,{startRow:i,endRow:i+a-1,includeAllSlots:!0})),u=dJ(a,e),s=u.newCellsSpan,l=u.updatedSpan;gG("rowspan",l,t,n);var f=r.find(function(e){return e.cell===t}).column,h={};s>1&&(h.rowspan=s),c>1&&(h.colspan=c);var p,d=nJ(r);try{for(d.s();!(p=d.n()).done;){var y=p.value,m=y.column,v=y.row;v>=i+l&&m===f&&(v+i+l)%s==0&&pJ(1,n,y.getPositionBefore(),h)}}catch(t){d.e(t)}finally{d.f()}}if(a<e){var b,g=e-a,w=nJ(eJ(new jG(o,{startRow:0,endRow:i})));try{for(w.s();!(b=w.n()).done;){var k=b.value,_=k.cell,S=k.cellHeight,x=k.row;if(_!==t&&x+S>i){var O=S+g;n.setAttribute("rowspan",O,_)}}}catch(t){w.e(t)}finally{w.f()}var A={};c>1&&(A.colspan=c),hJ(n,o,i+1,g,1,A);var P=o.getAttribute("headingRows")||0;P>i&&gG("headingRows",P+g,o,n)}})}},{key:"getColumns",value:function(t){return eJ(t.getChild(0).getChildren()).reduce(function(t,e){return t+parseInt(e.getAttribute("colspan")||1)},0)}},{key:"getRows",value:function(t){return Array.from(t.getChildren()).reduce(function(t,e){return e.is("element","tableRow")?t+1:t},0)}}])&&aJ(e.prototype,n),r&&aJ(e,r),i}(ye);function hJ(t,e,n,r,o){for(var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=0;a<r;a++){var c=t.createElement("tableRow");t.insert(c,e,n),pJ(o,t,t.createPositionAt(c,"end"),i)}}function pJ(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=0;o<t;o++)wG(e,n,r)}function dJ(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function yJ(t){return(yJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mJ(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vJ(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function vJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wJ(t,e){return(wJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=SJ(t);if(e){var o=SJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _J(this,n)}}function _J(t,e){return!e||"object"!==yJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function SJ(t){return(SJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wJ(t,e)}(i,t);var e,n,r,o=kJ(i);function i(){return bJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=cK(this.editor.model.document.selection);this.isEnabled=hK(t,this.editor.plugins.get(fJ))}},{key:"execute",value:function(){var t=this.editor.model,e=this.editor.plugins.get(fJ);t.change(function(n){var r=cK(t.document.selection),o=r.shift(),i=function(t,e,n){var r,o=0,i=0,a=mJ(e);try{for(a.s();!(r=a.n()).done;){var c=r.value,u=n.getCellLocation(c),s=u.row,l=u.column;o=PJ(c,l,o,"colspan"),i=PJ(c,s,i,"rowspan")}}catch(t){a.e(t)}finally{a.f()}var f=n.getCellLocation(t),h=f.row,p=f.column;return{mergeWidth:o-p,mergeHeight:i-h}}(o,r,e),a=i.mergeWidth,c=i.mergeHeight;gG("colspan",a,o,n),gG("rowspan",c,o,n);var u,s=mJ(r);try{for(s.s();!(u=s.n()).done;)OJ(u.value,o,n)}catch(t){s.e(t)}finally{s.f()}QK(o.findAncestor("table"),e),n.setSelection(o,"in")})}}])&&gJ(e.prototype,n),r&&gJ(e,r),i}(be);function OJ(t,e,n){AJ(t)||(AJ(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}function AJ(t){return 1==t.childCount&&t.getChild(0).is("element","paragraph")&&t.getChild(0).isEmpty}function PJ(t,e,n,r){var o=parseInt(t.getAttribute(r)||1);return Math.max(n,e+o)}function EJ(t){return(EJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function RJ(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return TJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TJ(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function TJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IJ(t,e){return(IJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function MJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=NJ(t);if(e){var o=NJ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return DJ(this,n)}}function DJ(t,e){return!e||"object"!==EJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function NJ(t){return(NJ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var BJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&IJ(t,e)}(i,t);var e,n,r,o=MJ(i);function i(){return jJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=sK(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){for(var t=this.editor.model,e=sK(t.document.selection),n=lK(e),r=e[0].findAncestor("table"),o=[],i=n.first;i<=n.last;i++){var a,c=RJ(r.getChild(i).getChildren());try{for(c.s();!(a=c.n()).done;){var u=a.value;o.push(t.createRangeOn(u))}}catch(t){c.e(t)}finally{c.f()}}t.change(function(t){t.setSelection(o)})}}])&&CJ(e.prototype,n),r&&CJ(e,r),i}(be);function zJ(t){return(zJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LJ(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return FJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FJ(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function FJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UJ(t,e){return(UJ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function HJ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=$J(t);if(e){var o=$J(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return WJ(this,n)}}function WJ(t,e){return!e||"object"!==zJ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $J(t){return($J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var GJ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&UJ(t,e)}(i,t);var e,n,r,o=HJ(i);function i(){return VJ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){var t=sK(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){var t,e=this.editor.model,n=sK(e.document.selection),r=n[0],o=n.pop(),i=r.findAncestor("table"),a=this.editor.plugins.get("TableUtils"),c=a.getCellLocation(r),u=a.getCellLocation(o),s=Math.min(c.column,u.column),l=Math.max(c.column,u.column),f=[],h=LJ(new jG(i,{startColumn:s,endColumn:l}));try{for(h.s();!(t=h.n()).done;){var p=t.value;f.push(e.createRangeOn(p.cell))}}catch(t){h.e(t)}finally{h.f()}e.change(function(t){t.setSelection(f)})}}])&&qJ(e.prototype,n),r&&qJ(e,r),i}(be);function KJ(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||JJ(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YJ(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=JJ(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function JJ(t,e){if(t){if("string"==typeof t)return XJ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XJ(t,e):void 0}}function XJ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZJ(t){t.document.registerPostFixer(function(e){return function(t,e){var n,r=e.document.differ.getChanges(),o=!1,i=new Set,a=YJ(r);try{for(a.s();!(n=a.n()).done;){var c=n.value,u=void 0;"table"==c.name&&"insert"==c.type&&(u=c.position.nodeAfter),"tableRow"!=c.name&&"tableCell"!=c.name||(u=c.position.findAncestor("table")),eX(c)&&(u=c.range.start.findAncestor("table")),u&&!i.has(u)&&(o=QJ(u,t)||o,o=tX(u,t)||o,i.add(u))}}catch(t){a.e(t)}finally{a.f()}return o}(e,t)})}function QJ(t,e){var n=!1,r=function(t){var e,n=parseInt(t.getAttribute("headingRows")||0),r=Array.from(t.getChildren()).reduce(function(t,e){return e.is("element","tableRow")?t+1:t},0),o=[],i=YJ(new jG(t));try{for(i.s();!(e=i.n()).done;){var a=e.value,c=a.row,u=a.cell,s=a.cellHeight;if(!(s<2)){var l=c<n?n:r;if(c+s>l){var f=l-c;o.push({cell:u,rowspan:f})}}}}catch(t){i.e(t)}finally{i.f()}return o}(t);if(r.length){n=!0;var o,i=YJ(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;gG("rowspan",a.rowspan,a.cell,e,1)}}catch(t){i.e(t)}finally{i.f()}}return n}function tX(t,e){var n,r=!1,o=function(t){var e,n=new Array(t.childCount).fill(0),r=YJ(new jG(t,{includeAllSlots:!0}));try{for(r.s();!(e=r.n()).done;){var o=e.value.rowIndex;n[o]++}}catch(t){r.e(t)}finally{r.f()}return n}(t),i=[],a=YJ(o.entries());try{for(a.s();!(n=a.n()).done;){var c=KJ(n.value,2),u=c[0];!c[1]&&t.getChild(u).is("element","tableRow")&&i.push(u)}}catch(t){a.e(t)}finally{a.f()}if(i.length){r=!0;var s,l=YJ(i.reverse());try{for(l.s();!(s=l.n()).done;){var f=s.value;e.remove(t.getChild(f)),o.splice(f,1)}}catch(t){l.e(t)}finally{l.f()}}var h=o.filter(function(e,n){return t.getChild(n).is("element","tableRow")}),p=h[0];if(!h.every(function(t){return t===p})){var d,y=h.reduce(function(t,e){return e>t?e:t},0),m=YJ(h.entries());try{for(m.s();!(d=m.n()).done;){var v=KJ(d.value,2),b=v[0],g=y-v[1];if(g){for(var w=0;w<g;w++)wG(e,e.createPositionAt(t.getChild(b),"end"));r=!0}}}catch(t){m.e(t)}finally{m.f()}}return r}function eX(t){var e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function nX(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return rX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rX(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function rX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oX(t){t.document.registerPostFixer(function(e){return function(t,e){var n,r=e.document.differ.getChanges(),o=!1,i=nX(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;"insert"==a.type&&"table"==a.name&&(o=iX(a.position.nodeAfter,t)||o),"insert"==a.type&&"tableRow"==a.name&&(o=aX(a.position.nodeAfter,t)||o),"insert"==a.type&&"tableCell"==a.name&&(o=cX(a.position.nodeAfter,t)||o),uX(a)&&(o=cX(a.position.parent,t)||o)}}catch(t){i.e(t)}finally{i.f()}return o}(e,t)})}function iX(t,e){var n,r=!1,o=nX(t.getChildren());try{for(o.s();!(n=o.n()).done;){var i=n.value;i.is("element","tableRow")&&(r=aX(i,e)||r)}}catch(t){o.e(t)}finally{o.f()}return r}function aX(t,e){var n,r=!1,o=nX(t.getChildren());try{for(o.s();!(n=o.n()).done;){r=cX(n.value,e)||r}}catch(t){o.e(t)}finally{o.f()}return r}function cX(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;var n,r=Array.from(t.getChildren()).filter(function(t){return t.is("$text")}),o=nX(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.wrap(e.createRangeOn(i),"paragraph")}}catch(t){o.e(t)}finally{o.f()}return!!r.length}function uX(t){return!(!t.position||!t.position.parent.is("element","tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function sX(t){return function(t){if(Array.isArray(t))return hX(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||fX(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lX(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=fX(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function fX(t,e){if(t){if("string"==typeof t)return hX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hX(t,e):void 0}}function hX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pX(t,e){t.document.registerPostFixer(function(){return function(t,e){var n,r=new Set,o=lX(t.getChanges());try{for(o.s();!(n=o.n()).done;){var i=n.value,a="attribute"==i.type?i.range.start.parent:i.position.parent;a.is("element","tableCell")&&r.add(a)}}catch(t){o.e(t)}finally{o.f()}var c,u=lX(r.values());try{for(u.s();!(c=u.n()).done;){var s,l=lX(sX(c.value.getChildren()).filter(function(t){return dX(t,e)}));try{for(l.s();!(s=l.n()).done;){var f=s.value;t.refreshItem(f)}}catch(t){l.e(t)}finally{l.f()}}}catch(t){u.e(t)}finally{u.f()}return!1}(t.document.differ,e)})}function dX(t,e){if(!t.is("element","paragraph"))return!1;var n=e.toViewElement(t);return!!n&&FG(t)!==n.is("element","span")}function yX(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mX(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function mX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vX(t){t.document.registerPostFixer(function(){return function(t){var e,n=t.document.differ,r=new Set,o=yX(n.getChanges());try{for(o.s();!(e=o.n()).done;){var i=e.value;if("attribute"==i.type){var a=i.range.start.nodeAfter;a&&a.is("element","table")&&"headingRows"==i.attributeKey&&r.add(a)}}}catch(t){o.e(t)}finally{o.f()}if(r.size){var c,u=yX(r.values());try{for(u.s();!(c=u.n()).done;){var s=c.value;n.refreshItem(s)}}catch(t){u.e(t)}finally{u.f()}return!0}return!1}(t)})}n(459);function bX(t){return(bX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kX(t,e){return(kX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=xX(t);if(e){var o=xX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return SX(this,n)}}function SX(t,e){return!e||"object"!==bX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xX(t){return(xX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kX(t,e)}(i,t);var e,n,r,o=_X(i);function i(){return gX(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[fJ]}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.model,n=e.schema,r=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowChildren:"$block",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),r.for("upcast").add(xG()),r.for("upcast").add(OG()),r.for("editingDowncast").add(BG({asWidget:!0})),r.for("dataDowncast").add(BG()),r.for("upcast").elementToElement({model:"tableRow",view:"tr"}),r.for("upcast").add(function(t){t.on("element:tr",function(t,e){e.viewItem.isEmpty&&0==e.modelCursor.index&&t.stop()},{priority:"high"})}),r.for("editingDowncast").add(zG()),r.for("editingDowncast").add(function(t){return t.on("remove:tableRow",function(t,e,n){t.stop();var r,o=n.writer,i=n.mapper,a=i.toViewPosition(e.position).getLastMatchingPosition(function(t){return!t.item.is("element","tr")}).nodeAfter,c=a.parent.parent,u=o.createRangeOn(a),s=o.remove(u),l=MG(o.createRangeIn(s).getItems());try{for(l.s();!(r=l.n()).done;){var f=r.value;i.unbindViewElement(f)}}catch(t){l.e(t)}finally{l.f()}GG("thead",c,n),GG("tbody",c,n)},{priority:"higher"})}),r.for("upcast").elementToElement({model:"tableCell",view:"td"}),r.for("upcast").elementToElement({model:"tableCell",view:"th"}),r.for("upcast").add(AG("td")),r.for("upcast").add(AG("th")),r.for("editingDowncast").add(function(t){return t.on("insert:tableCell",function(t,e,n){var r=e.item;if(n.consumable.consume(r,"insert")){var o,i=r.parent,a=i.parent,c=a.getChildIndex(i),u=new jG(a,{row:c}),s={headingRows:a.getAttribute("headingRows")||0,headingColumns:a.getAttribute("headingColumns")||0},l=MG(u);try{for(l.s();!(o=l.n()).done;){var f=o.value;if(f.cell===r){var h=n.mapper.toViewElement(i);return void UG(f,s,n.writer.createPositionAt(h,i.getChildIndex(r)),n,{asWidget:!0})}}}catch(t){l.e(t)}finally{l.f()}}})}),r.for("editingDowncast").elementToElement({model:"paragraph",view:LG,converterPriority:"high"}),r.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),r.for("upcast").attributeToAttribute({model:{key:"colspan",value:AX("colspan")},view:"colspan"}),r.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),r.for("upcast").attributeToAttribute({model:{key:"rowspan",value:AX("rowspan")},view:"rowspan"}),r.for("editingDowncast").add(function(t){return t.on("attribute:headingColumns:table",function(t,e,n){var r=e.item;if(n.consumable.consume(e.item,t.name)){var o,i={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},a=e.attributeOldValue,c=e.attributeNewValue,u=MG(new jG(r,{endColumn:(a>c?a:c)-1}));try{for(u.s();!(o=u.n()).done;)qG(o.value,i,n)}catch(t){u.e(t)}finally{u.f()}}})}),t.data.mapper.on("modelToViewPosition",function(t,e){var n=e.modelPosition.parent,r=e.modelPosition.nodeBefore;if(n.is("element","tableCell")&&r&&r.is("element","paragraph")){var o=e.mapper.toViewElement(r),i=e.mapper.toViewElement(n);o===i&&(e.viewPosition=e.mapper.findPositionIn(i,r.maxOffset))}}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new nK(t)),t.commands.add("insertTableRowAbove",new xK(t,{order:"above"})),t.commands.add("insertTableRowBelow",new xK(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new CK(t,{order:"left"})),t.commands.add("insertTableColumnRight",new CK(t,{order:"right"})),t.commands.add("removeTableRow",new kY(t)),t.commands.add("removeTableColumn",new IY(t)),t.commands.add("splitTableCellVertically",new FK(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new FK(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new xJ(t)),t.commands.add("mergeTableCellRight",new lY(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new lY(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new lY(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new lY(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new QY(t)),t.commands.add("setTableRowHeader",new UY(t)),t.commands.add("selectTableRow",new BJ(t)),t.commands.add("selectTableColumn",new GJ(t)),vX(e),ZJ(e),pX(e,t.editing.mapper),oX(e)}}])&&wX(e.prototype,n),r&&wX(e,r),i}(ye);function AX(t){return function(e){var n=parseInt(e.getAttribute(t));return Number.isNaN(n)||n<=0?null:n}}n(461);function PX(t){return(PX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TX(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jX(t,e)}function jX(t,e){return(jX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function CX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=DX(t);if(e){var o=DX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return IX(this,n)}}function IX(t,e){return!e||"object"!==PX(e)&&"function"!=typeof e?MX(t):e}function MX(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DX(t){return(DX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var NX=function(t){TX(i,t);var e,n,r,o=CX(i);function i(t){var e;EX(this,i);var n=(e=o.call(this,t)).bindTemplate;return e.items=e._createGridCollection(),e.set("rows",0),e.set("columns",0),e.bind("label").to(MX(e),"columns",MX(e),"rows",function(t,e){return"".concat(e," × ").concat(t)}),e.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":n.to("boxover")},children:e.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:n.to("label")}]}],on:{mousedown:n.to(function(t){t.preventDefault()}),click:n.to(function(){e.fire("execute")})}}),e.on("boxover",function(t,n){var r=n.target.dataset,o=r.row,i=r.column;e.set({rows:parseInt(o),columns:parseInt(i)})}),e.on("change:columns",function(){e._highlightGridBoxes()}),e.on("change:rows",function(){e._highlightGridBoxes()}),e}return e=i,(n=[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var t=this.rows,e=this.columns;this.items.map(function(n,r){var o=Math.floor(r/10)<t&&r%10<e;n.set("isOn",o)})}},{key:"_createGridCollection",value:function(){for(var t=[],e=0;e<100;e++){var n=Math.floor(e/10),r=e%10;t.push(new BX(this.locale,n+1,r+1))}return this.createCollection(t)}}])&&RX(e.prototype,n),r&&RX(e,r),i}(xw),BX=function(t){TX(n,t);var e=CX(n);function n(t,r,o){var i;EX(this,n);var a=(i=e.call(this,t)).bindTemplate;return i.set("isOn",!1),i.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",a.if("isOn","ck-on")],"data-row":r,"data-column":o}}),i}return n}(xw);function zX(t){return(zX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function LX(t){return function(t){if(Array.isArray(t))return VX(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||FX(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FX(t,e){if(t){if("string"==typeof t)return VX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VX(t,e):void 0}}function VX(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HX(t,e){return(HX=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WX(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=GX(t);if(e){var o=GX(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $X(this,n)}}function $X(t,e){return!e||"object"!==zX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GX(t){return(GX=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var KX=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HX(t,e)}(i,t);var e,n,r,o=WX(i);function i(){return qX(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=this.editor.t,r="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",function(t){var r,o=e.commands.get("insertTable"),i=zS(t);return i.bind("isEnabled").to(o),i.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:n("Insert table"),tooltip:!0}),i.on("change:isOpen",function(){r||(r=new NX(t),i.panelView.children.add(r),r.delegate("execute").to(i),i.buttonView.on("open",function(){r.rows=0,r.columns=0}),i.on("execute",function(){e.execute("insertTable",{rows:r.rows,columns:r.columns}),e.editing.view.focus()}))}),i}),e.ui.componentFactory.add("tableColumn",function(e){var o=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:n("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:n("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:n("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:n("Select column")}}];return t._prepareDropdown(n("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',o,e)}),e.ui.componentFactory.add("tableRow",function(e){var r=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:n("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:n("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:n("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:n("Select row")}}];return t._prepareDropdown(n("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',r,e)}),e.ui.componentFactory.add("mergeTableCells",function(e){var o=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:n("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:n("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("Split cell horizontally")}}];return t._prepareMergeSplitButtonDropdown(n("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',o,e)})}},{key:"_prepareDropdown",value:function(t,e,n,r){var o=this.editor,i=zS(r),a=this._fillDropdownWithListOptions(i,n);return i.buttonView.set({label:t,icon:e,tooltip:!0}),i.bind("isEnabled").toMany(a,"isEnabled",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some(function(t){return t})}),this.listenTo(i,"execute",function(t){o.execute(t.source.commandName),o.editing.view.focus()}),i}},{key:"_prepareMergeSplitButtonDropdown",value:function(t,e,n,r){var o=this.editor,i=zS(r,p_),a=o.commands.get("mergeTableCells"),c=this._fillDropdownWithListOptions(i,n);return i.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),i.bind("isEnabled").toMany([a].concat(LX(c)),"isEnabled",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some(function(t){return t})}),this.listenTo(i.buttonView,"execute",function(){o.execute("mergeTableCells"),o.editing.view.focus()}),this.listenTo(i,"execute",function(t){o.execute(t.source.commandName),o.editing.view.focus()}),i}},{key:"_fillDropdownWithListOptions",value:function(t,e){var n,r=this.editor,o=[],i=new Dr,a=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=FX(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e);try{for(a.s();!(n=a.n()).done;)YX(n.value,r,o,i)}catch(t){a.e(t)}finally{a.f()}return FS(t,i,r.ui.componentFactory),o}}])&&UX(e.prototype,n),r&&UX(e,r),i}(ye);function YX(t,e,n,r){var o=t.model=new Jx(t.model),i=t.model,a=i.commandName,c=i.bindIsOn;if("button"===t.type||"switchbutton"===t.type){var u=e.commands.get(a);n.push(u),o.set({commandName:a}),o.bind("isEnabled").to(u),c&&o.bind("isOn").to(u,"value")}o.set({withText:!0}),r.add(t)}n(463);function JX(t){return(JX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XX(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||tZ(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZX(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=tZ(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function QX(t){return function(t){if(Array.isArray(t))return eZ(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||tZ(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tZ(t,e){if(t){if("string"==typeof t)return eZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eZ(t,e):void 0}}function eZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oZ(t,e){return(oZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function iZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=cZ(t);if(e){var o=cZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return aZ(this,n)}}function aZ(t,e){return!e||"object"!==JX(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cZ(t){return(cZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var uZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oZ(t,e)}(i,t);var e,n,r,o=iZ(i);function i(){return nZ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[fJ]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor.model;this.listenTo(e,"deleteContent",function(e,n){return t._handleDeleteContent(e,n)},{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var t=cK(this.editor.model.document.selection);return 0==t.length?null:t}},{key:"getSelectionAsFragment",value:function(){var t=this,e=this.getSelectedTableCells();return e?this.editor.model.change(function(n){var r=n.createDocumentFragment(),o=t.editor.plugins.get("TableUtils"),i=fK(e),a=i.first,c=i.last,u=lK(e),s=u.first,l=u.last,f=e[0].findAncestor("table"),h=l,p=c;if(hK(e,o)){var d={firstColumn:a,lastColumn:c,firstRow:s,lastRow:l};h=tY(f,d),p=eY(f,d)}var y=WK(f,{startRow:s,startColumn:a,endRow:h,endColumn:p},n);return n.insert(y,r,0),r}):null}},{key:"setCellSelection",value:function(t,e){var n=this._getCellsToSelect(t,e);this.editor.model.change(function(t){t.setSelection(n.cells.map(function(e){return t.createRangeOn(e)}),{backward:n.backward})})}},{key:"getFocusCell",value:function(){var t=QX(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}},{key:"getAnchorCell",value:function(){var t=mf(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}},{key:"_defineSelectionConverter",value:function(){var t=this,e=this.editor,n=new Set;e.conversion.for("editingDowncast").add(function(e){return e.on("selection",function(e,r,o){var i=o.writer;!function(t){var e,r=ZX(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;t.removeClass("ck-editor__editable_selected",o)}}catch(t){r.e(t)}finally{r.f()}n.clear()}(i);var a=t.getSelectedTableCells();if(a){var c,u=ZX(a);try{for(u.s();!(c=u.n()).done;){var s=c.value,l=o.mapper.toViewElement(s);i.addClass("ck-editor__editable_selected",l),n.add(l)}}catch(t){u.e(t)}finally{u.f()}var f=o.mapper.toViewElement(a[a.length-1]);i.setSelection(f,0)}},{priority:"lowest"})})}},{key:"_enablePluginDisabling",value:function(){var t=this,e=this.editor;this.on("change:isEnabled",function(){if(!t.isEnabled){var n=t.getSelectedTableCells();if(!n)return;e.model.change(function(t){var r=t.createPositionAt(n[0],0),o=e.model.schema.getNearestSelectionRange(r);t.setSelection(o)})}})}},{key:"_handleDeleteContent",value:function(t,e){var n=XX(e,2),r=n[0],o=n[1],i=this.editor.model,a=!o||"backward"==o.direction,c=cK(r);c.length&&(t.stop(),i.change(function(t){var e=c[a?c.length-1:0];i.change(function(t){var e,n=ZX(c);try{for(n.s();!(e=n.n()).done;){var r=e.value;i.deleteContent(t.createSelection(r,"in"))}}catch(t){n.e(t)}finally{n.f()}});var n=i.schema.getNearestSelectionRange(t.createPositionAt(e,0));r.is("documentSelection")?t.setSelection(n):r.setTo(n)}))}},{key:"_getCellsToSelect",value:function(t,e){var n,r=this.editor.plugins.get("TableUtils"),o=r.getCellLocation(t),i=r.getCellLocation(e),a=Math.min(o.row,i.row),c=Math.max(o.row,i.row),u=Math.min(o.column,i.column),s=Math.max(o.column,i.column),l=new Array(c-a+1).fill(null).map(function(){return[]}),f={startRow:a,endRow:c,startColumn:u,endColumn:s},h=ZX(new jG(t.findAncestor("table"),f));try{for(h.s();!(n=h.n()).done;){var p=n.value,d=p.row,y=p.cell;l[d-a].push(y)}}catch(t){h.e(t)}finally{h.f()}var m=i.row<o.row,v=i.column<o.column;return m&&l.reverse(),v&&l.forEach(function(t){return t.reverse()}),{cells:l.flat(),backward:m||v}}}])&&rZ(e.prototype,n),r&&rZ(e,r),i}(ye);function sZ(t){return(sZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lZ(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=hZ(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function fZ(t){return function(t){if(Array.isArray(t))return pZ(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||hZ(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hZ(t,e){if(t){if("string"==typeof t)return pZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pZ(t,e):void 0}}function pZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mZ(t,e){return(mZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=gZ(t);if(e){var o=gZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bZ(this,n)}}function bZ(t,e){return!e||"object"!==sZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gZ(t){return(gZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var wZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mZ(t,e)}(i,t);var e,n,r,o=vZ(i);function i(){return dZ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[uZ,fJ]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.editing.view.document;this.listenTo(n,"copy",function(e,n){return t._onCopyCut(e,n)}),this.listenTo(n,"cut",function(e,n){return t._onCopyCut(e,n)}),this.listenTo(e.model,"insertContent",function(e,n){return t._onInsertContent.apply(t,[e].concat(fZ(n)))},{priority:"high"}),this.decorate("_replaceTableSlotCell")}},{key:"_onCopyCut",value:function(t,e){var n=this.editor.plugins.get(uZ);if(n.getSelectedTableCells()&&("cut"!=t.name||!this.editor.isReadOnly)){e.preventDefault(),t.stop();var r=this.editor.data,o=this.editor.editing.view.document,i=r.toView(n.getSelectionAsFragment());o.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:i,method:t.name})}}},{key:"_onInsertContent",value:function(t,e,n){var r=this;if(!n||n.is("documentSelection")){var o=this.editor.model,i=this.editor.plugins.get(fJ),a=function(t,e){if(!t.is("documentFragment")&&!t.is("element"))return null;if(t.is("element","table"))return t;if(1==t.childCount&&t.getChild(0).is("element","table"))return t.getChild(0);var n,r=e.createRangeIn(t),o=lZ(r.getItems());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.is("element","table")){var a=e.createRange(r.start,e.createPositionBefore(i));if(e.hasContent(a,{ignoreWhitespaces:!0}))return null;var c=e.createRange(e.createPositionAfter(i),r.end);return e.hasContent(c,{ignoreWhitespaces:!0})?null:i}}}catch(t){o.e(t)}finally{o.f()}return null}(e,o);if(a){var c=sK(o.document.selection);c.length?(t.stop(),o.change(function(t){var e={width:i.getColumns(a),height:i.getRows(a)},n=function(t,e,n,r){var o=t[0].findAncestor("table"),i=fK(t),a=lK(t),c={firstColumn:i.first,lastColumn:i.last,firstRow:a.first,lastRow:a.last},u=1===t.length;return u&&(c.lastRow+=e.height-1,c.lastColumn+=e.width-1,function(t,e,n,r){var o=r.getColumns(t),i=r.getRows(t);n>o&&r.insertColumns(t,{at:o,columns:n-o}),e>i&&r.insertRows(t,{at:i,rows:e-i})}(o,c.lastRow+1,c.lastColumn+1,r)),u||!hK(t,r)?function(t,e,n){var r=e.firstRow,o=e.lastRow,i=e.firstColumn,a=e.lastColumn,c={first:r,last:o},u={first:i,last:a};_Z(t,i,c,n),_Z(t,a+1,c,n),kZ(t,r,u,n),kZ(t,o+1,u,n,r)}(o,c,n):(c.lastRow=tY(o,c),c.lastColumn=eY(o,c)),c}(c,e,t,i),o=n.lastRow-n.firstRow+1,u=n.lastColumn-n.firstColumn+1,s={startRow:0,startColumn:0,endRow:Math.min(o,e.height)-1,endColumn:Math.min(u,e.width)-1};a=WK(a,s,t);var l=c[0].findAncestor("table"),f=r._replaceSelectedCellsWithPasted(a,e,l,n,t);if(r.editor.plugins.get("TableSelection").isEnabled){var h=pK(f.map(function(e){return t.createRangeOn(e)}));t.setSelection(h)}else t.setSelection(f[0],0)})):QK(a,i)}}}},{key:"_replaceSelectedCellsWithPasted",value:function(t,e,n,r,o){var i,a,c=e.width,u=e.height,s=function(t,e,n){var r,o=new Array(n).fill(null).map(function(){return new Array(e).fill(null)}),i=lZ(new jG(t));try{for(i.s();!(r=i.n()).done;){var a=r.value,c=a.column,u=a.row,s=a.cell;o[u][c]=s}}catch(t){i.e(t)}finally{i.f()}return o}(t,c,u),l=[],f=lZ(fZ(new jG(n,{startRow:r.firstRow,endRow:r.lastRow,startColumn:r.firstColumn,endColumn:r.lastColumn,includeAllSlots:!0})));try{for(f.s();!(a=f.n()).done;){var h=a.value,p=h.row,d=h.column;d===r.firstColumn&&(i=h.getPositionBefore());var y=p-r.firstRow,m=d-r.firstColumn,v=s[y%u][m%c],b=v?o.cloneElement(v):null,g=this._replaceTableSlotCell(h,b,i,o);g&&(JK(g,p,d,r.lastRow,r.lastColumn,o),l.push(g),i=o.createPositionAfter(g))}}catch(t){f.e(t)}finally{f.f()}var w=parseInt(n.getAttribute("headingRows")||0),k=parseInt(n.getAttribute("headingColumns")||0),_=r.firstRow<w&&w<=r.lastRow,S=r.firstColumn<k&&k<=r.lastColumn;if(_){var x=kZ(n,w,{first:r.firstColumn,last:r.lastColumn},o,r.firstRow);l.push.apply(l,fZ(x))}if(S){var O=_Z(n,k,{first:r.firstRow,last:r.lastRow},o);l.push.apply(l,fZ(O))}return l}},{key:"_replaceTableSlotCell",value:function(t,e,n,r){var o=t.cell;return t.isAnchor&&r.remove(o),e?(r.insert(e,n),e):null}}])&&yZ(e.prototype,n),r&&yZ(e,r),i}(ye);function kZ(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!(e<1)){var i=$K(t,e,o),a=i.filter(function(t){return SZ(t.column,t.cellWidth,n)});return a.map(function(t){return GK(t.cell,e,r)})}}function _Z(t,e,n,r){if(!(e<1))return KK(t,e).filter(function(t){return SZ(t.row,t.cellHeight,n)}).map(function(t){return YK(t.cell,t.column,e,r)})}function SZ(t,e,n){var r=t+e-1,o=n.first,i=n.last;return t>=o&&t<=i||t<o&&r>=o}function xZ(t){return(xZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function OZ(t){return function(t){if(Array.isArray(t))return AZ(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return AZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AZ(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AZ(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RZ(t,e){return(RZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function TZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=CZ(t);if(e){var o=CZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jZ(this,n)}}function jZ(t,e){return!e||"object"!==xZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function CZ(t){return(CZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var IZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&RZ(t,e)}(i,t);var e,n,r,o=TZ(i);function i(){return PZ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableKeyboard"}},{key:"requires",get:function(){return[uZ]}}],(n=[{key:"init",value:function(){var t=this,e=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",function(){return t._handleTabOnSelectedTable.apply(t,arguments)},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(e,"arrowKey",function(){return t._onArrowKey.apply(t,arguments)},{context:"table"})}},{key:"_handleTabOnSelectedTable",value:function(t,e){var n=this.editor,r=n.model.document.selection.getSelectedElement();r&&r.is("element","table")&&(e(),n.model.change(function(t){t.setSelection(t.createRangeIn(r.getChild(0).getChild(0)))}))}},{key:"_getTabHandler",value:function(t){var e=this,n=this.editor;return function(r,o){var i=uK(n.model.document.selection)[0];if(i||(i=e.editor.plugins.get("TableSelection").getFocusCell()),i){o();var a=i.parent,c=a.parent,u=c.getChildIndex(a),s=a.getChildIndex(i),l=0===s;if(t||!l||0!==u){var f=e.editor.plugins.get("TableUtils"),h=s===a.childCount-1,p=u===f.getRows(c)-1;if(t&&p&&h&&(n.execute("insertTableRowBelow"),u===f.getRows(c)-1))n.model.change(function(t){t.setSelection(t.createRangeOn(c))});else{var d;if(t&&h){var y=c.getChild(u+1);d=y.getChild(0)}else if(!t&&l){var m=c.getChild(u-1);d=m.getChild(m.childCount-1)}else d=a.getChild(s+(t?1:-1));n.model.change(function(t){t.setSelection(t.createRangeIn(d))})}}else n.model.change(function(t){t.setSelection(t.createRangeOn(c))})}}}},{key:"_onArrowKey",value:function(t,e){var n=this.editor,r=Rc(e.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(r,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}},{key:"_handleArrowKeys",value:function(t,e){var n,r=this.editor.model.document.selection,o=["right","down"].includes(t),i=cK(r);if(i.length)return n=e?this.editor.plugins.get("TableSelection").getFocusCell():o?i[i.length-1]:i[0],this._navigateFromCellInDirection(n,t,e),!0;var a=r.focus.findAncestor("tableCell");return!(!a||e&&!r.isCollapsed&&r.isBackward==o||!this._isSelectionAtCellEdge(r,a,o)||(this._navigateFromCellInDirection(a,t,e),0))}},{key:"_isSelectionAtCellEdge",value:function(t,e,n){var r=this.editor.model,o=this.editor.model.schema,i=n?t.getLastPosition():t.getFirstPosition();if(!o.getLimitElement(i).is("element","tableCell"))return r.createPositionAt(e,n?"end":0).isTouching(i);var a=r.createSelection(i);return r.modifySelection(a,{direction:n?"forward":"backward"}),i.isEqual(a.focus)}},{key:"_navigateFromCellInDirection",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.editor.model,o=t.findAncestor("table"),i=OZ(new jG(o,{includeAllSlots:!0})),a=i[i.length-1],c=a.row,u=a.column,s=i.find(function(e){return e.cell==t}),l=s.row,f=s.column;switch(e){case"left":f--;break;case"up":l--;break;case"right":f+=s.cellWidth;break;case"down":l+=s.cellHeight}var h=l<0||l>c,p=f<0&&l<=0,d=f>u&&l>=c;if(h||p||d)r.change(function(t){t.setSelection(t.createRangeOn(o))});else{f<0?(f=n?0:u,l--):f>u&&(f=n?u:0,l++);var y=i.find(function(t){return t.row==l&&t.column==f}).cell,m=["right","down"].includes(e),v=this.editor.plugins.get("TableSelection");if(n&&v.isEnabled){var b=v.getAnchorCell()||t;v.setCellSelection(b,y)}else{var g=r.createPositionAt(y,m?0:"end");r.change(function(t){t.setSelection(g)})}}}}])&&EZ(e.prototype,n),r&&EZ(e,r),i}(ye);function MZ(t){return(MZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function DZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function NZ(t,e){return(NZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=LZ(t);if(e){var o=LZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zZ(this,n)}}function zZ(t,e){return!e||"object"!==MZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function LZ(t){return(LZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var FZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NZ(t,e)}(i,t);var e,n,r,o=BZ(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,t)).domEventType=["mousemove","mouseleave"],e}return e=i,(n=[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}])&&DZ(e.prototype,n),r&&DZ(e,r),i}(Ws);function VZ(t){return(VZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HZ(t,e){return(HZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function WZ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=GZ(t);if(e){var o=GZ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $Z(this,n)}}function $Z(t,e){return!e||"object"!==VZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function GZ(t){return(GZ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var KZ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&HZ(t,e)}(i,t);var e,n,r,o=WZ(i);function i(){return qZ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"TableMouse"}},{key:"requires",get:function(){return[uZ]}}],(n=[{key:"init",value:function(){this.editor.editing.view.addObserver(FZ),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"_enableShiftClickSelection",value:function(){var t=this,e=this.editor,n=!1,r=e.plugins.get(uZ);this.listenTo(e.editing.view.document,"mousedown",function(o,i){if(t.isEnabled&&r.isEnabled&&i.domEvent.shiftKey){var a=r.getAnchorCell()||uK(e.model.document.selection)[0];if(a){var c=t._getModelTableCellFromDomEvent(i);c&&YZ(a,c)&&(n=!0,r.setCellSelection(a,c),i.preventDefault())}}}),this.listenTo(e.editing.view.document,"mouseup",function(){n=!1}),this.listenTo(e.editing.view.document,"selectionChange",function(t){n&&t.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var t,e,n=this,r=this.editor,o=!1,i=!1,a=r.plugins.get(uZ);this.listenTo(r.editing.view.document,"mousedown",function(e,r){n.isEnabled&&a.isEnabled&&(r.domEvent.shiftKey||r.domEvent.ctrlKey||r.domEvent.altKey||(t=n._getModelTableCellFromDomEvent(r)))}),this.listenTo(r.editing.view.document,"mousemove",function(r,c){if(c.domEvent.buttons&&t){var u=n._getModelTableCellFromDomEvent(c);u&&YZ(t,u)&&(e=u,o||e==t||(o=!0)),o&&(i=!0,a.setCellSelection(t,e),c.preventDefault())}}),this.listenTo(r.editing.view.document,"mouseup",function(){o=!1,i=!1,t=null,e=null}),this.listenTo(r.editing.view.document,"selectionChange",function(t){i&&t.stop()},{priority:"highest"})}},{key:"_getModelTableCellFromDomEvent",value:function(t){var e=t.target,n=this.editor.editing.view.createPositionAt(e,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}])&&UZ(e.prototype,n),r&&UZ(e,r),i}(ye);function YZ(t,e){return t.parent.parent==e.parent.parent}n(465);function JZ(t){return(JZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function XZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function QZ(t,e){return(QZ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=nQ(t);if(e){var o=nQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eQ(this,n)}}function eQ(t,e){return!e||"object"!==JZ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nQ(t){return(nQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&QZ(t,e)}(i,t);var e,n,r,o=tQ(i);function i(){return XZ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[OX,KX,uZ,KZ,IZ,wZ,tC]}},{key:"pluginName",get:function(){return"Table"}}],(n=null)&&ZZ(e.prototype,n),r&&ZZ(e,r),i}(ye);function oQ(t){var e=t.getSelectedElement();return e&&aQ(e)?e:null}function iQ(t){for(var e=t.getFirstPosition().parent;e;){if(e.is("element")&&aQ(e))return e;e=e.parent}return null}function aQ(t){return!!t.getCustomProperty("table")&&lj(t)}function cQ(t){return(cQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lQ(t,e){return(lQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=pQ(t);if(e){var o=pQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hQ(this,n)}}function hQ(t,e){return!e||"object"!==cQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pQ(t){return(pQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var dQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lQ(t,e)}(i,t);var e,n,r,o=fQ(i);function i(){return uQ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[tN]}},{key:"pluginName",get:function(){return"TableToolbar"}}],(n=[{key:"afterInit",value:function(){var t=this.editor,e=t.t,n=t.plugins.get(tN),r=t.config.get("table.contentToolbar"),o=t.config.get("table.tableToolbar");r&&n.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:iQ}),o&&n.register("table",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:oQ})}}])&&sQ(e.prototype,n),r&&sQ(e,r),i}(ye);function yQ(t){return(yQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bQ(t,e){return(bQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=kQ(t);if(e){var o=kQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wQ(this,n)}}function wQ(t,e){return!e||"object"!==yQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kQ(t){return(kQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bQ(t,e)}(i,t);var e,n,r,o=gQ(i);function i(){return mQ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"UnderlineEditing"}}],(n=[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"underline"}),t.model.schema.setAttributeProperties("underline",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"underline",view:"u",upcastAlso:{styles:{"text-decoration":"underline"}}}),t.commands.add("underline",new sP(t,"underline")),t.keystrokes.set("CTRL+U","underline")}}])&&vQ(e.prototype,n),r&&vQ(e,r),i}(ye);function SQ(t){return(SQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function AQ(t,e){return(AQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function PQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=RQ(t);if(e){var o=RQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return EQ(this,n)}}function EQ(t,e){return!e||"object"!==SQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function RQ(t){return(RQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var TQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AQ(t,e)}(i,t);var e,n,r,o=PQ(i);function i(){return xQ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"UnderlineUI"}}],(n=[{key:"init",value:function(){var t=this,e=this.editor,n=e.t;e.ui.componentFactory.add("underline",function(r){var o=e.commands.get("underline"),i=new Nk(r);return i.set({label:n("Underline"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>',keystroke:"CTRL+U",tooltip:!0,isToggleable:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),t.listenTo(i,"execute",function(){e.execute("underline"),e.editing.view.focus()}),i})}}])&&OQ(e.prototype,n),r&&OQ(e,r),i}(ye);function jQ(t){return(jQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function CQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MQ(t,e){return(MQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function DQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=BQ(t);if(e){var o=BQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return NQ(this,n)}}function NQ(t,e){return!e||"object"!==jQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BQ(t){return(BQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&MQ(t,e)}(i,t);var e,n,r,o=DQ(i);function i(){return CQ(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[_Q,TQ]}},{key:"pluginName",get:function(){return"Underline"}}],(n=null)&&IQ(e.prototype,n),r&&IQ(e,r),i}(ye);function LQ(t){t.conversion.for("downcast").attributeToElement({model:"italic",view:"em",converterPriority:"high"})}LQ.pluginName="ItalicAsEm";var FQ=function(t,e){var n=t.createElement("eqnEditorFormula",{latex:e});return n.data=e,n},VQ=function(){return"https:"===document.location.protocol?"https://":"http://"},qQ=n(90),UQ=n.n(qQ);function HQ(t){return(HQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function WQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function GQ(t,e){return(GQ=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function KQ(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=JQ(t);if(e){var o=JQ(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return YQ(this,n)}}function YQ(t,e){return!e||"object"!==HQ(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function JQ(t){return(JQ=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var XQ=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&GQ(t,e)}(i,t);var e,n,r,o=KQ(i);function i(){return WQ(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){var t=this;window.addEventListener("mousemove",function(){t.adjustHoverPosition()}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),window.eqnEditorInstanceCounter=window.eqnEditorInstanceCounter?window.eqnEditorInstanceCounter:0,this.dependencyCount=0,this.view=null,this.loadAssetDependencies();var e=this.editor;this.editor.config.define("eqnEditorConfig",{design:"full"}),e.ui.componentFactory.add("EqnEditor",function(n){var r=e.commands.get("eqnEditor");return t.view=new Nk(n),t.view.isEnabled=!1,t.view.set({label:"Insert Equation",icon:'<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="16.000000pt" height="16.000000pt" viewBox="0 0 16.000000 16.000000"\n preserveAspectRatio="xMidYMid meet">\n\n<g transform="translate(0.000000,16.000000) scale(0.100000,-0.100000)"\nfill="#000000" stroke="none">\n<path d="M52 148 c-7 -7 -12 -16 -12 -21 0 -6 -8 -16 -17 -23 -12 -9 -14 -13\n-5 -14 10 0 12 -12 7 -47 -6 -45 -5 -47 9 -29 9 11 16 32 16 48 0 21 5 28 20\n28 11 0 20 5 20 10 0 6 -7 10 -15 10 -22 0 -18 21 5 27 11 3 20 9 20 14 0 13\n-34 11 -48 -3z"/>\n<path d="M102 74 c1 -12 -3 -29 -11 -38 -13 -16 -12 -17 12 -11 18 5 27 3 27\n-5 0 -6 4 -9 9 -6 5 3 7 15 4 25 -3 10 0 22 6 25 6 4 11 12 11 18 0 7 -6 6\n-15 -2 -12 -10 -18 -10 -31 1 -14 11 -15 10 -12 -7z"/>\n</g>\n</svg>\n',tooltip:!0}),t.view.bind("isEnabled").to(r),t.view.on("execute",function(){return t.openEqnEditor()}),t.view}),e.editing.view.addObserver(hA),e.editing.view.addObserver(wT),this.listenTo(e.editing.view.document,"click",function(e,n){2===n.domEvent.detail&&n.domTarget.closest(".eqneditor-formula")&&(t.openEqnEditor(),e.stop())},{priority:"highest"}),this.listenTo(e.editing.view.document,"clipboardInput",function(t,n){if(!e.isReadOnly){var r=n.dataTransfer.getData("text/html"),o=UQ()(r,/<figure class="image.*?"><img.*?src="(?!(\.\/|\/|data:image)).*?".*?>(<\/img>)?(<figcaption.*?>.*?<\/figcaption>)?<\/figure>/g,"");o=UQ()(o,/<img.*?src="(?!(\.\/|\/|data:image)).*?".*?>(<\/img>)?/g,""),(o=UQ()(o,/\<google\-sheets\-html\-origin\>\<style type\="text\/css"\>.*?\<\/style\>/g,"")).length<r.length&&(n.content=e.data.htmlProcessor.toView(o))}},{priority:"highest"})}},{key:"loadAssetDependencies",value:function(){this.injectCodeCogsStylesheet("/eqneditor/css/equation-embed.css"),this.injectCodeCogsScript("/eqneditor/js/eq_config.js"),this.injectCodeCogsScript("/eqneditor/js/eq_editor-lite-19.js")}},{key:"injectCodeCogsStylesheet",value:function(t){var e=this;this.dependencyCount++;var n=document.createElement("link");n.onload=function(){return e.onDependencyLoaded()},n.rel="stylesheet",n.type="text/css",n.href=this.getBaseCodeCogsUrl()+t,document.head.appendChild(n)}},{key:"injectCodeCogsScript",value:function(t){var e=this;this.dependencyCount++;var n=document.createElement("script");n.onload=function(){return e.onDependencyLoaded()},n.src=this.getBaseCodeCogsUrl()+t,document.head.appendChild(n)}},{key:"onDependencyLoaded",value:function(){this.dependencyCount--,0===this.dependencyCount&&(this.view.isEnabled=!0)}},{key:"getBaseCodeCogsUrl",value:function(){return VQ()+"private.codecogs.com"}},{key:"adjustHoverPosition",value:function(){var t=document.getElementById("hover");t&&(t.style.marginTop=-window.scrollY+"px")}},{key:"openEqnEditor",value:function(){this.editor.execute("eqnEditor")}}])&&$Q(e.prototype,n),r&&$Q(e,r),i}(ye),ZQ=n(121),QQ=n.n(ZQ),t0=n(168),e0=n.n(t0);function n0(t){return(n0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r0(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return o0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o0(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function o0(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c0(t,e){return(c0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=l0(t);if(e){var o=l0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s0(this,n)}}function s0(t,e){return!e||"object"!==n0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l0(t){return(l0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c0(t,e)}(i,t);var e,n,r,o=u0(i);function i(){return i0(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){this.openEqnEditor()}},{key:"openEqnEditor",value:function(){var t=this;window.eqnEditorInstanceCounter++;var e=this.getEqnEditorHtml(),n=this.createElementFromHTML(e);e0()({content:n,className:"eqneditor",buttons:{cancel:{text:"Cancel",visible:!0},confirm:{text:"Done",visible:!0}}}).then(function(e){e&&t.onOk()}),this.onLoad()}},{key:"onOk",value:function(){var t=this.editor;t.model.change(function(e){var n=EqEditor.getTextArea().getLaTeX(),r=t.model.document.selection;if(n){var o=FQ(e,n);t.model.insertContent(o,r)}else t.model.deleteContent(r);EqEditor.Example.add_history(EqEditor.getTextArea().getLaTeX())})}},{key:"onLoad",value:function(){var t,e=this.editor,n="",r=r0(e.editing.view.document.selection.getFirstRange().getItems());try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.is("node")&&this.elementIsFormulaElement(o)){n=o.getAttribute("data-value");break}}}catch(t){r.e(t)}finally{r.f()}var i=e.config.get("eqnEditorConfig.design");EqEditor.embed("ccToolbar"+window.eqnEditorInstanceCounter,"",i),EqEditor.add(new EqTextArea("ccEquation"+window.eqnEditorInstanceCounter,"ccLatex"+window.eqnEditorInstanceCounter),!1),EqEditor.getTextArea().setText(n)}},{key:"elementIsFormulaElement",value:function(t){return!!t&&t.hasClass("eqneditor-formula")}},{key:"_checkEnabled",value:function(){var t=this.editor.model,e=t.document.selection;return t.schema.checkChild(e.focus.parent,"eqnEditorFormula")}},{key:"getEqnEditorHtml",value:function(){var t="ccToolbar"+window.eqnEditorInstanceCounter,e='<div class="'.concat("eqneditor",'-toolbar" id="').concat(t,'"></div>'),n="ccLatex"+window.eqnEditorInstanceCounter,r='<label class="'.concat("eqneditor",'-input-label" for="').concat(n,'">Equation (LaTeX):</label>'),o='<textarea class="'.concat("eqneditor",'-input" id="').concat(n,'"></textarea>'),i="ccEquation"+window.eqnEditorInstanceCounter,a='<label class="'.concat("eqneditor",'-preview-label" for="').concat(i,'">Preview:</label>'),c='<img class="'.concat("eqneditor",'-preview" id="').concat(i,'" src ="').concat(VQ(),'www.codecogs.com/images/spacer.gif"/>'),u='<img src="'.concat(VQ(),'latex.codecogs.com/images/poweredbycc.gif" alt="Powered by CodeCogs"/>'),s='<a href="http://www.codecogs.com" target="_blank">'.concat(u,"</a>"),l='<div class="'.concat("eqneditor",'-info">').concat(s,"</div>"),f='<span class="'.concat("eqneditor",'-close-btn" onclick="swal.close()">X</span>'),h='<div class="'.concat("eqneditor",'-title">CodeCogs Equation Editor').concat(f,"</div>");return"<div>".concat(h+e+r+o+a+c+l,"</div>")}},{key:"createElementFromHTML",value:function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}}])&&a0(e.prototype,n),r&&a0(e,r),i}(be);function h0(t){return(h0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y0(t,e){return(y0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=b0(t);if(e){var o=b0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v0(this,n)}}function v0(t,e){return!e||"object"!==h0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b0(t){return(b0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y0(t,e)}(i,t);var e,n,r,o=m0(i);function i(){return p0(this,i),o.apply(this,arguments)}return e=i,r=[{key:"requires",get:function(){return[tC]}}],(n=[{key:"init",value:function(){this._defineSchema(),this._defineConverters(),this.editor.commands.add("eqnEditor",new f0(this.editor))}},{key:"_defineSchema",value:function(){this.editor.model.schema.register("eqnEditorFormula",{isObject:!0,isInline:!0,allowWhere:"$text",allowAttributes:["latex"]})}},{key:"_defineConverters",value:function(){var t=this.editor.conversion;t.for("upcast").elementToElement({view:{name:"span",classes:["eqneditor-formula"]},model:function(t,e){var n=e.writer,r=t.getAttribute("data-value");return FQ(n,r)}}),t.for("dataDowncast").elementToElement({model:"eqnEditorFormula",view:function(t,e){var n=e.writer,r=t.getAttribute("latex");return n.createRawElement("span",{class:"eqneditor-formula","data-value":r},function(t){t.innerHTML=QQ.a.renderToString(r,{throwOnError:!1})})}}),t.for("editingDowncast").elementToElement({model:"eqnEditorFormula",view:function(t,e){var n=e.writer,r=t.getAttribute("latex"),o=n.createContainerElement("span",{class:"eqneditor-formula","data-value":r}),i=n.createRawElement("span",{class:"ck-raw-element"},function(t){t.innerHTML=QQ.a.renderToString(r,{throwOnError:!1})});return n.insert(n.createPositionAt(o,0),i),fj(o,n)}})}}])&&d0(e.prototype,n),r&&d0(e,r),i}(ye);function w0(t){return(w0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S0(t,e){return(S0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=A0(t);if(e){var o=A0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O0(this,n)}}function O0(t,e){return!e||"object"!==w0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A0(t){return(A0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S0(t,e)}(i,t);var e,n,r,o=x0(i);function i(){return k0(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"EqnEditor"}},{key:"requires",get:function(){return[g0,XQ,dI]}}],(n=null)&&_0(e.prototype,n),r&&_0(e,r),i}(ye);function E0(t){return(E0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j0(t,e){return(j0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=M0(t);if(e){var o=M0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(t,e){return!e||"object"!==E0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M0(t){return(M0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j0(t,e)}(i,t);var e,n,r,o=C0(i);function i(){return R0(this,i),o.apply(this,arguments)}return e=i,r=[{key:"pluginName",get:function(){return"ImageCustomAttribute"}},{key:"requires",get:function(){return[XN]}}],(n=[{key:"init",value:function(){var t=this.editor,e=t.plugins.get("ImageUtils"),n=[],r=t.config.get("image.customAttribute.name")||"data-custom-attribute",o=!0===t.config.get("image.customAttribute.shouldApplyOnImg");["imageBlock","imageInline"].forEach(function(e){t.model.schema.getDefinition(e)&&(t.model.schema.extend(e,{allowAttributes:"imageCustomAttribute"}),n.push(e))}),t.conversion.for("upcast").attributeToAttribute({view:r,model:"imageCustomAttribute"}),n.forEach(function(n){t.conversion.for("downcast").add(function(t){var e=t.elementName,n=t.attributeInModel,r=t.attributeInView,o=t.imageUtils,i=t.shouldApplyOnImg;return function(t){t.on("attribute:".concat(n,":").concat(e),function(t,e,n){if(n.consumable.consume(e.item,t.name)){var a=n.writer,c=n.mapper.toViewElement(e.item);i&&(c=o.findViewImgElement(c)),null===e.attributeNewValue?a.removeAttribute(r,c):a.setAttribute(r,e.attributeNewValue,c)}})}}({elementName:n,attributeInView:r,attributeInModel:"imageCustomAttribute",imageUtils:e,shouldApplyOnImg:o}))})}}])&&T0(e.prototype,n),r&&T0(e,r),i}(ye);function N0(t){return(N0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z0(t,e){return(z0=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L0(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=V0(t);if(e){var o=V0(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F0(this,n)}}function F0(t,e){return!e||"object"!==N0(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V0(t){return(V0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q0=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z0(t,e)}(n,t);var e=L0(n);function n(){return B0(this,n),e.apply(this,arguments)}return n}(QA);q0.builtinPlugins=[IP,fT,UD,oL,aU,VL,D0,FF,KF,lV,gV,CU,nH,rE,LQ,SW,JW,x$,rq,K$,bG,rQ,dQ,zQ,P0];e.default=q0}]).default;
//# sourceMappingURL=https://www.coursehero.com/sym-assets/js/bundle-18fd957-055c2e0.js.map